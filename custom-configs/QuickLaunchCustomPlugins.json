[
  {
    "name": "è‡ªå®šä¹‰æ–‡æœ¬è½¬æ¢",
    "code": "const { addPlugin, copy } = window.$qlUtils\r\n\r\nconst labelArr = [\r\n  {\r\n    reg: /^é˜¿æ‹‰ä¼¯è¯­ï¼š|^Arabic:|^ar:/,\r\n    name: 'Ø¹Ø±Ø¨Ù‰',\r\n    iso: 'ar-AE',\r\n    mLocale: 'ar',\r\n  },\r\n  {\r\n    reg: /^å¾·ï¼š|^å¾·è¯­ï¼š|^German:|^de:/,\r\n    name: 'Deutsch',\r\n    iso: 'de-DE',\r\n    mLocale: 'de',\r\n  },\r\n  {\r\n    reg: /^è‹±ï¼š|^è‹±è¯­ï¼š|^English:|^en:/,\r\n    name: 'English',\r\n    iso: 'en-US',\r\n    mLocale: 'en',\r\n  },\r\n  {\r\n    reg: /^è¥¿ï¼š|^è¥¿è¯­ï¼š|^è¥¿ç­ç‰™è¯­ï¼š|^Spanish:|^es:/,\r\n    name: 'EspaÃ±ol',\r\n    iso: 'es-ES',\r\n    mLocale: 'es',\r\n  },\r\n  {\r\n    reg: /^æ³•ï¼š|^æ³•è¯­ï¼š|^French:|^fr:/,\r\n    name: 'FranÃ§ais',\r\n    iso: 'fr-FR',\r\n    mLocale: 'fr',\r\n  },\r\n  {\r\n    reg: /^æ„ï¼š|^æ„å¤§åˆ©è¯­ï¼š|^Italian:|^it:/,\r\n    name: 'Italiano',\r\n    iso: 'it-IT',\r\n    mLocale: 'it',\r\n  },\r\n  {\r\n    reg: /^æ—¥ï¼š|^æ—¥è¯­ï¼š|^Japanese:|^jp:/,\r\n    name: 'æ—¥æœ¬èª',\r\n    iso: 'ja-JP',\r\n    mLocale: 'jp',\r\n  },\r\n  {\r\n    reg: /^éŸ©ï¼š|^éŸ©è¯­ï¼š|^Korean:|^kr:/,\r\n    name: 'í•œêµ­ì–´',\r\n    iso: 'ko-KR',\r\n    mLocale: 'kr',\r\n  },\r\n  {\r\n    reg: /^ç®€ï¼š|^ä¸­æ–‡ï¼š|^ç®€ä¸­ï¼š|^Chinese Simplified:/,\r\n    name: 'ç®€ä½“ä¸­æ–‡',\r\n    iso: 'zh-CN',\r\n    mLocale: 'cn',\r\n  },\r\n  {\r\n    reg: /^ç¹ï¼š|^ç¹ä½“ä¸­æ–‡ï¼š|^ç¹ä¸­ï¼š|^Traditional Chinese:/,\r\n    name: 'ç¹é«”ä¸­æ–‡',\r\n    iso: 'zh-TW',\r\n    mLocale: 'zh',\r\n  },\r\n]\r\nfunction getLocaleLabel(rawText) {\r\n  if (!rawText) {\r\n    return null\r\n  }\r\n  for (let i = 0; i < labelArr.length; i++) {\r\n    const { reg, iso } = labelArr[i]\r\n    const result = reg.exec(rawText)\r\n    // console.log(result)\r\n    if (result) {\r\n      return {\r\n        label: iso,\r\n        value: rawText.slice(result[0].length, rawText.length).trim(),\r\n      }\r\n    }\r\n  }\r\n  return rawText\r\n}\r\nfunction convertText(text) {\r\n  const lines = text.trim().split('\\n')\r\n  return lines\r\n    .map((line) => {\r\n      return getLocaleLabel(line)\r\n    })\r\n    .filter(Boolean)\r\n}\r\n\r\nfunction convertObject(obj) {\r\n  try {\r\n\r\n    const result = {}\r\n    for (const key in obj) {\r\n      let value = obj[key] || ''\r\n\r\n      if (typeof value !== 'string') {\r\n        throw new Error('è¾“å…¥æ ¼å¼é”™è¯¯ï¼Œè¯·æ‰“å¼€æ§åˆ¶å°æ£€æŸ¥')\r\n      }\r\n\r\n      let locale = key\r\n      const f = labelArr.find((l) => l.name === key)\r\n      if (f) {\r\n        locale = f.mLocale\r\n      }\r\n      /**\r\n       * åˆ é™¤ç‰ˆæœ¬å·çš„è¯´æ˜ï¼ˆç”¨äºlatest.jsonçš„å¤šè¯­è¨€å†…å®¹ï¼‰\r\n       * ç¤ºä¾‹è¾“å…¥ï¼š\r\n       * v8.2.3.1 Updates<br><br>1. Support RTSP\r\n       * ç¤ºä¾‹è¾“å‡ºï¼š\r\n       * 1. Support RTSP\r\n       */\r\n      value = value.replace(/v\\d+\\.\\d+\\.\\d+\\.\\d+\\s.+\\<br\\>\\<br\\>/, '');\r\n      result[locale] = value\r\n    }\r\n    return result\r\n  } catch (e) {\r\n    console.error(e)\r\n    window.$message.error(e.message)\r\n  }\r\n}\r\n\r\naddPlugin((valRef) => {\r\n  return {\r\n    html: 'ğŸ’± <span style=\"color: #00a6ed\">è‡ªå®šä¹‰æ–‡æœ¬è½¬æ¢</span>',\r\n    children: [\r\n      {\r\n        label: 'âŒ¨ï¸ å¤šè¯­è¨€å¤šè¡Œæ–‡æœ¬ -> JSONæ•°ç»„(ISO)',\r\n        props: {\r\n          onClick: async () => {\r\n\r\n            if (!valRef.value) {\r\n              window.$message.warning('è¯·æ‰“å¼€æ§åˆ¶å°ï¼ŒæŸ¥çœ‹ç¤ºä¾‹')\r\n              console.log(`ç”¨é€”ï¼šå°†ç²˜è´´çš„GPTç”Ÿæˆçš„ç¿»è¯‘æ–‡æ¡ˆ è½¬æ¢ä¸º æ ‡å‡†åŒ–(ISO)JSONæ•°ç»„ã€‚\r\n\r\nç¤ºä¾‹è¾“å…¥ï¼š\r\nEnglish: Supports WindowsÂ® 10 and above, macOSÂ® 11 and above.\r\nSpanish: Compatible con WindowsÂ® 10 y versiones superiores, macOSÂ® 11 y versiones superiores.\r\nJapanese: WindowsÂ® 10 ãŠã‚ˆã³ãã‚Œä»¥é™ã€macOSÂ® 11 ãŠã‚ˆã³ãã‚Œä»¥é™ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚\r\n\r\nç¤ºä¾‹è¾“å‡ºï¼š\r\n[\r\n  {\r\n    \"label\": \"en-US\",\r\n    \"value\": \"Supports WindowsÂ® 10 and above, macOSÂ® 11 and above.\"\r\n  },\r\n  {\r\n    \"label\": \"es-ES\",\r\n    \"value\": \"Compatible con WindowsÂ® 10 y versiones superiores, macOSÂ® 11 y versiones superiores.\"\r\n  },\r\n  {\r\n    \"label\": \"ja-JP\",\r\n    \"value\": \"WindowsÂ® 10 ãŠã‚ˆã³ãã‚Œä»¥é™ã€macOSÂ® 11 ãŠã‚ˆã³ãã‚Œä»¥é™ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚\"\r\n  }\r\n]\r\n`)\r\n              return\r\n            }\r\n\r\n            await copy(convertText(valRef.value), true)\r\n          },\r\n        },\r\n      },\r\n      {\r\n        label: 'âŒ¨ï¸ å¤šè¯­è¨€JSONå¯¹è±¡ -> JSONå¯¹è±¡(locale)',\r\n        props: {\r\n          onClick: async () => {\r\n\r\n            if (!valRef.value) {\r\n              window.$message.warning('è¯·æ‰“å¼€æ§åˆ¶å°ï¼ŒæŸ¥çœ‹ç¤ºä¾‹')\r\n              console.log(`ç”¨é€”ï¼šæ‰¹é‡æ ¼å¼åŒ–excelçš„æ›´æ–°å†…å®¹åˆ°latest.json ã€‚\r\n\r\nç¤ºä¾‹è¾“å…¥ï¼š\r\n{\r\n  \"English\": \"v8.2.3.1 Updates<br><br>1. Support RTSP<br>2. Add album functionality<br>3. Adapt for OBSBOT Tail Air<br>4. Upgrade to NDI 6\",\r\n  \"ç®€ä½“ä¸­æ–‡\": \"v8.2.3.1 æ›´æ–°å†…å®¹<br><br>1. æ”¯æŒ RTSP<br>2. æ–°å¢ç›¸å†ŒåŠŸèƒ½<br>3. é€‚é…å¯»å½± Tail Air<br>4. å‡çº§è‡³ NDI 6\",\r\n  \"æ—¥æœ¬èª\": \"v8.2.3.1 ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã¤ã„ã¦<br><br>1. RTSPã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹<br>2. ã‚¢ãƒ«ãƒãƒ æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹<br>3. OBSBOT Tail Airã«å¯¾å¿œã™ã‚‹<br>4. NDI 6ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹\"\r\n}\r\n\r\nç¤ºä¾‹è¾“å‡ºï¼š\r\n{\r\n  \"en\": \"1. Support RTSP<br>2. Add album functionality<br>3. Adapt for OBSBOT Tail Air<br>4. Upgrade to NDI 6\",\r\n  \"cn\": \"1. æ”¯æŒ RTSP<br>2. æ–°å¢ç›¸å†ŒåŠŸèƒ½<br>3. é€‚é…å¯»å½± Tail Air<br>4. å‡çº§è‡³ NDI 6\",\r\n  \"jp\": \"1. RTSPã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹<br>2. ã‚¢ãƒ«ãƒãƒ æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹<br>3. OBSBOT Tail Airã«å¯¾å¿œã™ã‚‹<br>4. NDI 6ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹\"\r\n}\r\n`)\r\n              return\r\n            }\r\n\r\n\r\n            await copy(convertObject(JSON.parse(valRef.value.trim())), true)\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  }\r\n}, {\r\n  isStaticPlugin: true,\r\n})\r\n"
  },
  {
    "name": "æ—¶é—´ç®¡ç†å¤§å¸ˆ",
    "code": "const { addPlugin, copy, computed, moment } = window.$qlUtils\n\nconst isTimestamp = (val) => {\n  val = Number(val)\n  const d = new Date(val)\n  if (d.getTime() > 0) {\n    return d\n  }\n  return false\n}\n\naddPlugin((valRef) => {\n  return {\n    html: 'âŒš <span style=\"color: #5235a6\">æ—¶é—´ç®¡ç†å¤§å¸ˆ</span>',\n    children: () => {\n      return computed(() => {\n        const fmt = valRef.value || 'YYYY-MM-DD HH:mm:ss'\n        const ts = Date.now()\n        const formattedTime = moment(ts).format(fmt)\n\n        let timestampToDisplay\n\n        const tsDate = isTimestamp(valRef.value)\n        if (tsDate) {\n          const display = moment(tsDate).format('YYYY-MM-DD HH:mm:ss')\n          timestampToDisplay = {\n            label: `ğŸ“‹ æ—¶é—´æˆ³è½¬æ—¶é—´å±•ç¤º\\nç»“æœ: ${display}`,\n            props: { onClick: () => copy(display, true) },\n          }\n        } else {\n          timestampToDisplay = {\n            label: `ğŸ“‹ æ ¼å¼åŒ–æ—¶é—´ (æ ¼å¼: ${fmt})\\nç»“æœ: ${formattedTime}`,\n\n            props: {\n              onClick: async () => {\n                await copy(formattedTime, true)\n              },\n            },\n          }\n        }\n\n        return [\n          timestampToDisplay,\n          !valRef.value ?\n            {\n              label: `ğŸ“‹ å½“å‰æ—¶é—´æˆ³\\n${ts}`,\n              props: {\n                onClick: async () => {\n                  await copy(ts, true)\n                },\n              },\n            } :\n            {\n              label: `ğŸ“‹ è½¬æ¢è¾“å…¥å€¼ä¸ºæ—¶é—´æˆ³`,\n              props: {\n                onClick: async () => {\n                  const result = moment(valRef.value).unix() * 1000\n                  if (!result) {\n                    window.$message.error('è¯·è¾“å…¥ç±»ä¼¼äº 2024-05-13 09:54:44 çš„å€¼æ¥è¿›è¡Œè½¬æ¢ï¼')\n                    return\n                  }\n                  await copy(result, true)\n                },\n              },\n            },\n        ].filter(Boolean)\n      })\n    }\n  }\n}, {\n  isStaticPlugin: true,\n})\n"
  }
]
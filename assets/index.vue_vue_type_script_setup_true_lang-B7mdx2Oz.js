import{d as e,t as l,c as a,r as t,K as n,_ as s,o as u,b as o,k as d,v as i,e as r,l as p,f as c,g as m,h as v,Z as f,$ as y,S as b,F as h,m as k,p as w,L as g,P as x,x as V,W as _,N as U,c3 as I,bx as C,Q as T,a8 as E,aG as N,c4 as S,ar as F,bJ as L,bK as M,bL as A,c5 as B,O as D,aA as R,c6 as O,c7 as z}from"./index-D7imv_Md.js";/* empty css                  */import{R as P}from"./RectSwitch-DEmfWnCV.js";var H=(e=>(e.SWITCH="switch",e.MULTIPLE_SWITCH="multiple_switch",e.SLIDER="slider",e.SELECT="select",e.INPUT="input",e.INPUT_NUMBER="input_number",e.COLOR_PICKER="color_picker",e.DYNAMIC_TAGS="dynamic_tags",e))(H||{});const K=["#258292","#3A6EA5","#F0C869","#E81123","#e91e63","#FFFFFF","#000000","#007aff","#a2845e","#8e8e93","#28cd41","#5856d6","#ff9500","#ff2d55","#af52de","#ff3b30","#5ac8fa","#ffcc00"];const j=e({name:"AdvancedNumberInput",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},isDebug:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:Number,max:Number,step:{type:Number,default:1},format:Function,parse:Function,marks:{type:Object}},setup(e,{emit:s}){const{marks:u,step:o,min:d,max:i,modelValue:r,readonly:p,disabled:c}=l(e),m=a({get:()=>e.modelValue,set:e=>s("update:modelValue",e)}),v=a((()=>{if(!u.value)return null;const e=[];return Object.keys(u.value).forEach((l=>{e.push(Number(l))})),e.sort(((e,l)=>e-l))})),f=e=>{const l=v.value;if(l){let a=l.findIndex((e=>e===m.value));if(a<0){a=function(e,l){let a=-1,t=l[0],n=Math.abs(e-l[0]);for(let s=1;s<l.length;s++){const u=Math.abs(e-l[s]);u<n&&(a=s,t=l[s],n=u)}return{index:a,value:t}}(m.value,l).index,a<0&&(console.error("number not found!",{idx:a,numbers:l,mValue:m.value,isNext:e}),a=0)}if(e){if(void 0!==l[a+1])return l[a+1]}else if(void 0!==l[a-1])return l[a-1]}return null},y=a((()=>{if(v.value)return f(!0);const e=i.value,l=(a=m.value,t=o.value,a+t);var a,t;return void 0!==e?l<=e?l:null:l})),b=a((()=>null!==y.value)),h=a((()=>{if(v.value)return f(!1);const e=d.value,l=(a=m.value,t=o.value,a-t);var a,t;return void 0!==e?l>=e?l:null:l})),k=a((()=>null!==h.value)),w=t(""),g=l=>e.format?e.format(l):String(l);n(r,(e=>{w.value=g(e)}),{immediate:!0});const x=()=>{if(p.value||c.value)return;let l;l=e.parse?e.parse(String(w.value))||0:Number(w.value)||0,void 0!==e.max&&l>e.max&&(l=e.max),void 0!==e.min&&l<e.min&&(l=e.min),e.step&&(l=Math.round(l/e.step)*e.step),m.value=l,w.value=g(l)},V=t(!1);return{mValue:m,handleUp:()=>{b.value&&!e.disabled&&(m.value=y.value)},handleDown:()=>{k.value&&!e.disabled&&(m.value=h.value)},isAllowUp:b,isAllowDown:k,nextUpValue:y,nextDownValue:h,marksNumberArray:v,inputValue:w,handleBlur:()=>{x(),V.value=!1},handleEnter:x,handleFocus:()=>{V.value=!0},isFocused:V}}}),W=e=>(f("data-v-3a805b02"),e=e(),y(),e),G=["readonly","disabled"],J={key:0,class:"debug-val"},Y={class:"toggle-wrap"},$=["disabled"],q=[W((()=>r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[r("g",{fill:"none"},[r("path",{d:"M2.146 7.354a.5.5 0 0 0 .708 0L6 4.207l3.146 3.147a.5.5 0 1 0 .708-.708l-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 0 .708z",fill:"currentColor"})])],-1)))],Q=["disabled"],Z=[W((()=>r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[r("g",{fill:"none"},[r("path",{d:"M2.146 4.646a.5.5 0 0 1 .708 0L6 7.793l3.146-3.147a.5.5 0 1 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708z",fill:"currentColor"})])],-1)))];const X=s(j,[["render",function(e,l,a,t,n,s){return u(),o("div",{class:v(["advanced-number-input",{disabled:e.disabled,focused:e.isFocused}])},[d(r("input",{"onUpdate:modelValue":l[0]||(l[0]=l=>e.inputValue=l),type:"text",class:"text-input",readonly:e.readonly,onFocus:l[1]||(l[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:l[2]||(l[2]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onKeyup:[l[3]||(l[3]=p(((...l)=>e.handleEnter&&e.handleEnter(...l)),["enter"])),l[4]||(l[4]=p(((...l)=>e.handleUp&&e.handleUp(...l)),["up"])),l[5]||(l[5]=p(((...l)=>e.handleDown&&e.handleDown(...l)),["down"]))],disabled:e.disabled},null,40,G),[[i,e.inputValue]]),e.isDebug?(u(),o("div",J,c(e.modelValue),1)):m("",!0),r("div",Y,[r("button",{onClick:l[6]||(l[6]=(...l)=>e.handleUp&&e.handleUp(...l)),class:"btn-no-style btn-up",disabled:!e.isAllowUp||e.disabled},q,8,$),r("button",{onClick:l[7]||(l[7]=(...l)=>e.handleDown&&e.handleDown(...l)),class:"btn-no-style btn-down",disabled:!e.isAllowDown||e.disabled},Z,8,Q)])],2)}],["__scopeId","data-v-3a805b02"]]),ee={class:"dynamic-tags"},le=s(e({__name:"DynamicTags",props:{modelValue:{default:[]}},emits:[],setup(e,{emit:a}){const n=e,s=a;l(n);const d=b(n,"modelValue",s),i=t(""),r=t(!1),m=t(),v=()=>{r.value=!0,U((()=>{m.value.input.focus()}))},f=()=>{i.value&&d.value.push(i.value),r.value=!1,i.value=""};return(e,l)=>{const a=I,t=C,n=T;return u(),o("div",ee,[(u(!0),o(h,null,k(V(d),(e=>(u(),w(a,{key:e,closable:"","disable-transitions":!1,onClose:l=>(e=>{d.value.splice(d.value.indexOf(e),1)})(e)},{default:g((()=>[x(c(e),1)])),_:2},1032,["onClose"])))),128)),V(r)?(u(),w(t,{key:0,ref_key:"InputRef",ref:m,modelValue:V(i),"onUpdate:modelValue":l[0]||(l[0]=e=>_(i)?i.value=e:null),class:"w-20",size:"small",onKeyup:p(f,["enter"]),onBlur:f},null,8,["modelValue"])):(u(),w(n,{key:1,class:"button-new-tag",size:"small",onClick:v},{default:g((()=>[x(" + New Tag ")])),_:1}))])}}}),[["__scopeId","data-v-2ad523a1"]]),ae=e({__name:"ItemAction",props:{item:{}},emits:["updateValue"],setup(e,{emit:t}){const n=e,{item:s}=l(n),d=t,i=S("sharedStore"),r=a({get(){const e=s.value.store||i.value;return e?e[s.value.key]:s.value.value},set(e){d("updateValue",{item:s.value,value:e});const l=s.value.store||i.value;l?l[s.value.key]=e:s.value.value=e}});return(e,l)=>{const a=F,t=C,n=L,d=M,i=A,p=B;return u(),w(p,{class:"option-item-action",size:"small",align:"center"},{default:g((()=>[V(s).type===V(H).SWITCH?(u(),w(a,E({key:0,modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e)},V(s).props),null,16,["modelValue"])):V(s).type===V(H).MULTIPLE_SWITCH?(u(),w(P,E({key:1,options:V(s).options,modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e)},V(s).props),null,16,["options","modelValue"])):V(s).type===V(H).INPUT?(u(),w(t,E({key:2,class:"option-select option-input",modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e),clearable:""},V(s).props),null,16,["modelValue"])):V(s).type===V(H).SELECT?(u(),w(d,E({key:3,modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=e=>r.value=e),placeholder:V(s).placeholder,class:"option-select",teleported:!1},V(s).props),{default:g((()=>[(u(!0),o(h,null,k(V(s).options,(e=>(u(),w(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},16,["modelValue","placeholder"])):V(s).type===V(H).DYNAMIC_TAGS?(u(),w(le,E({key:4,class:"dynamic-tags",modelValue:r.value,"onUpdate:modelValue":l[4]||(l[4]=e=>r.value=e)},V(s).props),null,16,["modelValue"])):V(s).type===V(H).COLOR_PICKER?(u(),w(i,E({key:5,modelValue:r.value,"onUpdate:modelValue":l[5]||(l[5]=e=>r.value=e)},V(s).props,{predefine:V(K)}),null,16,["modelValue","predefine"])):V(s).type===V(H).INPUT_NUMBER?(u(),w(X,E({key:6,modelValue:r.value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.value=e),disabled:V(s).disabled},V(s).props),null,16,["modelValue","disabled"])):m("",!0),V(s).actionRender?(u(),w(N,{key:7,"render-fn":V(s).actionRender},null,8,["render-fn"])):m("",!0)])),_:1})}}}),te=["data-key"],ne={class:"panel-header vp-bg"},se=["title"],ue={class:"item-label"},oe={class:"p-right"},de={style:{width:"20px",height:"20px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ie=[r("g",{fill:"none"},[r("path",{d:"M15.794 7.733a.75.75 0 0 1-.026 1.06l-5.25 5.001a.75.75 0 0 1-1.035 0l-5.25-5a.75.75 0 0 1 1.034-1.087l4.734 4.509l4.733-4.51a.75.75 0 0 1 1.06.027z",fill:"currentColor"})],-1)],re={key:0,class:"panel-body"},pe=["data-key","onClick"],ce={class:"o-left"},me=["title"],ve=["title"],fe=["src"],ye=["title"],be={class:"item-title-wrap"},he={class:"item-label-wrap"},ke={class:"item-label"},we={style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ge=[r("g",{fill:"none"},[r("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 1a7 7 0 1 0 0 14a7 7 0 0 0 0-14zm0 10.5a.75.75 0 1 1 0 1.5a.75.75 0 0 1 0-1.5zm0-8a2.5 2.5 0 0 1 1.651 4.377l-.154.125l-.219.163l-.087.072a1.968 1.968 0 0 0-.156.149c-.339.36-.535.856-.535 1.614a.5.5 0 0 1-1 0c0-1.012.293-1.752.805-2.298a3.11 3.11 0 0 1 .356-.323l.247-.185l.118-.1A1.5 1.5 0 1 0 8.5 8a.5.5 0 0 1-1 .001A2.5 2.5 0 0 1 10 5.5z",fill:"currentColor"})],-1)],xe=["innerHTML"],Ve=["innerHTML"],_e={class:"o-right"},Ue=e({__name:"OptionItem",props:{item:{},foldedKeyMap:{default:{}}},emits:["onToggleExpand","updateValue"],setup(e,{emit:t}){const n=e,{item:s,foldedKeyMap:i}=l(n),p=t,f=a((()=>!i.value[s.value.key]));return(e,l)=>{const a=O;return u(),o("div",{class:v(["c-panel-item",[V(s).cls]]),"data-key":V(s).key},[r("div",ne,[r("div",{class:"p-left",title:V(s).label},[r("div",ue,c(V(s).label),1)],8,se),r("div",oe,[!V(s).hideExpandIcon&&V(s).children&&V(s).children.length?(u(),o("div",{key:0,class:v(["btn-no-style btn-toggle-expand",{expanded:V(f)}]),onClick:l[0]||(l[0]=l=>e.$emit("onToggleExpand",V(s)))},[(u(),o("svg",de,ie))],2)):m("",!0),D(ae,{item:V(s),onUpdateValue:l[1]||(l[1]=e=>p("updateValue",e))},null,8,["item"])])]),V(s).children&&V(s).children.length?d((u(),o("div",re,[(u(!0),o(h,null,k(V(s).children,(e=>(u(),o("div",E({key:e.key,class:["sub-item",[{clickable:e.clickFn},e.cls]],"data-key":e.key,onClick:l=>{return a=l,void("function"==typeof(t=e.clickFn)&&t(a,s.value));var a,t},ref_for:!0},e.itemProps),[r("div",ce,[e.iconRender?(u(),o("div",{key:0,class:"item-icon",title:e.label},[D(N,{"render-fn":e.iconRender},null,8,["render-fn"])],8,me)):e.icon?(u(),o("div",{key:1,class:"item-icon",title:e.label},[r("img",{src:e.icon,alt:"icon"},null,8,fe)],8,ve)):e.iconClass?(u(),o("div",{key:2,class:"item-icon",title:e.label},[r("i",{class:v(e.iconClass)},null,2)],8,ye)):m("",!0),r("div",be,[r("div",he,[r("span",ke,c(e.label),1),e.tips?(u(),w(a,{key:0,effect:"light"},{content:g((()=>[r("span",{innerHTML:e.tips},null,8,xe)])),default:g((()=>[(u(),o("svg",we,ge))])),_:2},1024)):m("",!0)]),e.subtitle?(u(),o("div",{key:0,class:"item-subtitle",innerHTML:e.subtitle},null,8,Ve)):m("",!0)])]),r("div",_e,[D(ae,{item:e,onUpdateValue:l[2]||(l[2]=e=>p("updateValue",e))},null,8,["item"])])],16,pe)))),128))],512)),[[R,V(f)]]):m("",!0)],10,te)}}}),Ie={class:"option-ui"},Ce=e({name:"OptionUI",props:{optionList:{},store:{},expandId:{default:""}},emits:["onToggleExpand","updateValue"],setup(e,{emit:a}){const n="option_ui_folded_key_map",s=e,{expandId:i,store:r}=l(s),p=a;z("sharedStore",r);const c=t(JSON.parse(localStorage.getItem(n+i.value)||"null")||{}),m=e=>{c.value[e.key]?delete c.value[e.key]:c.value[e.key]=!0,localStorage.setItem(n+i.value,JSON.stringify(c.value))};return(e,l)=>(u(),o("div",Ie,[(u(!0),o(h,null,k(e.optionList,(e=>d((u(),w(Ue,{item:e,key:e.key,"folded-key-map":V(c),onOnToggleExpand:m,onUpdateValue:l[0]||(l[0]=e=>p("updateValue",e))},null,8,["item","folded-key-map"])),[[R,!e.hidden]]))),128))]))}});export{H as S,Ce as _};

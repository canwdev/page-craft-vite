import{r as e,a}from"./index-BWzdhM7Z.js";import{V as s}from"./index-B6cBd3b0.js";import{bc as t,d as o,bf as l,be as n,dR as r,e as i,bi as u,a2 as c,M as d,Q as p,r as m,y,_ as f,i as v,o as C,p as h,l as b,a as x,k as g,a1 as _,f as w,a9 as V,aq as k,D as R,U as S,V as j}from"./index-B_8g2bxo.js";import{C as z,a as P}from"./Copy20Regular-sZkODe5h.js";import{N as $}from"./Icon-CMxllykI.js";import{_ as I}from"./ButtonGroup-BslXupHZ.js";import"./use-model-wrapper-C3eqSSDB.js";const T=t("a","\n cursor: pointer;\n transition:\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier);\n text-decoration-color: var(--n-text-color);\n color: var(--n-text-color);\n"),U=o({name:"A",props:Object.assign({},n.props),setup(e){const{mergedClsPrefixRef:a,inlineThemeDisabled:s}=l(e),t=n("Typography","-a",T,r,e,a),o=i((()=>{const{common:{cubicBezierEaseInOut:e},self:{aTextColor:a}}=t.value;return{"--n-text-color":a,"--n-bezier":e}})),c=s?u("a",void 0,o,e):void 0;return{mergedClsPrefix:a,cssVars:s?void 0:o,themeClass:null==c?void 0:c.themeClass,onRender:null==c?void 0:c.onRender}},render(){var e;return null===(e=this.onRender)||void 0===e||e.call(this),c("a",{class:[`${this.mergedClsPrefix}-a`,this.themeClass],style:this.cssVars},this.$slots)}}),D=o({name:"StylusToolsDialog",components:{Copy20Regular:z,ClipboardPaste20Regular:P,VueMonaco:s},props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(s,{emit:t}){const{t:o}=d(),l=p(s,"visible",t),n=m(""),r=m(""),i=m("");function u(){try{let e=window.stylusSupermacyFormat(n.value,{tabStopChar:"  ",selectorSeparator:", ",alwaysUseZeroWithoutUnit:!0});e=e.replace(/>>>/g,"::v-deep"),e=e.replace(/\.styl/g,".scss"),r.value=e,i.value=""}catch(e){console.error(e),i.value=e.message}}y(n,(()=>{u()}));const c=async()=>{n.value=await e()},f=async()=>{await a(r.value),window.$message.success(o("msgs.copy_success"))};return{mVisible:l,textInput:n,textOutput:r,errorText:i,doFormat:u,doClear:function(){n.value="",u()},showDemo(){n.value='@require "./file.styl"\n.a,.b {\n  color  red\n  >>> .c {\n    border 1px solid currentColor\n  }\n}',u()},handleAutoPasteCopy:async()=>{await c(),setTimeout((()=>{f()}))},handlePaste:c,handleCopy:f}}}),O=e=>(S("data-v-e9a28c5b"),e=e(),j(),e),A={class:"style-tools"},B={class:"common-card"},F={class:"main-box font-code"},M={class:"input-wrapper"},q=O((()=>x("div",{class:"input-tip"},"Input Stylus Code",-1))),E={class:"input-wrapper"},G=O((()=>x("div",{class:"input-tip"},"Formatted (SCSS)",-1))),H={class:"error-box"};const N=f(D,[["render",function(e,a,s,t,o,l){const n=v("ClipboardPaste20Regular"),r=$,i=v("Copy20Regular"),u=V,c=I,d=U,p=k,m=v("VueMonaco"),y=R;return C(),h(y,{show:e.mVisible,"onUpdate:show":a[2]||(a[2]=a=>e.mVisible=a),preset:"dialog",title:`Stylus ${e.$t("common.formatting_tool")}`,style:{"min-width":"800px"}},{default:b((()=>[x("div",A,[x("div",B,[g(p,{size:"small",justify:"space-between",align:"center",class:"action-row"},{default:b((()=>[g(c,null,{default:b((()=>[g(u,{onClick:e.handleAutoPasteCopy,size:"small",type:"primary",title:e.$t("msgs.auto_paste_and_copy"),class:"focus-auto-action"},{default:b((()=>[g(r,null,{default:b((()=>[g(n)])),_:1}),_("+ "),g(r,null,{default:b((()=>[g(i)])),_:1})])),_:1},8,["onClick","title"]),g(u,{onClick:e.handlePaste,size:"small",title:"Paste"},{icon:b((()=>[g(n)])),_:1},8,["onClick"]),g(u,{onClick:e.handleCopy,size:"small",title:"Copy Result"},{icon:b((()=>[g(i)])),_:1},8,["onClick"])])),_:1}),g(d,{href:"https://thisismanta.github.io/stylus-supremacy/#demo",target:"_blank"},{default:b((()=>[_(" Stylus Supermacy ")])),_:1}),g(c,null,{default:b((()=>[g(u,{size:"small",onClick:e.doClear},{default:b((()=>[_(w(e.$t("actions.clear")),1)])),_:1},8,["onClick"]),g(u,{size:"small",onClick:e.showDemo},{default:b((()=>[_(w(e.$t("common.demo")),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),x("div",F,[x("div",M,[q,g(m,{language:"stylus",modelValue:e.textInput,"onUpdate:modelValue":a[0]||(a[0]=a=>e.textInput=a),class:"input-text"},null,8,["modelValue"])]),x("div",E,[G,g(m,{modelValue:e.textOutput,"onUpdate:modelValue":a[1]||(a[1]=a=>e.textOutput=a),language:"scss",class:"input-text"},null,8,["modelValue"])])]),x("div",H,w(e.errorText),1)])])])),_:1},8,["show","title"])}],["__scopeId","data-v-e9a28c5b"]]);export{N as default};

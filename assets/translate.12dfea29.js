import{E as q,a4 as Y,d as A,K as Z,N as P,a5 as Q,Y as W,M as k,R as X,C as R,a6 as x,a7 as ee,t as O,j as b,_ as z,o as d,c as v,a as l,e as i,m as $,F as T,a0 as _,p as m,a8 as ne,f as B,q as N,x as E,a1 as L,a9 as te,r as w,s as se,w as le,b as I,n as S,aa as ae,ab as oe,ac as ie,g as re,z as ue,a2 as pe,a3 as de}from"./index.c2c74e41.js";const me=q("collapse-transition",{width:"100%"},[Y()]),ce=Object.assign(Object.assign({},P.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),ve=A({name:"CollapseTransition",props:ce,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:o,mergedRtlRef:p}=Z(e),r=P("CollapseTransition","-collapse-transition",me,Q,e,n),u=W("CollapseTransition",p,n),t=k(()=>e.collapsed!==void 0?e.collapsed:e.show),s=k(()=>{const{self:{bezier:y}}=r.value;return{"--n-bezier":y}}),a=o?X("collapse-transition",void 0,s,e):void 0;return{rtlEnabled:u,mergedShow:t,mergedClsPrefix:n,cssVars:o?void 0:s,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){return R(ee,{appear:this.appear},{default:()=>{var e;if(!!this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),R("div",x({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),j=(e={})=>({key:e.key||"",value:e.value||""}),D=(e={})=>({namespace:e.namespace||"",children:e.children||[],translates:e.translates||[],parent:e.parent||null}),ye=(e={},n=[],o=null)=>{if(!e)return[];if(!Array.isArray(e)&&typeof e=="object")for(let p in e){const r=e[p],u=[];if(r&&!Array.isArray(r)&&typeof r=="object"){const t=D({namespace:p,translates:u,parent:o});t.children=ye(r,[],t),n.push(t)}else o&&o.translates&&o.translates.push(j({key:p,value:r}))}return n},J=(e,n={})=>(e.forEach(o=>{const p={};o.translates.forEach(r=>{p[r.key]=r.value}),J(o.children,p),n[o.namespace]=p}),n),fe=e=>e?(e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9\s]+/g,""),e=e.replace(/\s/gi,"_"),e=e.slice(0,20),e=e.replace(/_$|^_/g,""),e):"",_e=A({name:"TranslateItem",components:{},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null},isLite:{type:Boolean,default:!1}},emits:["onRemove","previewArray","onKeyClick"],setup(e,{emit:n}){const{item:o,treeItem:p}=O(e),r=k(()=>{if(!p.value)return"";const t=[];let s=p.value;for(;s;)t.push(s.namespace),s=s.parent||null;return t.reverse().join(".")}),u=k(()=>{if(!o.value||!o.value.value&&!o.value.key)return"";let t=o.value.key;return r.value&&(t=r.value+"."+t),t});return{namespacePrefix:r,nameDisplay:u,handleCopy(t){let s=`$t('${u.value}')`;t==="html"?s=`{{ $t('${u.value}') }}`:t==="v-html"?s=`v-html="$t('${u.value}')"`:t==="js"&&(s=`this.$t('${u.value}')`),b(s),window.$message.success("Text Copied")},handleBlur(){o.value.key||(o.value.key=fe(o.value.value))},handleInputKeyClick(){n("onKeyClick",u.value)}}}});const he=m(" \u{1F4DD} Array "),ge=m(" $() "),Ce=m(ne("{{ }}")),ke=m(" v-html "),we=m(" this.$t "),$e=m("\xD7 Del"),Te=m(" Remove Item? ");function Ae(e,n,o,p,r,u){const t=B,s=N,a=E,y=L,C=te;return e.item?(d(),v(C,{key:0,size:"small",class:"translate-item"},{default:l(()=>[i(a,{size:"small",justify:"space-between"},{default:l(()=>[i(a,{size:"small",align:"center"},{default:l(()=>[i(t,{size:"small",class:"font-code translate-item-input-key",value:e.item.key,"onUpdate:value":n[0]||(n[0]=f=>e.item.key=f),placeholder:"key",onClick:e.handleInputKeyClick},null,8,["value","onClick"]),e.isLite?_("",!0):(d(),$(T,{key:0},[Array.isArray(e.item.value)?(d(),v(s,{key:1,title:e.item.value,size:"small",style:{width:"350px"},onClick:n[2]||(n[2]=f=>e.$emit("previewArray",e.item))},{default:l(()=>[he]),_:1},8,["title"])):(d(),v(t,{key:0,type:"textarea",rows:"1",size:"small",style:{width:"350px"},value:e.item.value,"onUpdate:value":n[1]||(n[1]=f=>e.item.value=f),placeholder:"value",onBlur:e.handleBlur},null,8,["value","onBlur"]))],64)),!e.isLite&&e.nameDisplay?(d(),v(a,{key:1,size:"small"},{default:l(()=>[i(t,{class:"font-code",size:"small",style:{width:"300px"},value:`$t('${e.nameDisplay}')`,readonly:""},null,8,["value"]),i(s,{size:"small",onClick:e.handleCopy,title:"Copy Original $('')"},{default:l(()=>[ge]),_:1},8,["onClick"]),i(s,{size:"small",type:"info",onClick:n[3]||(n[3]=f=>e.handleCopy("html")),title:"Copy HTML template"},{default:l(()=>[Ce]),_:1}),i(s,{size:"small",type:"success",onClick:n[4]||(n[4]=f=>e.handleCopy("v-html")),title:"Copy v-html template"},{default:l(()=>[ke]),_:1}),i(s,{size:"small",type:"warning",onClick:n[5]||(n[5]=f=>e.handleCopy("js")),title:"Copy JavaScript"},{default:l(()=>[we]),_:1})]),_:1})):_("",!0),i(y,{onPositiveClick:n[6]||(n[6]=f=>e.$emit("onRemove"))},{trigger:l(()=>[i(s,{style:{"margin-left":"15px"},size:"small",type:"error"},{default:l(()=>[$e]),_:1})]),default:l(()=>[Te]),_:1})]),_:1}),i(a)]),_:1})]),_:1})):_("",!0)}const K=z(_e,[["render",Ae],["__scopeId","data-v-dd86afaf"]]),Ie=A({name:"TranslateTreeItem",components:{TranslateItem:K},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0},isLite:{type:Boolean,default:!1}},emits:["onRemove","onKeyClick"],setup(e){const{item:n}=O(e),o=()=>{console.log("[handleAddChildren]"),n.value.children.push(D({parent:n.value}))},p=()=>{console.log("[handleAddTranslate]"),n.value.translates.push(j())},r=w(!0),u=w(!1),t=se(null),s=w(null);return le(u,a=>{a||(t.value=null,s.value=null)}),{handleAddChildren:o,handleAddTranslate:p,handleGetJSON(){const a=J([n.value]);console.log(a),b(JSON.stringify(a,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(a){const y=[...n.value.children];y.splice(a,1),n.value.children=y},handleRemoveItem(a){const y=[...n.value.translates];y.splice(a,1),n.value.translates=y},isExpand:r,isShowPreviewArray:u,currentPreviewItem:t,currentArrayString:s,handlePreviewArray(a){t.value=a,s.value=JSON.stringify(a.value,null,2),u.value=!0},handleSaveArray(){t.value&&(t.value.value=JSON.parse(s.value||"[]"),u.value=!1)}}}});const U=e=>(pe("data-v-732f8439"),e=e(),de(),e),Re={style:{display:"flex"}},Se=U(()=>I("span",{style:{color:"darkseagreen"}},"\xA7",-1)),Pe=m("Copy JSON"),Oe=m("\xD7"),be=m(" Remove Group? "),ze=m(" \u{1F440} "),Be=m(" \u{1F648} "),Ne=m("+ Translate"),Ee=U(()=>I("div",{style:{"border-top":"1px dashed darkseagreen","margin-top":"10px","margin-bottom":"10px"}},null,-1)),Le=m("+ Children");function je(e,n,o,p,r,u){const t=B,s=N,a=L,y=ae,C=E,f=K,V=oe,F=ie("TranslateTreeItem",!0),G=ve,H=re,M=ue;return e.item?(d(),v(M,{key:0,size:"small",class:"tree-item"},{default:l(()=>[I("div",Re,[i(t,{class:"font-code",value:e.item.namespace,"onUpdate:value":n[0]||(n[0]=c=>e.item.namespace=c),placeholder:"namespace",style:{flex:"1"}},{prefix:l(()=>[Se]),_:1},8,["value"]),i(C,{style:{"margin-left":"10px"},align:"center"},{default:l(()=>[e.isLite?_("",!0):(d(),v(s,{key:0,type:"info",onClick:e.handleGetJSON},{default:l(()=>[Pe]),_:1},8,["onClick"])),e.isRoot?_("",!0):(d(),v(a,{key:1,onPositiveClick:n[1]||(n[1]=c=>e.$emit("onRemove"))},{trigger:l(()=>[i(s,{type:"error"},{default:l(()=>[Oe]),_:1})]),default:l(()=>[be]),_:1})),e.isLite?_("",!0):(d(),v(y,{key:2,value:e.isExpand,"onUpdate:value":n[2]||(n[2]=c=>e.isExpand=c)},{checked:l(()=>[ze]),unchecked:l(()=>[Be]),_:1},8,["value"]))]),_:1})]),i(G,{show:e.isExpand},{default:l(()=>[e.item.translates&&e.item.translates.length?(d(),v(V,{key:0,size:"small",style:{"margin-top":"10px"}},{default:l(()=>[(d(!0),$(T,null,S(e.item.translates,(c,h)=>(d(),v(f,{item:c,"tree-item":e.item,key:h,"is-lite":e.isLite,onPreviewArray:e.handlePreviewArray,onOnRemove:g=>e.handleRemoveItem(h),onOnKeyClick:n[3]||(n[3]=g=>e.$emit("onKeyClick",g))},null,8,["item","tree-item","is-lite","onPreviewArray","onOnRemove"]))),128))]),_:1})):_("",!0),i(C,{justify:"space-between",align:"center",style:{"margin-top":"5px"}},{default:l(()=>[i(s,{type:"info",onClick:e.handleAddTranslate},{default:l(()=>[Ne]),_:1},8,["onClick"])]),_:1}),Ee,e.item.children&&e.item.children.length?(d(!0),$(T,{key:1},S(e.item.children,(c,h)=>(d(),v(F,{item:c,key:h,"is-root":!1,"is-lite":e.isLite,onOnRemove:g=>e.handleRemoveTreeItem(h),onPreviewArray:e.handlePreviewArray,onOnKeyClick:n[4]||(n[4]=g=>e.$emit("onKeyClick",g))},null,8,["item","is-lite","onOnRemove","onPreviewArray"]))),128)):_("",!0),i(s,{type:"primary",onClick:e.handleAddChildren},{default:l(()=>[Le]),_:1},8,["onClick"])]),_:1},8,["show"]),i(H,{style:{width:"80vw"},preset:"dialog","negative-text":"Cancel","positive-text":"Save",title:"Array Detail",onPositiveClick:e.handleSaveArray,show:e.isShowPreviewArray,"onUpdate:show":n[6]||(n[6]=c=>e.isShowPreviewArray=c)},{default:l(()=>[e.isShowPreviewArray&&e.currentArrayString?(d(),v(t,{key:0,type:"textarea",value:e.currentArrayString,"onUpdate:value":n[5]||(n[5]=c=>e.currentArrayString=c),class:"font-code",rows:"30",placeholder:"Array JSON String"},null,8,["value"])):_("",!0)]),_:1},8,["onPositiveClick","show"])]),_:1})):_("",!0)}const Je=z(Ie,[["render",je],["__scopeId","data-v-732f8439"]]),Ke=""+new URL("translate.6e3a2b88.svg",import.meta.url).href;export{Je as _,J as e,D as f,Ke as i,ye as p};

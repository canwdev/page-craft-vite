import{E as M,a1 as q,d as $,K as Y,N as S,a2 as Z,Y as Q,M as w,R as W,C as k,a3 as X,a4 as x,t as I,j as b,_ as P,o as c,c as f,a,e as o,a5 as h,p,f as O,q as z,x as N,a0 as B,a6 as ee,r as C,s as ne,w as te,b as E,m as A,n as T,F as R,a7 as ae,a8 as se,a9 as le,g as oe,z as re,aa as ie,ab as ue}from"./index.ae61aa82.js";const de=M("collapse-transition",{width:"100%"},[q()]),pe=Object.assign(Object.assign({},S.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),me=$({name:"CollapseTransition",props:pe,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:u,mergedRtlRef:d}=Y(e),r=S("CollapseTransition","-collapse-transition",de,Z,e,n),l=Q("CollapseTransition",d,n),t=w(()=>e.collapsed!==void 0?e.collapsed:e.show),i=w(()=>{const{self:{bezier:v}}=r.value;return{"--n-bezier":v}}),s=u?W("collapse-transition",void 0,i,e):void 0;return{rtlEnabled:l,mergedShow:t,mergedClsPrefix:n,cssVars:u?void 0:i,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){return k(x,{appear:this.appear},{default:()=>{var e;if(!!this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),k("div",X({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),J=(e={})=>({key:e.key||"",value:e.value||""}),j=(e={})=>({namespace:e.namespace||"",children:e.children||[],translates:e.translates||[],parent:e.parent||null}),ce=(e={},n=[],u=null)=>{if(!e)return[];if(!Array.isArray(e)&&typeof e=="object")for(let d in e){const r=e[d],l=[];if(r&&!Array.isArray(r)&&typeof r=="object"){const t=j({namespace:d,translates:l,parent:u});t.children=ce(r,[],t),n.push(t)}else u&&u.translates&&u.translates.push(J({key:d,value:r}))}return console.log(n),n},V=(e,n={})=>(e.forEach(u=>{const d={};u.translates.forEach(r=>{d[r.key]=r.value}),V(u.children,d),n[u.namespace]=d}),n),ve=e=>e?(e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9\s]+/g,""),e=e.replace(/\s/gi,"_"),e=e.slice(0,20),e):"",_e=$({name:"TranslateItem",components:{},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null}},emits:["onRemove","previewArray"],setup(e){const{item:n,treeItem:u}=I(e),d=w(()=>{if(!u.value)return"";const l=[];let t=u.value;for(;t;)l.push(t.namespace),t=t.parent||null;return l.reverse().join(".")}),r=w(()=>{if(!n.value||!n.value.value)return"";let l=n.value.key;return d.value&&(l=d.value+"."+l),l});return{namespacePrefix:d,nameDisplay:r,handleCopy(l){let t=`$t('${r.value}')`;l==="html"?t=`{{ $t('${r.value}') }}`:l==="v-html"?t=`v-html="$t('${r.value}')"`:l==="js"&&(t=`this.$t('${r.value}')`),b(t),window.$message.success("Text Copied")},handleBlur(){n.value.key||(n.value.key=ve(n.value.value))}}}});const fe=p("Array"),he=p(" Copy: "),ye=p(" H "),ge=p(" VH "),we=p(" JS "),Ce=p("Remove"),$e=p(" Remove Item? ");function ke(e,n,u,d,r,l){const t=O,i=z,s=N,v=B,g=ee;return e.item?(c(),f(g,{key:0,size:"small",class:"translate-item"},{default:a(()=>[o(s,{size:"small",justify:"space-between"},{default:a(()=>[o(s,{size:"small",align:"center"},{default:a(()=>[o(t,{size:"small",class:"font-code",value:e.item.key,"onUpdate:value":n[0]||(n[0]=_=>e.item.key=_),placeholder:"key",clearable:""},null,8,["value"]),Array.isArray(e.item.value)?(c(),f(i,{key:1,title:e.item.value,size:"small",style:{width:"350px"},onClick:n[2]||(n[2]=_=>e.$emit("previewArray",e.item))},{default:a(()=>[fe]),_:1},8,["title"])):(c(),f(t,{key:0,type:"textarea",rows:"1",size:"small",style:{width:"350px"},value:e.item.value,"onUpdate:value":n[1]||(n[1]=_=>e.item.value=_),placeholder:"value",clearable:"",onBlur:e.handleBlur},null,8,["value","onBlur"])),e.nameDisplay?(c(),f(s,{key:2,size:"small"},{default:a(()=>[o(t,{class:"font-code",size:"small",style:{width:"300px"},value:`$t('${e.nameDisplay}')`,readonly:""},null,8,["value"]),o(i,{size:"small",type:"info",onClick:e.handleCopy,title:"Original"},{default:a(()=>[he]),_:1},8,["onClick"]),o(i,{size:"small",type:"info",onClick:n[3]||(n[3]=_=>e.handleCopy("html")),title:"HTML template"},{default:a(()=>[ye]),_:1}),o(i,{size:"small",type:"info",onClick:n[4]||(n[4]=_=>e.handleCopy("v-html")),title:"v-html template"},{default:a(()=>[ge]),_:1}),o(i,{size:"small",type:"info",onClick:n[5]||(n[5]=_=>e.handleCopy("js")),title:"JS Script"},{default:a(()=>[we]),_:1})]),_:1})):h("",!0)]),_:1}),o(s,null,{default:a(()=>[o(v,{onPositiveClick:n[6]||(n[6]=_=>e.$emit("onRemove"))},{trigger:a(()=>[o(i,{type:"error"},{default:a(()=>[Ce]),_:1})]),default:a(()=>[$e]),_:1})]),_:1})]),_:1})]),_:1})):h("",!0)}const U=P(_e,[["render",ke],["__scopeId","data-v-1a766956"]]),Ae=$({name:"TranslateTreeItem",components:{TranslateItem:U},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0}},emits:["onRemove"],setup(e){const{item:n}=I(e),u=()=>{console.log("[handleAddChildren]"),n.value.children.push(j({parent:n.value}))},d=()=>{console.log("[handleAddTranslate]"),n.value.translates.push(J())},r=C(!0),l=C(!1),t=ne(null),i=C(null);return te(l,s=>{s||(t.value=null,i.value=null)}),{handleAddChildren:u,handleAddTranslate:d,handleGetJSON(){const s=V([n.value]);console.log(s),b(JSON.stringify(s,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(s){const v=[...n.value.children];v.splice(s,1),n.value.children=v},handleRemoveItem(s){const v=[...n.value.translates];v.splice(s,1),n.value.translates=v},isExpand:r,isShowPreviewArray:l,currentPreviewItem:t,currentArrayString:i,handlePreviewArray(s){t.value=s,i.value=JSON.stringify(s.value,null,2),l.value=!0},handleSaveArray(){t.value&&(t.value.value=JSON.parse(i.value||"[]"),l.value=!1)}}}});const Te=e=>(ie("data-v-2e6ba742"),e=e(),ue(),e),Re={style:{display:"flex"}},Se=p("Copy JSON"),Ie=p("Remove"),be=p(" Remove Group? "),Pe=p(" Show "),Oe=p(" Hide "),ze=p("Add Translate"),Ne=Te(()=>E("div",{style:{"border-top":"1px dashed darkseagreen","margin-top":"10px","margin-bottom":"10px"}},null,-1)),Be=p("Add Children");function Ee(e,n,u,d,r,l){const t=O,i=z,s=B,v=ae,g=N,_=U,H=se,D=le("TranslateTreeItem",!0),L=me,F=oe,G=re;return e.item?(c(),f(G,{key:0,size:"small",class:"tree-item"},{default:a(()=>[E("div",Re,[o(t,{class:"font-code",value:e.item.namespace,"onUpdate:value":n[0]||(n[0]=m=>e.item.namespace=m),placeholder:"namespace",clearable:"",style:{flex:"1"}},null,8,["value"]),o(g,{style:{"margin-left":"10px"},align:"center"},{default:a(()=>[o(i,{type:"info",onClick:e.handleGetJSON},{default:a(()=>[Se]),_:1},8,["onClick"]),e.isRoot?h("",!0):(c(),f(s,{key:0,onPositiveClick:n[1]||(n[1]=m=>e.$emit("onRemove"))},{trigger:a(()=>[o(i,{type:"error"},{default:a(()=>[Ie]),_:1})]),default:a(()=>[be]),_:1})),o(v,{value:e.isExpand,"onUpdate:value":n[2]||(n[2]=m=>e.isExpand=m)},{checked:a(()=>[Pe]),unchecked:a(()=>[Oe]),_:1},8,["value"])]),_:1})]),o(L,{show:e.isExpand},{default:a(()=>[e.item.translates&&e.item.translates.length?(c(),f(H,{key:0,size:"small",style:{"margin-top":"10px"}},{default:a(()=>[(c(!0),A(R,null,T(e.item.translates,(m,y)=>(c(),f(_,{item:m,"tree-item":e.item,key:y,onPreviewArray:e.handlePreviewArray,onOnRemove:K=>e.handleRemoveItem(y)},null,8,["item","tree-item","onPreviewArray","onOnRemove"]))),128))]),_:1})):h("",!0),o(g,{justify:"space-between",align:"center",style:{"margin-top":"5px"}},{default:a(()=>[o(i,{type:"primary",onClick:e.handleAddTranslate},{default:a(()=>[ze]),_:1},8,["onClick"])]),_:1}),Ne,e.item.children&&e.item.children.length?(c(!0),A(R,{key:1},T(e.item.children,(m,y)=>(c(),f(D,{item:m,key:y,"is-root":!1,onOnRemove:K=>e.handleRemoveTreeItem(y),onPreviewArray:e.handlePreviewArray},null,8,["item","onOnRemove","onPreviewArray"]))),128)):h("",!0),o(i,{type:"primary",onClick:e.handleAddChildren},{default:a(()=>[Be]),_:1},8,["onClick"])]),_:1},8,["show"]),o(F,{style:{width:"80vw"},preset:"dialog","negative-text":"Cancel","positive-text":"Save",title:"Array Detail",onPositiveClick:e.handleSaveArray,show:e.isShowPreviewArray,"onUpdate:show":n[4]||(n[4]=m=>e.isShowPreviewArray=m)},{default:a(()=>[e.isShowPreviewArray&&e.currentArrayString?(c(),f(t,{key:0,type:"textarea",value:e.currentArrayString,"onUpdate:value":n[3]||(n[3]=m=>e.currentArrayString=m),class:"font-code",rows:"30",placeholder:"Array JSON String"},null,8,["value"])):h("",!0)]),_:1},8,["onPositiveClick","show"])]),_:1})):h("",!0)}const je=P(Ae,[["render",Ee],["__scopeId","data-v-2e6ba742"]]),Ve=""+new URL("translate.6e3a2b88.svg",import.meta.url).href;export{je as _,V as e,j as f,Ve as i,ce as p};

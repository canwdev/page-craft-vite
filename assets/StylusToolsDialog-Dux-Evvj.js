import{r as t,b as e}from"./index-BR_HEkHY.js";import{V as o}from"./index-CP_TvyA7.js";import{d as s,D as a,S as n,r as i,K as l,a as u,bp as r,_ as c,i as p,o as d,p as m,L as v,P as y,f as b,b as f,e as w,g as h,O as x,Z as g,$ as C}from"./index-D7imv_Md.js";import{V}from"./index-ChBI-IfP.js";import"./use-model-wrapper-B0P8Zqss.js";const S=s({name:"StylusToolsDialog",components:{ViewPortWindow:V,VueMonaco:o},props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(o,{emit:s}){const{t:c}=a(),p=n(o,"visible",s),d=i(""),m=i(""),v=i("");function y(){try{let t=window.stylusSupermacyFormat(d.value,{tabStopChar:"  ",selectorSeparator:", ",alwaysUseZeroWithoutUnit:!0});t=t.replace(/>>>/g,"::v-deep"),m.value=t,v.value=""}catch(t){console.error(t),v.value=t.message}}l(d,(()=>{y()}));const b=async()=>{d.value=await t()},f=async()=>{await e(m.value),window.$message.success(c("msgs.copy_success"))},w=i(),h=i(),x=r((()=>{w.value.resize(),h.value.resize()}),300),g=u();return{mVisible:p,textInput:d,textOutput:m,errorText:v,doFormat:y,doClear:function(){d.value="",y()},showDemo(){d.value='@require "./file.styl"\n.a,.b {\n  color  red\n  >>> .c {\n    border 1px solid currentColor\n  }\n}',y()},handleAutoPasteCopy:async()=>{await b(),setTimeout((()=>{f()}))},handlePaste:b,handleCopy:f,monacoEditorRef1:w,monacoEditorRef2:h,resizeMonaco:x,settingsStore:g}}}),_=t=>(g("data-v-d26fd78f"),t=t(),C(),t),$={key:0,class:"text-converter-wrap"},P={class:"tool-header flex-row-center-gap",style:{"justify-content":"space-between"}},j={class:"vp-button-group"},k=["title"],R={key:0,class:"js-focus-auto-action-tip"},z=_((()=>w("a",{style:{color:"#d50000"},href:"https://thisismanta.github.io/stylus-supremacy/#demo",target:"_blank"}," Stylus Supermacy ",-1))),A={class:"vp-button-group"},D={class:"main-box font-code"},I={class:"input-wrapper"},U=_((()=>w("div",{class:"input-tip"},"Input Stylus Code",-1))),E={class:"input-wrapper"},F=_((()=>w("div",{class:"input-tip"},"Formatted (SCSS)",-1))),M={class:"error-box"};const O=c(S,[["render",function(t,e,o,s,a,n){const i=p("VueMonaco"),l=p("ViewPortWindow");return d(),m(l,{visible:t.mVisible,"onUpdate:visible":e[7]||(e[7]=e=>t.mVisible=e),wid:"stylus_tools","allow-maximum":"",onResize:t.resizeMonaco,"init-win-options":{width:"600px",height:"500px"},"init-center":""},{titleBarLeft:v((()=>[y(b(`Stylus ${t.$t("common.formatting_tool")}`),1)])),default:v((()=>[t.mVisible?(d(),f("div",$,[w("div",P,[w("div",j,[w("button",{onClick:e[0]||(e[0]=(...e)=>t.handleAutoPasteCopy&&t.handleAutoPasteCopy(...e)),title:t.$t("msgs.auto_paste_and_copy"),class:"vp-button primary js_focus_auto_action"},[y(b(t.$t("actions.paste"))+"+"+b(t.$t("actions.copy"))+" ",1),t.settingsStore.enableFocusAutoAction?(d(),f("span",R)):h("",!0)],8,k),w("button",{onClick:e[1]||(e[1]=(...e)=>t.handlePaste&&t.handlePaste(...e)),class:"vp-button",title:"Paste"},b(t.$t("actions.paste")),1),w("button",{onClick:e[2]||(e[2]=(...e)=>t.handleCopy&&t.handleCopy(...e)),class:"vp-button",title:"Copy Result"},b(t.$t("actions.copy")),1)]),z,w("div",A,[w("button",{class:"vp-button",onClick:e[3]||(e[3]=(...e)=>t.doClear&&t.doClear(...e))},b(t.$t("actions.clear")),1),w("button",{class:"vp-button",onClick:e[4]||(e[4]=(...e)=>t.showDemo&&t.showDemo(...e))},b(t.$t("common.demo")),1)])]),w("div",D,[w("div",I,[U,x(i,{ref:"monacoEditorRef1",language:"stylus",modelValue:t.textInput,"onUpdate:modelValue":e[5]||(e[5]=e=>t.textInput=e),class:"input-text"},null,8,["modelValue"])]),w("div",E,[F,x(i,{ref:"monacoEditorRef2",modelValue:t.textOutput,"onUpdate:modelValue":e[6]||(e[6]=e=>t.textOutput=e),language:"scss",class:"input-text"},null,8,["modelValue"])])]),w("div",M,b(t.errorText),1)])):h("",!0)])),_:1},8,["visible","onResize"])}],["__scopeId","data-v-d26fd78f"]]);export{O as default};

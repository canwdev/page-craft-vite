import{d as M,U as $,a5 as he,az as ct,a3 as be,aa as Q,b1 as pt,ac as xe,ad as G,af as mt,b2 as ft,ay as vt,aj as Be,V as Me,b3 as gt,b4 as ht,al as yt,r as C,b5 as bt,b6 as _t,b7 as wt,b8 as kt,a8 as Rt,b9 as Ct,Z as It,a0 as $t,a1 as At,a2 as H,w as oe,ba as Tt,aT as ie,ai as Re,bb as Ce,aK as Ie,ao as $e,bc as Ae,bd as Vt,a4 as W,aE as St,i as N,q as d,l as x,aY as Pe,aQ as _e,be as Ot,g as we,A as b,k as r,bf as xt,F as ee,P as A,aP as Bt,bg as Ne,o as De,bh as Mt,bi as Pt,bj as se,e as ze,bk as Nt,O as F,aS as Le,bl as Dt,j as y,x as B,y as U,z as ye,D as Ee,G as Fe,S as je,Q as Ke,R as He,aO as zt,bm as Lt,s as Et,N as Ft,a_ as jt,bn as Te,aR as Kt,bo as Ht,n as Ut,bp as Gt,b0 as Jt,bq as qt}from"./index-8defa6f6.js";const Wt=M({name:"Remove",render(){return $("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),Qt=he("collapse-transition",{width:"100%"},[ct()]),Yt=Object.assign(Object.assign({},Q.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),Xt=M({name:"CollapseTransition",props:Yt,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:c,mergedRtlRef:u}=be(e),o=Q("CollapseTransition","-collapse-transition",Qt,pt,e,t),h=xe("CollapseTransition",u,t),R=G(()=>e.collapsed!==void 0?e.collapsed:e.show),w=G(()=>{const{self:{bezier:m}}=o.value;return{"--n-bezier":m}}),p=c?mt("collapse-transition",void 0,w,e):void 0;return{rtlEnabled:h,mergedShow:R,mergedClsPrefix:t,cssVars:c?void 0:w,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender}},render(){return $(vt,{appear:this.appear},{default:()=>{var e;if(this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),$("div",ft({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),Zt=e=>{const{borderRadius:t,boxShadow2:c,baseColor:u}=e;return Object.assign(Object.assign({},ht),{borderRadius:t,boxShadow:c,color:yt(u,"rgba(0, 0, 0, .85)"),textColor:u})},en=Be({name:"Tooltip",common:Me,peers:{Popover:gt},self:Zt}),tn=en,nn=Object.assign(Object.assign({},_t),Q.props),Ue=M({name:"Tooltip",props:nn,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=be(e),c=Q("Tooltip","-tooltip",void 0,tn,e,t),u=C(null);return Object.assign(Object.assign({},{syncPosition(){u.value.syncPosition()},setShow(h){u.value.setShow(h)}}),{popoverRef:u,mergedTheme:c,popoverThemeOverrides:G(()=>c.value.self)})},render(){const{mergedTheme:e,internalExtraClass:t}=this;return $(bt,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),ln=e=>{const{textColorDisabled:t}=e;return{iconColorDisabled:t}},an=Be({name:"InputNumber",common:Me,peers:{Button:wt,Input:kt},self:ln}),sn=an;function on(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function rn(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function ve(e){return e==null?!0:!Number.isNaN(e)}function Ve(e,t){return e==null?"":t===void 0?String(e):e.toFixed(t)}function ge(e){if(e===null)return null;if(typeof e=="number")return e;{const t=Number(e);return Number.isNaN(t)?null:t}}const un=Rt([he("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),he("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),Se=800,Oe=100,dn=Object.assign(Object.assign({},Q.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),cn=M({name:"InputNumber",props:dn,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:c,mergedRtlRef:u}=be(e),o=Q("InputNumber","-input-number",un,sn,e,c),{localeRef:h}=Ct("InputNumber"),R=It(e),{mergedSizeRef:w,mergedDisabledRef:p,mergedStatusRef:m}=R,g=C(null),I=C(null),T=C(null),S=C(e.defaultValue),v=$t(e,"value"),s=At(v,S),l=C(""),f=n=>{const a=String(n).split(".")[1];return a?a.length:0},V=n=>{const a=[e.min,e.max,e.step,n].map(i=>i===void 0?0:f(i));return Math.max(...a)},j=H(()=>{const{placeholder:n}=e;return n!==void 0?n:h.value.placeholder}),J=H(()=>{const n=ge(e.step);return n!==null?n===0?1:Math.abs(n):1}),te=H(()=>{const n=ge(e.min);return n!==null?n:null}),ne=H(()=>{const n=ge(e.max);return n!==null?n:null}),K=n=>{const{value:a}=s;if(n===a){k();return}const{"onUpdate:value":i,onUpdateValue:_,onChange:P}=e,{nTriggerFormInput:L,nTriggerFormChange:q}=R;P&&W(P,n),_&&W(_,n),i&&W(i,n),S.value=n,L(),q()},O=({offset:n,doUpdateIfValid:a,fixPrecision:i,isInputing:_})=>{const{value:P}=l;if(_&&rn(P))return!1;const L=(e.parse||on)(P);if(L===null)return a&&K(null),null;if(ve(L)){const q=f(L),{precision:Z}=e;if(Z!==void 0&&Z<q&&!i)return!1;let E=parseFloat((L+n).toFixed(Z??V(L)));if(ve(E)){const{value:me}=ne,{value:fe}=te;if(me!==null&&E>me){if(!a||_)return!1;E=me}if(fe!==null&&E<fe){if(!a||_)return!1;E=fe}return e.validator&&!e.validator(E)?!1:(a&&K(E),E)}}return!1},k=()=>{const{value:n}=s;if(ve(n)){const{format:a,precision:i}=e;a?l.value=a(n):n===null||i===void 0||f(n)>i?l.value=Ve(n,void 0):l.value=Ve(n,i)}else l.value=String(n)};k();const D=H(()=>O({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),z=H(()=>{const{value:n}=s;if(e.validator&&n===null)return!1;const{value:a}=J;return O({offset:-a,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),re=H(()=>{const{value:n}=s;if(e.validator&&n===null)return!1;const{value:a}=J;return O({offset:+a,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function Qe(n){const{onFocus:a}=e,{nTriggerFormFocus:i}=R;a&&W(a,n),i()}function Ye(n){var a,i;if(n.target===((a=g.value)===null||a===void 0?void 0:a.wrapperElRef))return;const _=O({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(_!==!1){const q=(i=g.value)===null||i===void 0?void 0:i.inputElRef;q&&(q.value=String(_||"")),s.value===_&&k()}else k();const{onBlur:P}=e,{nTriggerFormBlur:L}=R;P&&W(P,n),L(),St(()=>{k()})}function Xe(n){const{onClear:a}=e;a&&W(a,n)}function ue(){const{value:n}=re;if(!n){pe();return}const{value:a}=s;if(a===null)e.validator||K(ke());else{const{value:i}=J;O({offset:i,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function de(){const{value:n}=z;if(!n){ce();return}const{value:a}=s;if(a===null)e.validator||K(ke());else{const{value:i}=J;O({offset:-i,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const Ze=Qe,et=Ye;function ke(){if(e.validator)return null;const{value:n}=te,{value:a}=ne;return n!==null?Math.max(0,n):a!==null?Math.min(0,a):0}function tt(n){Xe(n),K(null)}function nt(n){var a,i,_;!((a=T.value)===null||a===void 0)&&a.$el.contains(n.target)&&n.preventDefault(),!((i=I.value)===null||i===void 0)&&i.$el.contains(n.target)&&n.preventDefault(),(_=g.value)===null||_===void 0||_.activate()}let Y=null,X=null,le=null;function ce(){le&&(window.clearTimeout(le),le=null),Y&&(window.clearInterval(Y),Y=null)}function pe(){ae&&(window.clearTimeout(ae),ae=null),X&&(window.clearInterval(X),X=null)}function lt(){ce(),le=window.setTimeout(()=>{Y=window.setInterval(()=>{de()},Oe)},Se),Ce("mouseup",document,ce,{once:!0})}let ae=null;function at(){pe(),ae=window.setTimeout(()=>{X=window.setInterval(()=>{ue()},Oe)},Se),Ce("mouseup",document,pe,{once:!0})}const st=()=>{X||ue()},ot=()=>{Y||de()};function it(n){var a,i;if(n.key==="Enter"){if(n.target===((a=g.value)===null||a===void 0?void 0:a.wrapperElRef))return;O({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((i=g.value)===null||i===void 0||i.deactivate())}else if(n.key==="ArrowUp"){if(!re.value||e.keyboard.ArrowUp===!1)return;n.preventDefault(),O({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&ue()}else if(n.key==="ArrowDown"){if(!z.value||e.keyboard.ArrowDown===!1)return;n.preventDefault(),O({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&de()}}function rt(n){l.value=n,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&O({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}oe(s,()=>{k()});const ut={focus:()=>{var n;return(n=g.value)===null||n===void 0?void 0:n.focus()},blur:()=>{var n;return(n=g.value)===null||n===void 0?void 0:n.blur()}},dt=xe("InputNumber",u,c);return Object.assign(Object.assign({},ut),{rtlEnabled:dt,inputInstRef:g,minusButtonInstRef:I,addButtonInstRef:T,mergedClsPrefix:c,mergedBordered:t,uncontrolledValue:S,mergedValue:s,mergedPlaceholder:j,displayedValueInvalid:D,mergedSize:w,mergedDisabled:p,displayedValue:l,addable:re,minusable:z,mergedStatus:m,handleFocus:Ze,handleBlur:et,handleClear:tt,handleMouseDown:nt,handleAddClick:st,handleMinusClick:ot,handleAddMousedown:at,handleMinusMousedown:lt,handleKeyDown:it,handleUpdateDisplayedValue:rt,mergedTheme:o,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:G(()=>{const{self:{iconColorDisabled:n}}=o.value,[a,i,_,P]=Tt(n);return{textColorTextDisabled:`rgb(${a}, ${i}, ${_})`,opacityDisabled:`${P}`}})})},render(){const{mergedClsPrefix:e,$slots:t}=this,c=()=>$(Ae,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>Ie(t["minus-icon"],()=>[$($e,{clsPrefix:e},{default:()=>$(Wt,null)})])}),u=()=>$(Ae,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>Ie(t["add-icon"],()=>[$($e,{clsPrefix:e},{default:()=>$(Vt,null)})])});return $("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},$(ie,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var o;return this.showButton&&this.buttonPlacement==="both"?[c(),Re(t.prefix,h=>h?$("span",{class:`${e}-input-number-prefix`},h):null)]:(o=t.prefix)===null||o===void 0?void 0:o.call(t)},suffix:()=>{var o;return this.showButton?[Re(t.suffix,h=>h?$("span",{class:`${e}-input-number-suffix`},h):null),this.buttonPlacement==="right"?c():null,u()]:(o=t.suffix)===null||o===void 0?void 0:o.call(t)}}))}}),pn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},mn=x("g",{fill:"none"},[x("path",{d:"M10 2.5a.5.5 0 0 0-1 0V9H2.5a.5.5 0 0 0 0 1H9v6.5a.5.5 0 0 0 1 0V10h6.5a.5.5 0 0 0 0-1H10V2.5z",fill:"currentColor"})],-1),fn=[mn],vn=M({name:"Add20Regular",render:function(t,c){return d(),N("svg",pn,fn)}}),gn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},hn=x("g",{fill:"none"},[x("path",{d:"M3 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5zm2-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5zm5 2a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 10 6z",fill:"currentColor"})],-1),yn=[hn],bn=M({name:"AddSquare20Regular",render:function(t,c){return d(),N("svg",gn,yn)}}),_n={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},wn=x("g",{fill:"none"},[x("path",{d:"M11.5 4a1.5 1.5 0 0 0-3 0h-1a2.5 2.5 0 0 1 5 0H17a.5.5 0 0 1 0 1h-.554L15.15 16.23A2 2 0 0 1 13.163 18H6.837a2 2 0 0 1-1.987-1.77L3.553 5H3a.5.5 0 0 1-.492-.41L2.5 4.5A.5.5 0 0 1 3 4h8.5zm3.938 1H4.561l1.282 11.115a1 1 0 0 0 .994.885h6.326a1 1 0 0 0 .993-.885L15.438 5zM8.5 7.5c.245 0 .45.155.492.359L9 7.938v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L8 14.062V7.939c0-.242.224-.438.5-.438zm3 0c.245 0 .45.155.492.359l.008.079v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L11 14.062V7.939c0-.242.224-.438.5-.438z",fill:"currentColor"})],-1),kn=[wn],Ge=M({name:"Delete20Regular",render:function(t,c){return d(),N("svg",_n,kn)}}),Rn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},Cn=x("g",{fill:"none"},[x("path",{d:"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM8 3c.374 0 .875.356 1.313 1.318c.094.208.181.436.26.682H6.427a6.19 6.19 0 0 1 .26-.682C7.125 3.356 7.627 3 8 3zm-2.223.904c-.15.332-.283.7-.393 1.096H4a5.017 5.017 0 0 1 2.038-1.6a5.45 5.45 0 0 0-.261.504zM5.163 6A12.055 12.055 0 0 0 5 8c0 .699.057 1.373.163 2H3.416A4.983 4.983 0 0 1 3 8c0-.711.148-1.388.416-2h1.747zm.221 5c.11.396.242.764.393 1.096c.079.174.166.343.26.504A5.017 5.017 0 0 1 4 11h1.384zm1.043 0h3.146a6.195 6.195 0 0 1-.26.682C8.875 12.644 8.373 13 8 13c-.374 0-.875-.356-1.313-1.318a6.195 6.195 0 0 1-.26-.682zm3.394-1H6.18A10.936 10.936 0 0 1 6 8c0-.714.064-1.39.179-2H9.82c.115.61.179 1.286.179 2s-.064 1.39-.179 2zm.795 1H12a5.018 5.018 0 0 1-2.038 1.6c.095-.161.182-.33.26-.504c.152-.332.284-.7.394-1.096zm1.968-1h-1.747A12.05 12.05 0 0 0 11 8c0-.699-.057-1.372-.163-2h1.747c.268.612.416 1.289.416 2c0 .711-.148 1.388-.416 2zM9.962 3.4A5.018 5.018 0 0 1 12 5h-1.384a7.526 7.526 0 0 0-.393-1.096a5.454 5.454 0 0 0-.26-.504z",fill:"currentColor"})],-1),In=[Cn],$n=M({name:"Globe16Regular",render:function(t,c){return d(),N("svg",Rn,In)}}),An=M({name:"DialogTextEdit",components:{VueMonaco:Pe},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Text edit"},placeholder:{type:String,default:"Input text"},text:{type:String,default:""},isTextarea:{type:Boolean,default:!1},type:{type:String,default:"text"}},emits:["onSave"],setup(e,{emit:t}){const{text:c}=_e(e),u=Ot(e,t,"visible"),o=C("");return oe(c,h=>{o.value=h},{immediate:!0}),{mVisible:u,editingText:o,handleSave(){t("onSave",o.value)}}}});function Tn(e,t,c,u,o,h){const R=Pe,w=ie,p=xt;return d(),b(p,{style:{width:"700px"},preset:"dialog","negative-text":e.$t("actions.cancel"),"positive-text":e.$t("actions.done"),title:e.title,onPositiveClick:e.handleSave,onNegativeClick:t[2]||(t[2]=m=>e.mVisible=!1),onClose:t[3]||(t[3]=m=>e.mVisible=!1),show:e.mVisible},{default:r(()=>[e.mVisible?(d(),N(ee,{key:0},[e.isTextarea?(d(),b(R,{key:0,modelValue:e.editingText,"onUpdate:modelValue":t[0]||(t[0]=m=>e.editingText=m),language:"json",style:{height:"500px"}},null,8,["modelValue"])):(d(),b(w,{key:1,type:e.type,value:e.editingText,"onUpdate:value":t[1]||(t[1]=m=>e.editingText=m),class:"font-code",rows:e.isTextarea?25:null,placeholder:e.placeholder,autofocus:""},null,8,["type","value","rows","placeholder"]))],64)):A("",!0)]),_:1},8,["negative-text","positive-text","title","onPositiveClick","show"])}const Je=we(An,[["render",Tn]]),Vn=M({name:"TranslateItem",components:{Delete20Regular:Ge},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null},isLite:{type:Boolean,default:!1},index:{type:Number,required:!0}},emits:["onRemove","previewArray","onKeyClick"],setup(e,{emit:t}){const{t:c}=Bt(),u=Ne(),{item:o,treeItem:h,index:R}=_e(e),w=G(()=>{if(!h.value)return"";const l=[];let f=h.value;for(;f;)l.push(f.namespace),f=f.parent||null;return l.reverse().join(".")}),p=G(()=>{if(!o.value||!o.value.value&&!o.value.key)return"";let l=o.value.key;w.value&&(l=w.value+"."+l);const f=new RegExp(Pt+".","g");return l=l.replace(f,""),l}),m=C(null);oe(o,l=>{if(!l){m.value=null;return}m.value=typeof l.value},{immediate:!0});const g=C(!1),I=()=>{var f;g.value=!1;const l=((f=h.value)==null?void 0:f.translates)||[];for(let V=0;V<l.length;V++){const j=l[V];if(R.value!==V&&j.key===o.value.key){g.value=!0;break}}},T=C(null),S=l=>{let f="";l===se.ORIGINAL?f=`$t('${p.value}')`:l===se.TEMPLATE?f=`{{ $t('${p.value}') }}`:l===se.VHTML?f=`v-html="$t('${p.value}')"`:l===se.DOLLART&&(f=`this.$t('${p.value}')`),T.value=l,u.trLastCopyMode=l,ze(f),window.$message.success(c("msgs.copy_success")+f)},v=()=>{o.value.key||(o.value.key=Nt(o.value.value),I())},s=C();return De(()=>{o.value&&(u.trAutoAddGuid!==null&&o.value.key===u.trAutoAddGuid?(u.trAutoAddGuid=null,o.value.key="",v(),setTimeout(()=>{S(u.trLastCopyMode)})):u.trIsManualAdd&&(s.value&&s.value.focus(),u.trIsManualAdd=!1))}),{copyModeOptions:Mt,namespacePrefix:w,nameDisplay:p,highlightCopyMode:T,handleCopy:S,handleValueBlur:v,handleKeyBlur(){I()},handleInputKeyClick(l){t("onKeyClick",p.value,l)},valType:m,isKeyDuplicated:g,valueInputRef:s}}});const Sn=e=>(Ke("data-v-e375ebd0"),e=e(),He(),e),On=Sn(()=>x("div",{class:"error-tip-button"},"!",-1));function xn(e,t,c,u,o,h){const R=Ue,w=ie,p=cn,m=Ee,g=Fe,I=F("Delete20Regular"),T=je,S=Dt;return e.item?(d(),b(S,{key:0,"data-id":e.item.key,size:"small",class:Le(["translate-item",{isLite:e.isLite,isKeyDuplicated:e.isKeyDuplicated}])},{default:r(()=>[y(g,{size:"small",justify:"space-between"},{default:r(()=>[y(g,{size:"small",align:"center"},{default:r(()=>[e.isKeyDuplicated?(d(),b(R,{key:0,trigger:"hover"},{trigger:r(()=>[On]),default:r(()=>[B(" Key duplicated, may cause bug! ")]),_:1})):A("",!0),y(w,{size:"small",class:"font-code translate-item-input jssl_key",value:e.item.key,"onUpdate:value":t[0]||(t[0]=v=>e.item.key=v),placeholder:"key",onClick:e.handleInputKeyClick,onBlur:e.handleKeyBlur},null,8,["value","onClick","onBlur"]),e.isLite?A("",!0):(d(),N(ee,{key:1},[e.valType==="number"?(d(),b(p,{key:0,ref:"valueInputRef",value:e.item.value,"onUpdate:value":t[1]||(t[1]=v=>e.item.value=v),placeholder:"number value",size:"small",class:"item-value-edit jssl_value",onBlur:e.handleValueBlur},null,8,["value","onBlur"])):Array.isArray(e.item.value)?(d(),b(m,{key:2,title:e.item.value,size:"small",class:"item-value-edit",onClick:t[3]||(t[3]=v=>e.$emit("previewArray",e.item))},{default:r(()=>[B(" ðŸ“ "+U(e.$t("common.array")),1)]),_:1},8,["title"])):(d(),b(w,{key:1,ref:"valueInputRef",type:"textarea",rows:"1",size:"small",class:"item-value-edit",value:e.item.value,"onUpdate:value":t[2]||(t[2]=v=>e.item.value=v),placeholder:"text value",onBlur:e.handleValueBlur},null,8,["value","onBlur"]))],64)),!e.isLite&&e.nameDisplay?(d(),b(g,{key:2,size:"small"},{default:r(()=>[(d(!0),N(ee,null,ye(e.copyModeOptions,v=>(d(),b(m,{key:v.value,title:v.desc,size:"small",secondary:v.value!==e.highlightCopyMode,type:"success",onClick:s=>e.handleCopy(v.value)},{default:r(()=>[B(U(v.label),1)]),_:2},1032,["title","secondary","onClick"]))),128))]),_:1})):A("",!0),e.isLite?A("",!0):(d(),b(T,{key:3,onPositiveClick:t[4]||(t[4]=v=>e.$emit("onRemove"))},{trigger:r(()=>[y(m,{tertiary:"",style:{"margin-left":"15px"},size:"small",type:"error"},{icon:r(()=>[y(I)]),_:1})]),default:r(()=>[B(" "+U(e.$t("msgs.remove_item")),1)]),_:1}))]),_:1}),y(g)]),_:1})]),_:1},8,["data-id","class"])):A("",!0)}const qe=we(Vn,[["render",xn],["__scopeId","data-v-e375ebd0"]]),Bn=M({name:"TranslateTreeItem",components:{Delete20Regular:Ge,TranslateItem:qe,DialogTextEdit:Je,AddSquare20Regular:bn,Add20Regular:vn,ClipboardPaste20Regular:zt,Copy20Regular:Lt,Globe16Regular:$n},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0},isLite:{type:Boolean,default:!1},index:{type:Number,required:!0}},emits:["onRemove","onKeyClick"],setup(e){const{item:t,index:c}=_e(e),u=Ne(),o=()=>{u.trIsManualAdd=!0,t.value.children.push(jt({parent:t.value}))},h=()=>{u.trIsManualAdd=!0,t.value.translates.push(Te())},R=async()=>{const s=await Kt();u.trAutoAddGuid=Ht(),t.value.translates.push(Te({key:u.trAutoAddGuid,value:s}))},w=C(!0),p=C(!1),m=Et(null),g=C("");oe(p,s=>{s||(m.value=null,g.value="")});const I=G(()=>{if(!t.value)return"";const s=[];let l=t.value;for(;l;)s.push(l.namespace),l=l.parent||null;return s.pop(),s.shift(),s.reverse().join(".")}),T=C(!1),S=()=>{var l,f;T.value=!1;const s=((f=(l=t.value)==null?void 0:l.parent)==null?void 0:f.children)||[];for(let V=0;V<s.length;V++){const j=s[V];if(c.value!==V&&j.namespace===t.value.namespace){T.value=!0;break}}},v=C();return De(()=>{u.trIsManualAdd&&(v.value&&v.value.focus(),u.trIsManualAdd=!1)}),{handleAddChildren:o,handleAddTranslate:h,handleAutoAdd:R,handleGetJSON(){const s=Ft([t.value]);console.log(s),ze(JSON.stringify(s,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(s){const l=[...t.value.children];l.splice(s,1),t.value.children=l},handleRemoveItem(s){const l=[...t.value.translates];l.splice(s,1),t.value.translates=l},isExpand:w,isShowArrayEdit:p,currentPreviewItem:m,currentArrayString:g,handlePreviewArray(s){m.value=s,g.value=JSON.stringify(s.value,null,2),p.value=!0},handleSaveArray(s){if(m.value)try{m.value.value=JSON.parse(s||"[]"),p.value=!1}catch(l){console.error(l),window.$message.error(l.message)}},isKeyDuplicated:T,checkDuplicatedGroupKey:S,namespacePrefix:I,namespaceInputRef:v}}});const We=e=>(Ke("data-v-a655cee5"),e=e(),He(),e),Mn={class:"group-header"},Pn=We(()=>x("div",{class:"error-tip-button"},"!",-1)),Nn={key:0,style:{color:"darkseagreen"}},Dn=We(()=>x("div",{class:"split-line"},null,-1));function zn(e,t,c,u,o,h){const R=Ue,w=F("Globe16Regular"),p=Gt,m=ie,g=F("Copy20Regular"),I=Ee,T=F("Delete20Regular"),S=je,v=Jt,s=Fe,l=qe,f=qt,V=F("Add20Regular"),j=F("ClipboardPaste20Regular"),J=F("TranslateTreeItem",!0),te=F("AddSquare20Regular"),ne=Xt,K=Je,O=Ut;return e.item?(d(),b(O,{key:0,size:"small",class:Le(["tree-item",{isKeyDuplicated:e.isKeyDuplicated}])},{default:r(()=>[x("div",Mn,[e.isKeyDuplicated?(d(),b(R,{key:0,trigger:"hover"},{trigger:r(()=>[Pn]),default:r(()=>[B(" Group namespace duplicated, may cause bug! ")]),_:1})):A("",!0),y(m,{ref:"namespaceInputRef",size:"small",disabled:e.isRoot,class:"font-code",value:e.item.namespace,"onUpdate:value":t[0]||(t[0]=k=>e.item.namespace=k),placeholder:"namespace",style:{flex:"1"},onBlur:e.checkDuplicatedGroupKey},{prefix:r(()=>[y(p,{color:"darkseagreen",size:"16",title:e.namespacePrefix},{default:r(()=>[y(w)]),_:1},8,["title"]),e.isLite?A("",!0):(d(),N("span",Nn,U(e.namespacePrefix+(e.namespacePrefix?".":"")),1))]),_:1},8,["disabled","value","onBlur"]),e.isLite?A("",!0):(d(),b(s,{key:1,style:{"margin-left":"10px"},align:"center"},{default:r(()=>[y(I,{size:"small",secondary:"",type:"info",onClick:e.handleGetJSON,title:`${e.$t("actions.copy")} JSON`},{icon:r(()=>[y(g)]),_:1},8,["onClick","title"]),e.isRoot?A("",!0):(d(),b(S,{key:0,onPositiveClick:t[1]||(t[1]=k=>e.$emit("onRemove"))},{trigger:r(()=>[y(I,{secondary:"",type:"error",size:"small"},{icon:r(()=>[y(T)]),_:1})]),default:r(()=>[B(" "+U(e.$t("msgs.remove_group")),1)]),_:1})),y(v,{size:"small",value:e.isExpand,"onUpdate:value":t[2]||(t[2]=k=>e.isExpand=k)},{checked:r(()=>[B(" ðŸ‘€ ")]),unchecked:r(()=>[B(" ðŸ™ˆ ")]),_:1},8,["value"])]),_:1}))]),y(ne,{show:e.isExpand},{default:r(()=>[e.item.translates&&e.item.translates.length?(d(),b(f,{key:0,size:"small",style:{"margin-top":"10px"}},{default:r(()=>[(d(!0),N(ee,null,ye(e.item.translates,(k,D)=>(d(),b(l,{item:k,"tree-item":e.item,key:D,index:D,"is-lite":e.isLite,onPreviewArray:e.handlePreviewArray,onOnRemove:z=>e.handleRemoveItem(D),onOnKeyClick:t[3]||(t[3]=(...z)=>e.$emit("onKeyClick",...z))},null,8,["item","tree-item","index","is-lite","onPreviewArray","onOnRemove"]))),128))]),_:1})):A("",!0),e.isLite?A("",!0):(d(),b(s,{key:1,align:"center",style:{"margin-top":"5px"}},{default:r(()=>[y(I,{size:"small",title:"Add translate item",type:"info",onClick:e.handleAddTranslate},{icon:r(()=>[y(V)]),default:r(()=>[B(" "+U(e.$t("common.translate")),1)]),_:1},8,["onClick"]),y(I,{size:"small",title:"Auto paste and copy key",type:"info",secondary:"",onClick:e.handleAutoAdd},{icon:r(()=>[y(j)]),default:r(()=>[B(" Auto ")]),_:1},8,["onClick"])]),_:1})),Dn,e.item.children&&e.item.children.length?(d(!0),N(ee,{key:2},ye(e.item.children,(k,D)=>(d(),b(J,{item:k,key:D,index:D,"is-root":!1,"is-lite":e.isLite,onOnRemove:z=>e.handleRemoveTreeItem(D),onPreviewArray:e.handlePreviewArray,onOnKeyClick:t[4]||(t[4]=(...z)=>e.$emit("onKeyClick",...z))},null,8,["item","index","is-lite","onOnRemove","onPreviewArray"]))),128)):A("",!0),e.isLite?A("",!0):(d(),b(I,{key:3,type:"primary",onClick:e.handleAddChildren,title:"Add translate children group"},{icon:r(()=>[y(te)]),default:r(()=>[B(" "+U(e.$t("common.group")),1)]),_:1},8,["onClick"]))]),_:1},8,["show"]),y(K,{"is-textarea":"",title:e.$t("common.array_detail"),placeholder:"Array JSON String",visible:e.isShowArrayEdit,"onUpdate:visible":t[5]||(t[5]=k=>e.isShowArrayEdit=k),text:e.currentArrayString,onOnSave:e.handleSaveArray},null,8,["title","visible","text","onOnSave"])]),_:1},8,["class"])):A("",!0)}const En=we(Bn,[["render",zn],["__scopeId","data-v-a655cee5"]]),Fn=""+new URL("translate-6e3a2b88.svg",import.meta.url).href;export{En as _,Je as a,Fn as i};

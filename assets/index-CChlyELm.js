import{d as e,o as a,c as s,a as r,Q as o,a8 as i,r as l,E as t,e as n,s as u,p,l as v,a1 as f,f as m,z as d,k as c,R as w,C as h,g as b,a9 as _,q as g,_ as x}from"./index-B_8g2bxo.js";import{V as k}from"./index-Byyymg_I.js";import{u as y}from"./use-remote-options-BE_XYDkf.js";import{Q as j}from"./index-Bi2kEi3J.js";import{N as z}from"./Icon-CMxllykI.js";import"./VueRender.vue_vue_type_script_lang-B7jagunM.js";import"./Dropdown-CsBF2fzf.js";import"./Popover-BKGBJvpF.js";const C={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},B=[r("g",{fill:"none"},[r("path",{d:"M7.5 4a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-5zM7 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5zM9.5 15a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zM7 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H7zM6 4a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V4z",fill:"currentColor"})],-1)],M=e({name:"ViewDesktopMobile20Regular",render:function(e,r){return a(),s("svg",C,B)}}),R={key:0,class:"iframe-browser-inner-wrap"},P={class:"iframe-browser-address-bar-wrap"},V={class:"button-wrap"},I=["src"],E=x(e({__name:"index",props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:x}){const C=o(e,"visible",x),B=i(),E=l(!1),L=l(),S=l(""),U=B.resolve({name:"PlaygroundPage"}).href,q=t("pagecraft_iframe_browser_url",U,localStorage,{listenToStorageChanges:!1}),D=n((()=>E.value?"(Loading...)":""));u((()=>{q.value&&F()}));const F=()=>{S.value="",S.value=q.value,E.value=!0},H=()=>{E.value=!1},Q=e=>{E.value=!1,console.error("[handleIframeError]",e)},{options:G}=y({fetchFn:async()=>{const e=await fetch("./bookmarks.json");return await e.json()},mapFn:e=>({label:"ðŸŒŽ "+(e.label||e.value),value:e.value,props:{onClick:e.children?void 0:()=>{q.value=e.value,F()}}})}),K=l(!1),N=l(),T=()=>{N.value.setPos("width","385px"),N.value.setPos("height","727px")};return(e,o)=>{const i=z,l=_,t=g;return a(),p(k,{ref_key:"iframeWinRef",ref:N,class:"iframe-browser-vp-window",visible:d(C),"onUpdate:visible":o[5]||(o[5]=e=>w(C)?C.value=e:null),wid:"iframe_browser","allow-maximum":"","init-win-options":{width:"350px",height:"500px"}},{titleBarLeft:v((()=>[f("Iframe Browser "+m(d(D)),1)])),titleBarRightControls:v((()=>[r("button",{onClick:T},[c(i,{size:"20"},{default:v((()=>[c(d(M))])),_:1})])])),default:v((()=>[d(C)?(a(),s("div",R,[r("div",P,[r("div",V,[c(l,{size:"tiny",onClick:o[0]||(o[0]=e=>K.value=!0)},{default:v((()=>[f("@")])),_:1}),c(j,{options:d(G),visible:d(K),"onUpdate:visible":o[1]||(o[1]=e=>w(K)?K.value=e:null),title:"Shortcuts"},null,8,["options","visible"])]),c(t,{class:"iframe-browser-input font-code",size:"tiny",value:d(q),"onUpdate:value":o[2]||(o[2]=e=>w(q)?q.value=e:null),placeholder:"input url (https://)",type:"text",onKeyup:o[3]||(o[3]=h((e=>F()),["enter"]))},null,8,["value"]),c(l,{size:"tiny",onClick:o[4]||(o[4]=e=>F())},{default:v((()=>[f("Go")])),_:1})]),r("iframe",{ref_key:"iframeRef",ref:L,onLoad:H,onError:Q,class:"iframe-browser-inner-iframe",src:d(S),frameborder:"0"},null,40,I)])):b("",!0)])),_:1},8,["visible"])}}}),[["__scopeId","data-v-508253c3"]]);export{E as default};

import{r as t,b as e}from"./index-BSUZN_B5.js";import{V as s}from"./index-CQE1pfcY.js";import{d as o,D as a,U as n,r as l,K as i,a as u,bq as r,_ as c,i as p,o as d,p as m,M as v,Q as y,f as b,b as f,e as w,g as x,P as h,$ as g,a0 as _}from"./index-Dcsrw7an.js";import{_ as C}from"./index.vue_vue_type_style_index_0_lang-Df9XRKpL.js";import"./use-model-wrapper-D-qKYU8I.js";const V=o({name:"StylusToolsDialog",components:{ViewPortWindow:C,VueMonaco:s},props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(s,{emit:o}){const{t:c}=a(),p=n(s,"visible",o),d=l(""),m=l(""),v=l("");function y(){try{let t=window.stylusSupermacyFormat(d.value,{tabStopChar:"  ",selectorSeparator:", ",alwaysUseZeroWithoutUnit:!0});t=t.replace(/>>>/g,"::v-deep"),m.value=t,v.value=""}catch(t){console.error(t),v.value=t.message}}i(d,(()=>{y()}));const b=async()=>{d.value=await t()},f=async()=>{await e(m.value),window.$message.success(c("msgs.copy_success"))},w=l(),x=l(),h=r((()=>{w.value.resize(),x.value.resize()}),300),g=u();return{mVisible:p,textInput:d,textOutput:m,errorText:v,doFormat:y,doClear:function(){d.value="",y()},showDemo(){d.value='@require "./file.styl"\n.a,.b {\n  color  red\n  >>> .c {\n    border 1px solid currentColor\n  }\n}',y()},handleAutoPasteCopy:async()=>{await b(),setTimeout((()=>{f()}))},handlePaste:b,handleCopy:f,monacoEditorRef1:w,monacoEditorRef2:x,resizeMonaco:h,settingsStore:g}}}),S=t=>(g("data-v-7ecd5918"),t=t(),_(),t),$=S((()=>w("span",{class:"mdi mdi-fleur-de-lis"},null,-1))),P={key:0,class:"text-converter-wrap"},j={class:"tool-header flex-row-center-gap",style:{"justify-content":"space-between"}},k={class:"vp-button-group"},R=["title"],z={key:0,class:"js-focus-auto-action-tip"},U=S((()=>w("a",{style:{color:"#d50000"},href:"https://thisismanta.github.io/stylus-supremacy/#demo",target:"_blank"}," Stylus Supermacy ",-1))),A={class:"vp-button-group"},D={class:"main-box font-code"},I={class:"input-wrapper"},M=S((()=>w("div",{class:"input-tip"},"Input Stylus Code",-1))),E={class:"input-wrapper"},F=S((()=>w("div",{class:"input-tip"},"Formatted (SCSS)",-1))),T={class:"error-box"};const O=c(V,[["render",function(t,e,s,o,a,n){const l=p("VueMonaco"),i=p("ViewPortWindow");return d(),m(i,{visible:t.mVisible,"onUpdate:visible":e[7]||(e[7]=e=>t.mVisible=e),wid:"stylus_tools","allow-maximum":"",onResize:t.resizeMonaco,"init-win-options":{width:"600px",height:"500px"},"init-center":""},{titleBarLeft:v((()=>[$,y(" "+b(`Stylus ${t.$t("common.formatting_tool")}`),1)])),default:v((()=>[t.mVisible?(d(),f("div",P,[w("div",j,[w("div",k,[w("button",{onClick:e[0]||(e[0]=(...e)=>t.handleAutoPasteCopy&&t.handleAutoPasteCopy(...e)),title:t.$t("msgs.auto_paste_and_copy"),class:"vp-button primary js_focus_auto_action"},[y(b(t.$t("actions.paste"))+"+"+b(t.$t("actions.copy"))+" ",1),t.settingsStore.enableFocusAutoAction?(d(),f("span",z)):x("",!0)],8,R),w("button",{onClick:e[1]||(e[1]=(...e)=>t.handlePaste&&t.handlePaste(...e)),class:"vp-button",title:"Paste"},b(t.$t("actions.paste")),1),w("button",{onClick:e[2]||(e[2]=(...e)=>t.handleCopy&&t.handleCopy(...e)),class:"vp-button",title:"Copy Result"},b(t.$t("actions.copy")),1)]),U,w("div",A,[w("button",{class:"vp-button",onClick:e[3]||(e[3]=(...e)=>t.doClear&&t.doClear(...e))},b(t.$t("actions.clear")),1),w("button",{class:"vp-button",onClick:e[4]||(e[4]=(...e)=>t.showDemo&&t.showDemo(...e))},b(t.$t("common.demo")),1)])]),w("div",D,[w("div",I,[M,h(l,{ref:"monacoEditorRef1",language:"stylus",modelValue:t.textInput,"onUpdate:modelValue":e[5]||(e[5]=e=>t.textInput=e),class:"input-text"},null,8,["modelValue"])]),w("div",E,[F,h(l,{ref:"monacoEditorRef2",modelValue:t.textOutput,"onUpdate:modelValue":e[6]||(e[6]=e=>t.textOutput=e),language:"scss",class:"input-text"},null,8,["modelValue"])])]),w("div",T,b(t.errorText),1)])):x("",!0)])),_:1},8,["visible","onResize"])}],["__scopeId","data-v-7ecd5918"]]);export{O as default};

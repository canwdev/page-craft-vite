import{a as W,f as X,d as T,u as Y,b as V,e as ee,g as ne,h as C,i as te,j,m as oe,N as se,t as F,k as P,_ as O,l as f,w as t,n as y,p as le,o as c,q as s,r as d,s as D,v as E,x as N,y as A,z as b,A as H,B as I,c as k,C as w,F as S,D as ae,E as ie,G as re,H as L,I as G,J as U,K as de,L as ue,M as pe}from"./index.4bbc9f25.js";const ce=W("collapse-transition",{width:"100%"},[X()]),me=Object.assign(Object.assign({},V.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),_e=T({name:"CollapseTransition",props:me,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:i,mergedRtlRef:r}=Y(e),a=V("CollapseTransition","-collapse-transition",ce,ee,e,n),l=ne("CollapseTransition",r,n),o=C(()=>e.collapsed!==void 0?e.collapsed:e.show),p=C(()=>{const{self:{bezier:h}}=a.value;return{"--n-bezier":h}}),u=i?te("collapse-transition",void 0,p,e):void 0;return{rtlEnabled:l,mergedShow:o,mergedClsPrefix:n,cssVars:i?void 0:p,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){return j(se,{appear:this.appear},{default:()=>{var e;if(!!this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),j("div",oe({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),K=(e={})=>({key:e.key||"",value:e.value||""}),B=(e={})=>({namespace:e.namespace||"",children:e.children||[],translates:e.translates||[],parent:e.parent||null}),z=(e={},n=[],i=null)=>{if(!e)return[];if(!Array.isArray(e)&&typeof e=="object")for(let r in e){const a=e[r],l=[];if(a&&!Array.isArray(a)&&typeof a=="object"){const o=B({namespace:r,translates:l,parent:i});o.children=z(a,[],o),n.push(o)}else i&&i.translates&&i.translates.push(K({key:r,value:a}))}return console.log(n),n},J=(e,n={})=>(e.forEach(i=>{const r={};i.translates.forEach(a=>{r[a.key]=a.value}),J(i.children,r),n[i.namespace]=r}),n),fe=e=>e?(e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9\s]+/g,""),e=e.replace(/\s/gi,"_"),e=e.slice(0,20),e):"",he=T({name:"TranslateItem",props:{item:{type:Object,default:null},treeItem:{type:Object,default:null}},emits:["onRemove"],setup(e){const{item:n,treeItem:i}=F(e),r=C(()=>{if(!i.value)return"";const l=[];let o=i.value;for(;o;)l.push(o.namespace),o=o.parent||null;return l.reverse().join(".")}),a=C(()=>{if(!n.value||!n.value.value)return"";let l=n.value.key;return r.value&&(l=r.value+"."+l),l});return{namespacePrefix:r,nameDisplay:a,handleCopy(l){let o=`$t('${a.value}')`;l==="html"?o=`{{ $t('${a.value}') }}`:l==="v-html"?o=`v-html="$t('${a.value}')"`:l==="js"&&(o=`this.$t('${a.value}')`),P(o),window.$message.success("Text Copied")},handleBlur(){n.value.key||(n.value.key=fe(n.value.value))}}}});const ve=d(" Copy: "),ye=d(" H "),ge=d(" VH "),$e=d(" JS "),Ce=d("Remove"),ke=d(" Remove Item? ");function Te(e,n,i,r,a,l){const o=D,p=E,u=N,h=A,v=le;return e.item?(c(),f(v,{key:0,size:"small",class:"translate-item"},{default:t(()=>[s(u,{size:"small",justify:"space-between"},{default:t(()=>[s(u,{size:"small",align:"center"},{default:t(()=>[s(o,{size:"small",class:"font-code",value:e.item.key,"onUpdate:value":n[0]||(n[0]=m=>e.item.key=m),placeholder:"key",clearable:""},null,8,["value"]),s(o,{size:"small",style:{width:"350px"},value:e.item.value,"onUpdate:value":n[1]||(n[1]=m=>e.item.value=m),placeholder:"value",clearable:"",onBlur:e.handleBlur},null,8,["value","onBlur"]),e.nameDisplay?(c(),f(u,{key:0,size:"small"},{default:t(()=>[s(o,{class:"font-code",size:"small",style:{width:"300px"},value:`$t('${e.nameDisplay}')`,readonly:""},null,8,["value"]),s(p,{size:"small",type:"info",onClick:e.handleCopy,title:"Original"},{default:t(()=>[ve]),_:1},8,["onClick"]),s(p,{size:"small",type:"info",onClick:n[2]||(n[2]=m=>e.handleCopy("html")),title:"HTML template"},{default:t(()=>[ye]),_:1}),s(p,{size:"small",type:"info",onClick:n[3]||(n[3]=m=>e.handleCopy("v-html")),title:"v-html template"},{default:t(()=>[ge]),_:1}),s(p,{size:"small",type:"info",onClick:n[4]||(n[4]=m=>e.handleCopy("js")),title:"JS Script"},{default:t(()=>[$e]),_:1})]),_:1})):y("",!0)]),_:1}),s(u,null,{default:t(()=>[s(h,{onPositiveClick:n[5]||(n[5]=m=>e.$emit("onRemove"))},{trigger:t(()=>[s(p,{type:"error"},{default:t(()=>[Ce]),_:1})]),default:t(()=>[ke]),_:1})]),_:1})]),_:1})]),_:1})):y("",!0)}const M=O(he,[["render",Te],["__scopeId","data-v-3034e217"]]),Ie=T({name:"TranslateTreeItem",components:{TranslateItem:M},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0}},emits:["onRemove"],setup(e){const{item:n}=F(e),i=()=>{console.log("[handleAddChildren]"),n.value.children.push(B())},r=()=>{console.log("[handleAddTranslate]"),n.value.translates.push(K())},a=b(!0);return{handleAddChildren:i,handleAddTranslate:r,handleGetJSON(){const l=J([n.value]);console.log(l),P(JSON.stringify(l,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(l){const o=[...n.value.children];o.splice(l,1),n.value.children=o},handleRemoveItem(l){const o=[...n.value.translates];o.splice(l,1),n.value.translates=o},isExpand:a}}});const Re=e=>(L("data-v-39e7ac41"),e=e(),G(),e),be={style:{display:"flex"}},we=d("Copy JSON"),Se=d("Remove"),ze=d(" Remove Group? "),Oe=d(" Show "),Ee=d(" Hide "),Ne=d("Add Translate"),Ae=Re(()=>I("div",{style:{"border-top":"1px dashed darkseagreen","margin-top":"10px","margin-bottom":"10px"}},null,-1)),Be=d("Add Children");function Je(e,n,i,r,a,l){const o=D,p=E,u=A,h=ae,v=N,m=M,g=ie,R=re("TranslateTreeItem",!0),x=_e,Z=H;return e.item?(c(),f(Z,{key:0,size:"small",class:"tree-item"},{default:t(()=>[I("div",be,[s(o,{class:"font-code",value:e.item.namespace,"onUpdate:value":n[0]||(n[0]=_=>e.item.namespace=_),placeholder:"namespace",clearable:"",style:{flex:"1"}},null,8,["value"]),s(v,{style:{"margin-left":"10px"},align:"center"},{default:t(()=>[s(p,{type:"info",onClick:e.handleGetJSON},{default:t(()=>[we]),_:1},8,["onClick"]),e.isRoot?y("",!0):(c(),f(u,{key:0,onPositiveClick:n[1]||(n[1]=_=>e.$emit("onRemove"))},{trigger:t(()=>[s(p,{type:"error"},{default:t(()=>[Se]),_:1})]),default:t(()=>[ze]),_:1})),s(h,{value:e.isExpand,"onUpdate:value":n[2]||(n[2]=_=>e.isExpand=_)},{checked:t(()=>[Oe]),unchecked:t(()=>[Ee]),_:1},8,["value"])]),_:1})]),s(x,{show:e.isExpand},{default:t(()=>[e.item.translates&&e.item.translates.length?(c(),f(g,{key:0,size:"small",style:{"margin-top":"10px"}},{default:t(()=>[(c(!0),k(S,null,w(e.item.translates,(_,$)=>(c(),f(m,{item:_,"tree-item":e.item,key:$,onOnRemove:Q=>e.handleRemoveItem($)},null,8,["item","tree-item","onOnRemove"]))),128))]),_:1})):y("",!0),s(v,{justify:"space-between",align:"center",style:{"margin-top":"5px"}},{default:t(()=>[s(p,{type:"primary",onClick:e.handleAddTranslate},{default:t(()=>[Ne]),_:1},8,["onClick"])]),_:1}),Ae,e.item.children&&e.item.children.length?(c(!0),k(S,{key:1},w(e.item.children,(_,$)=>(c(),f(R,{item:_,key:$,"is-root":!1,onOnRemove:Q=>e.handleRemoveTreeItem($)},null,8,["item","onOnRemove"]))),128)):y("",!0),s(p,{type:"primary",onClick:e.handleAddChildren},{default:t(()=>[Be]),_:1},8,["onClick"])]),_:1},8,["show"])]),_:1})):y("",!0)}const q=O(Ie,[["render",Je],["__scopeId","data-v-39e7ac41"]]),je=T({name:"VueI18nCopyTool",components:{TranslateTreeItem:q,FileChooser:U},setup(){const e=b([B()]),n=b();return{treeRootList:e,handleImport:async r=>{const a=await pe(r),l=JSON.parse(a);e.value=z(l)},handleExport(){de(ue(null,"i18n_export"),JSON.stringify(J(e.value),null,2),".json")},importFileChooserRef:n,loadDemo(){e.value=z({hello_world:{section_a:{test_str:"This is a test string","":"It's fast and cool"},section_b:{"":"Blur this input and it'll fill left blank automatically!"}}})}}}});const Ve=e=>(L("data-v-b0a13074"),e=e(),G(),e),Fe={class:"vue-i18n-copy-tool"},Pe=d("Import JSON"),De=d("Export JSON"),He=d("Demo"),Le=d(" Load Demo? This will override editing content. "),Ge=Ve(()=>I("b",null,"VueI18nCopyTool",-1)),Ue=d("Home"),Ke={class:"_container"};function Me(e,n,i,r,a,l){const o=E,p=A,u=N,h=H,v=q,m=U;return c(),k("div",Fe,[s(h,{size:"small",style:{position:"sticky",top:"0","z-index":"100","margin-bottom":"10px"}},{default:t(()=>[s(u,{align:"center",justify:"space-between"},{default:t(()=>[s(u,null,{default:t(()=>[s(o,{onClick:n[0]||(n[0]=g=>e.importFileChooserRef.chooseFile()),size:"tiny"},{default:t(()=>[Pe]),_:1}),s(o,{onClick:e.handleExport,size:"tiny"},{default:t(()=>[De]),_:1},8,["onClick"]),s(p,{onPositiveClick:e.loadDemo},{trigger:t(()=>[s(o,{size:"tiny"},{default:t(()=>[He]),_:1})]),default:t(()=>[Le]),_:1},8,["onPositiveClick"])]),_:1}),Ge,s(u,null,{default:t(()=>[s(o,{type:"primary",onClick:n[1]||(n[1]=g=>e.$router.push({name:"HomeView"})),size:"tiny"},{default:t(()=>[Ue]),_:1})]),_:1})]),_:1})]),_:1}),I("div",Ke,[(c(!0),k(S,null,w(e.treeRootList,(g,R)=>(c(),f(v,{key:R,item:g},null,8,["item"]))),128))]),s(m,{ref:"importFileChooserRef",accept:"application/JSON",onSelected:e.handleImport},null,8,["onSelected"])])}const xe=O(je,[["render",Me],["__scopeId","data-v-b0a13074"]]);export{xe as default};

import{a as cn,_ as un,i as mo}from"./translate-b1aaed96.js";import{d as Y,V as $,W as fn,X as _o,Y as Mt,Z as Ve,$ as hn,r as F,a0 as _e,a1 as z,a2 as xe,a3 as Q,a4 as Ue,a5 as H,a6 as D,a7 as L,a8 as E,a9 as ee,aa as Se,ab as ve,ac as tt,ad as gn,ae as V,af as nt,ag as Co,ah as ko,ai as Vt,aj as So,ak as xo,al as wo,am as Ut,an as vn,ao as kt,ap as bn,aq as $o,ar as ft,as as Ro,at as To,D as No,au as ht,av as Po,o as St,aw as Do,ax as Ht,ay as Fo,az as Io,aA as Gt,aB as gt,aC as Le,w as me,aD as Ao,aE as Eo,aF as qt,aG as Oo,aH as Ko,aI as Bo,aJ as ge,aK as Yt,aL as zo,aM as Lo,j,k as ne,n as se,aN as Qe,aO as pn,aP as jo,u as yn,aQ as mn,s as _n,aR as Wt,N as Cn,i as xt,P as vt,B as ie,m as A,z as J,F as we,y as ae,Q as $e,l as K,aS as yt,aT as Mo,E as kn,aU as Vo,H as Sn,t as xn,aV as mt,aW as _t,aX as Uo,A as Ct,aY as wn,a as Ho,aZ as Go,a_ as qo,b as Yo,c as Wo,M as Jo,O as Xo,L as Zo,T as Qo,q as bt,v as er,x as tr,a$ as nr,U as or,b0 as rr}from"./index-de16cf89.js";import{_ as $n,d as Jt,u as ar,a as lr,b as ir}from"./use-file-drop-a9c14ca7.js";function Rn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const sr=Y({name:"Switcher",render(){return $("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},$("path",{d:"M12 8l10 8l-10 8z"}))}}),dr=e=>{const{borderColor:t,primaryColor:n,baseColor:r,textColorDisabled:a,inputColorDisabled:i,textColor2:d,opacityDisabled:v,borderRadius:c,fontSizeSmall:h,fontSizeMedium:u,fontSizeLarge:S,heightSmall:p,heightMedium:g,heightLarge:C,lineHeight:b}=e;return Object.assign(Object.assign({},_o),{labelLineHeight:b,buttonHeightSmall:p,buttonHeightMedium:g,buttonHeightLarge:C,fontSizeSmall:h,fontSizeMedium:u,fontSizeLarge:S,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Mt(n,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:r,colorDisabled:i,colorActive:"#0000",textColor:d,textColorDisabled:a,dotColorActive:n,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:n,buttonBorderColorHover:t,buttonColor:r,buttonColorActive:r,buttonTextColor:d,buttonTextColorActive:n,buttonTextColorHover:n,opacityDisabled:v,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Mt(n,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:c})},cr={name:"Radio",common:fn,self:dr},ur=cr,fr={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},Tn=Ve("n-radio-group");function hr(e){const t=hn(e,{mergedSize(T){const{size:I}=e;if(I!==void 0)return I;if(d){const{mergedSizeRef:{value:m}}=d;if(m!==void 0)return m}return T?T.mergedSize.value:"medium"},mergedDisabled(T){return!!(e.disabled||d!=null&&d.disabledRef.value||T!=null&&T.disabled.value)}}),{mergedSizeRef:n,mergedDisabledRef:r}=t,a=F(null),i=F(null),d=_e(Tn,null),v=F(e.defaultChecked),c=z(e,"checked"),h=xe(c,v),u=Q(()=>d?d.valueRef.value===e.value:h.value),S=Q(()=>{const{name:T}=e;if(T!==void 0)return T;if(d)return d.nameRef.value}),p=F(!1);function g(){if(d){const{doUpdateValue:T}=d,{value:I}=e;H(T,I)}else{const{onUpdateChecked:T,"onUpdate:checked":I}=e,{nTriggerFormInput:m,nTriggerFormChange:s}=t;T&&H(T,!0),I&&H(I,!0),m(),s(),v.value=!0}}function C(){r.value||u.value||g()}function b(){C()}function k(){p.value=!1}function P(){p.value=!0}return{mergedClsPrefix:d?d.mergedClsPrefixRef:Ue(e).mergedClsPrefixRef,inputRef:a,labelRef:i,mergedName:S,mergedDisabled:r,uncontrolledChecked:v,renderSafeChecked:u,focus:p,mergedSize:n,handleRadioInputChange:b,handleRadioInputBlur:k,handleRadioInputFocus:P}}const gr=D("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[L("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[E("checked",{backgroundColor:"var(--n-button-border-color-active)"}),E("disabled",{opacity:"var(--n-opacity-disabled)"})]),E("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[D("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),L("splitor",{height:"var(--n-height)"})]),D("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[D("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),L("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),ee("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[L("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),ee("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[L("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),Se("disabled",`
 cursor: pointer;
 `,[ee("&:hover",[L("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),Se("checked",{color:"var(--n-button-text-color-hover)"})]),E("focus",[ee("&:not(:active)",[L("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),E("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),E("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function vr(e,t,n){var r;const a=[];let i=!1;for(let d=0;d<e.length;++d){const v=e[d],c=(r=v.type)===null||r===void 0?void 0:r.name;c==="RadioButton"&&(i=!0);const h=v.props;if(c!=="RadioButton"){a.push(v);continue}if(d===0)a.push(v);else{const u=a[a.length-1].props,S=t===u.value,p=u.disabled,g=t===h.value,C=h.disabled,b=(S?2:0)+(p?0:1),k=(g?2:0)+(C?0:1),P={[`${n}-radio-group__splitor--disabled`]:p,[`${n}-radio-group__splitor--checked`]:S},T={[`${n}-radio-group__splitor--disabled`]:C,[`${n}-radio-group__splitor--checked`]:g},I=b<k?T:P;a.push($("div",{class:[`${n}-radio-group__splitor`,I]}),v)}}return{children:a,isButtonGroup:i}}const br=Object.assign(Object.assign({},ve.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),pr=Y({name:"RadioGroup",props:br,setup(e){const t=F(null),{mergedSizeRef:n,mergedDisabledRef:r,nTriggerFormChange:a,nTriggerFormInput:i,nTriggerFormBlur:d,nTriggerFormFocus:v}=hn(e),{mergedClsPrefixRef:c,inlineThemeDisabled:h,mergedRtlRef:u}=Ue(e),S=ve("Radio","-radio-group",gr,ur,e,c),p=F(e.defaultValue),g=z(e,"value"),C=xe(g,p);function b(s){const{onUpdateValue:f,"onUpdate:value":R}=e;f&&H(f,s),R&&H(R,s),p.value=s,a(),i()}function k(s){const{value:f}=t;f&&(f.contains(s.relatedTarget)||v())}function P(s){const{value:f}=t;f&&(f.contains(s.relatedTarget)||d())}tt(Tn,{mergedClsPrefixRef:c,nameRef:z(e,"name"),valueRef:C,disabledRef:r,mergedSizeRef:n,doUpdateValue:b});const T=gn("Radio",u,c),I=V(()=>{const{value:s}=n,{common:{cubicBezierEaseInOut:f},self:{buttonBorderColor:R,buttonBorderColorActive:N,buttonBorderRadius:B,buttonBoxShadow:te,buttonBoxShadowFocus:U,buttonBoxShadowHover:de,buttonColorActive:Ee,buttonTextColor:oe,buttonTextColorActive:ce,buttonTextColorHover:ue,opacityDisabled:Oe,[Vt("buttonHeight",s)]:_,[Vt("fontSize",s)]:O}}=S.value;return{"--n-font-size":O,"--n-bezier":f,"--n-button-border-color":R,"--n-button-border-color-active":N,"--n-button-border-radius":B,"--n-button-box-shadow":te,"--n-button-box-shadow-focus":U,"--n-button-box-shadow-hover":de,"--n-button-color-active":Ee,"--n-button-text-color":oe,"--n-button-text-color-hover":ue,"--n-button-text-color-active":ce,"--n-height":_,"--n-opacity-disabled":Oe}}),m=h?nt("radio-group",V(()=>n.value[0]),I,e):void 0;return{selfElRef:t,rtlEnabled:T,mergedClsPrefix:c,mergedValue:C,handleFocusout:P,handleFocusin:k,cssVars:h?void 0:I,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){var e;const{mergedValue:t,mergedClsPrefix:n,handleFocusin:r,handleFocusout:a}=this,{children:i,isButtonGroup:d}=vr(Co(ko(this)),t,n);return(e=this.onRender)===null||e===void 0||e.call(this),$("div",{onFocusin:r,onFocusout:a,ref:"selfElRef",class:[`${n}-radio-group`,this.rtlEnabled&&`${n}-radio-group--rtl`,this.themeClass,d&&`${n}-radio-group--button-group`],style:this.cssVars},i)}}),yr=Y({name:"RadioButton",props:fr,setup:hr,render(){const{mergedClsPrefix:e}=this;return $("label",{class:[`${e}-radio-button`,this.mergedDisabled&&`${e}-radio-button--disabled`,this.renderSafeChecked&&`${e}-radio-button--checked`,this.focus&&[`${e}-radio-button--focus`]]},$("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),$("div",{class:`${e}-radio-button__state-border`}),So(this.$slots.default,t=>!t&&!this.label?null:$("div",{ref:"labelRef",class:`${e}-radio__label`},t||this.label)))}}),mr=e=>{const{baseColor:t,textColor2:n,bodyColor:r,cardColor:a,dividerColor:i,actionColor:d,scrollbarColor:v,scrollbarColorHover:c,invertedColor:h}=e;return{textColor:n,textColorInverted:"#FFF",color:r,colorEmbedded:d,headerColor:a,headerColorInverted:h,footerColor:d,footerColorInverted:h,headerBorderColor:i,headerBorderColorInverted:h,footerBorderColor:i,footerBorderColorInverted:h,siderBorderColor:i,siderBorderColorInverted:h,siderColor:a,siderColorInverted:h,siderToggleButtonBorder:`1px solid ${i}`,siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:Ut(r,v),siderToggleBarColorHover:Ut(r,c),__invertScrollbar:"true"}},_r=xo({name:"Layout",common:fn,peers:{Scrollbar:wo},self:mr}),Nn=_r,Cr=Ve("n-layout-sider"),Pn={type:String,default:"static"},kr=D("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[D("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),E("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),Sr={embedded:Boolean,position:Pn,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},Dn=Ve("n-layout");function Fn(e){return Y({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},ve.props),Sr),setup(t){const n=F(null),r=F(null),{mergedClsPrefixRef:a,inlineThemeDisabled:i}=Ue(t),d=ve("Layout","-layout",kr,Nn,t,a);function v(b,k){if(t.nativeScrollbar){const{value:P}=n;P&&(k===void 0?P.scrollTo(b):P.scrollTo(b,k))}else{const{value:P}=r;P&&P.scrollTo(b,k)}}tt(Dn,t);let c=0,h=0;const u=b=>{var k;const P=b.target;c=P.scrollLeft,h=P.scrollTop,(k=t.onScroll)===null||k===void 0||k.call(t,b)};vn(()=>{if(t.nativeScrollbar){const b=n.value;b&&(b.scrollTop=h,b.scrollLeft=c)}});const S={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},p={scrollTo:v},g=V(()=>{const{common:{cubicBezierEaseInOut:b},self:k}=d.value;return{"--n-bezier":b,"--n-color":t.embedded?k.colorEmbedded:k.color,"--n-text-color":k.textColor}}),C=i?nt("layout",V(()=>t.embedded?"e":""),g,t):void 0;return Object.assign({mergedClsPrefix:a,scrollableElRef:n,scrollbarInstRef:r,hasSiderStyle:S,mergedTheme:d,handleNativeElScroll:u,cssVars:i?void 0:g,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender},p)},render(){var t;const{mergedClsPrefix:n,hasSider:r}=this;(t=this.onRender)===null||t===void 0||t.call(this);const a=r?this.hasSiderStyle:void 0,i=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return $("div",{class:i,style:this.cssVars},this.nativeScrollbar?$("div",{ref:"scrollableElRef",class:`${n}-layout-scroll-container`,style:[this.contentStyle,a],onScroll:this.handleNativeElScroll},this.$slots):$(kt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,a]}),this.$slots))}})}const xr=Fn(!1),wr=Fn(!0),$r=D("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[E("bordered",[L("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),L("left-placement",[E("bordered",[L("border",`
 right: 0;
 `)])]),E("right-placement",`
 justify-content: flex-start;
 `,[E("bordered",[L("border",`
 left: 0;
 `)]),E("collapsed",[D("layout-toggle-button",[D("base-icon",`
 transform: rotate(180deg);
 `)]),D("layout-toggle-bar",[ee("&:hover",[L("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),L("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),D("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[D("base-icon",`
 transform: rotate(0);
 `)]),D("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[ee("&:hover",[L("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),L("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),E("collapsed",[D("layout-toggle-bar",[ee("&:hover",[L("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),L("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),D("layout-toggle-button",[D("base-icon",`
 transform: rotate(0);
 `)])]),D("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[D("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),D("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[L("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),L("bottom",`
 position: absolute;
 top: 34px;
 `),ee("&:hover",[L("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),L("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),L("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),ee("&:hover",[L("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),L("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),D("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),E("show-content",[D("layout-sider-scroll-container",{opacity:1})]),E("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),Rr=Y({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return $("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},$(bn,{clsPrefix:e},{default:()=>$($o,null)}))}}),Tr=Y({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return $("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},$("div",{class:`${e}-layout-toggle-bar__top`}),$("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),Nr={position:Pn,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},Pr=Y({name:"LayoutSider",props:Object.assign(Object.assign({},ve.props),Nr),setup(e){const t=_e(Dn),n=F(null),r=F(null),a=V(()=>ft(c.value?e.collapsedWidth:e.width)),i=V(()=>e.collapseMode!=="transform"?{}:{minWidth:ft(e.width)}),d=V(()=>t?t.siderPlacement:"left"),v=F(e.defaultCollapsed),c=xe(z(e,"collapsed"),v);function h(s,f){if(e.nativeScrollbar){const{value:R}=n;R&&(f===void 0?R.scrollTo(s):R.scrollTo(s,f))}else{const{value:R}=r;R&&R.scrollTo(s,f)}}function u(){const{"onUpdate:collapsed":s,onUpdateCollapsed:f,onExpand:R,onCollapse:N}=e,{value:B}=c;f&&H(f,!B),s&&H(s,!B),v.value=!B,B?R&&H(R):N&&H(N)}let S=0,p=0;const g=s=>{var f;const R=s.target;S=R.scrollLeft,p=R.scrollTop,(f=e.onScroll)===null||f===void 0||f.call(e,s)};vn(()=>{if(e.nativeScrollbar){const s=n.value;s&&(s.scrollTop=p,s.scrollLeft=S)}}),tt(Cr,{collapsedRef:c,collapseModeRef:z(e,"collapseMode")});const{mergedClsPrefixRef:C,inlineThemeDisabled:b}=Ue(e),k=ve("Layout","-layout-sider",$r,Nn,e,C);function P(s){var f,R;s.propertyName==="max-width"&&(c.value?(f=e.onAfterLeave)===null||f===void 0||f.call(e):(R=e.onAfterEnter)===null||R===void 0||R.call(e))}const T={scrollTo:h},I=V(()=>{const{common:{cubicBezierEaseInOut:s},self:f}=k.value,{siderToggleButtonColor:R,siderToggleButtonBorder:N,siderToggleBarColor:B,siderToggleBarColorHover:te}=f,U={"--n-bezier":s,"--n-toggle-button-color":R,"--n-toggle-button-border":N,"--n-toggle-bar-color":B,"--n-toggle-bar-color-hover":te};return e.inverted?(U["--n-color"]=f.siderColorInverted,U["--n-text-color"]=f.textColorInverted,U["--n-border-color"]=f.siderBorderColorInverted,U["--n-toggle-button-icon-color"]=f.siderToggleButtonIconColorInverted,U.__invertScrollbar=f.__invertScrollbar):(U["--n-color"]=f.siderColor,U["--n-text-color"]=f.textColor,U["--n-border-color"]=f.siderBorderColor,U["--n-toggle-button-icon-color"]=f.siderToggleButtonIconColor),U}),m=b?nt("layout-sider",V(()=>e.inverted?"a":"b"),I,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:r,mergedClsPrefix:C,mergedTheme:k,styleMaxWidth:a,mergedCollapsed:c,scrollContainerStyle:i,siderPlacement:d,handleNativeElScroll:g,handleTransitionend:P,handleTriggerClick:u,inlineThemeDisabled:b,cssVars:I,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender},T)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:r}=this;return(e=this.onRender)===null||e===void 0||e.call(this),$("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:ft(this.width)}]},this.nativeScrollbar?$("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):$(kt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),r?r==="bar"?$(Tr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):$(Rr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?$("div",{class:`${t}-layout-sider__border`}):null)}}),Dr=Object.assign(Object.assign({},ve.props),{trigger:String,xScrollable:Boolean,onScroll:Function,size:Number}),Fr=Y({name:"Scrollbar",props:Dr,setup(){const e=F(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollBy(n[0],n[1])}}),{scrollbarInstRef:e})},render(){return $(kt,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),Ir=Fr,In=Ve("n-tree-select"),He=Ve("n-tree"),Ar=Y({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=_e(He,null);return()=>{const{clsPrefix:n}=e;return $("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,e.expanded&&`${n}-tree-node-switcher--expanded`,e.hide&&`${n}-tree-node-switcher--hide`],onClick:e.onClick},$("div",{class:`${n}-tree-node-switcher__icon`},$(Ro,null,{default:()=>{if(e.loading)return $(To,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:r}=t;return r?r({expanded:e.expanded,selected:e.selected}):$(bn,{clsPrefix:n,key:"switcher"},{default:()=>$(sr,null)})}})))}}}),Er=Y({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=_e(He);function n(a){const{onCheck:i}=e;i&&i(a)}function r(a){e.indeterminate?n(!1):n(a)}return{handleUpdateValue:r,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:r,disabled:a,focusable:i,handleUpdateValue:d}=this;return $("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},$(No,{focusable:i,disabled:a,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:r,onUpdateChecked:d}))}}),Or=Y({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:r,labelFieldRef:a}=_e(He),i=F(null);function d(c){const{onClick:h}=e;h&&h(c)}function v(c){d(c)}return{selfRef:i,renderLabel:t,renderPrefix:n,renderSuffix:r,labelField:a,handleClick:v}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:r=!1,selected:a=!1,renderLabel:i,renderPrefix:d,renderSuffix:v,handleClick:c,onDragstart:h,tmNode:{rawNode:u,rawNode:{prefix:S,suffix:p,[t]:g}}}=this;return $("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:c,draggable:h===void 0?void 0:!0,onDragstart:h}),d||S?$("div",{class:`${e}-tree-node-content__prefix`},d?d({option:u,selected:a,checked:r}):ht(S)):null,$("div",{class:`${e}-tree-node-content__text`},i?i({option:u,selected:a,checked:r}):ht(g)),v||p?$("div",{class:`${e}-tree-node-content__suffix`},v?v({option:u,selected:a,checked:r}):ht(p)):null)}});function Xt({position:e,offsetLevel:t,indent:n,el:r}){const a={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")a.left=0,a.top=0,a.bottom=0,a.borderRadius="inherit",a.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const i=e==="before"?"top":"bottom";a[i]=0,a.left=`${r.offsetLeft+6-t*n}px`,a.height="2px",a.backgroundColor="var(--n-drop-mark-color)",a.transformOrigin=i,a.borderRadius="1px",a.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return $("div",{style:a})}function Kr({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}function Br(e){return V(()=>e.leafOnly?"child":e.checkStrategy)}function ye(e,t){return!!e.rawNode[t]}function An(e,t,n,r){e==null||e.forEach(a=>{n(a),An(a[t],t,n,r),r(a)})}function zr(e,t,n,r,a){const i=new Set,d=new Set,v=[];return An(e,r,c=>{if(v.push(c),a(t,c)){d.add(c[n]);for(let h=v.length-2;h>=0;--h)if(!i.has(v[h][n]))i.add(v[h][n]);else return}},()=>{v.pop()}),{expandedKeys:Array.from(i),highlightKeySet:d}}if(Po&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Lr(e,t,n,r,a){const i=new Set,d=new Set,v=new Set,c=[],h=[],u=[];function S(g){g.forEach(C=>{if(u.push(C),t(n,C)){i.add(C[r]),v.add(C[r]);for(let k=u.length-2;k>=0;--k){const P=u[k][r];if(!d.has(P))d.add(P),i.has(P)&&i.delete(P);else break}}const b=C[a];b&&S(b),u.pop()})}S(e);function p(g,C){g.forEach(b=>{const k=b[r],P=i.has(k),T=d.has(k);if(!P&&!T)return;const I=b[a];if(I)if(P)C.push(b);else{c.push(k);const m=Object.assign(Object.assign({},b),{[a]:[]});C.push(m),p(I,m[a])}else C.push(b)})}return p(e,h),{filteredTree:h,highlightKeySet:v,expandedKeys:c}}const jr=Y({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=_e(He),{droppingNodeParentRef:n,droppingMouseNodeRef:r,draggingNodeRef:a,droppingPositionRef:i,droppingOffsetLevelRef:d,nodePropsRef:v,indentRef:c,blockLineRef:h,checkboxPlacementRef:u,checkOnClickRef:S,disabledFieldRef:p}=t,g=Q(()=>!!e.tmNode.rawNode.checkboxDisabled),C=Q(()=>ye(e.tmNode,p.value)),b=Q(()=>t.disabledRef.value||C.value),k=V(()=>{const{value:_}=v;if(_)return _({option:e.tmNode.rawNode})}),P=F(null),T={value:null};St(()=>{T.value=P.value.$el});function I(){const{tmNode:_}=e;if(!_.isLeaf&&!_.shallowLoaded){if(!t.loadingKeysRef.value.has(_.key))t.loadingKeysRef.value.add(_.key);else return;const{onLoadRef:{value:O}}=t;O&&O(_.rawNode).then(G=>{G!==!1&&t.handleSwitcherClick(_)}).finally(()=>{t.loadingKeysRef.value.delete(_.key)})}else t.handleSwitcherClick(_)}const m=Q(()=>!C.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),s=Q(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),f=Q(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),R=Q(()=>{const{value:_}=s;if(!_)return!1;const{value:O}=S;return typeof O=="boolean"?O:O(e.tmNode.rawNode)});function N(_){const{value:O}=t.expandOnClickRef,{value:G}=m,{value:Re}=R;if(!G&&!O&&!Re||Ht(_,"checkbox")||Ht(_,"switcher"))return;const{tmNode:Ge}=e;G&&t.handleSelect(Ge),O&&!Ge.isLeaf&&I(),Re&&U(!f.value)}function B(_){var O,G;h.value||(b.value||N(_),(G=(O=k.value)===null||O===void 0?void 0:O.onClick)===null||G===void 0||G.call(O,_))}function te(_){var O,G;h.value&&(b.value||N(_),(G=(O=k.value)===null||O===void 0?void 0:O.onClick)===null||G===void 0||G.call(O,_))}function U(_){t.handleCheck(e.tmNode,_)}function de(_){t.handleDragStart({event:_,node:e.tmNode})}function Ee(_){_.currentTarget===_.target&&t.handleDragEnter({event:_,node:e.tmNode})}function oe(_){_.preventDefault(),t.handleDragOver({event:_,node:e.tmNode})}function ce(_){t.handleDragEnd({event:_,node:e.tmNode})}function ue(_){_.currentTarget===_.target&&t.handleDragLeave({event:_,node:e.tmNode})}function Oe(_){_.preventDefault(),i.value!==null&&t.handleDrop({event:_,node:e.tmNode,dropPosition:i.value})}return{showDropMark:Q(()=>{const{value:_}=a;if(!_)return;const{value:O}=i;if(!O)return;const{value:G}=r;if(!G)return;const{tmNode:Re}=e;return Re.key===G.key}),showDropMarkAsParent:Q(()=>{const{value:_}=n;if(!_)return!1;const{tmNode:O}=e,{value:G}=i;return G==="before"||G==="after"?_.key===O.key:!1}),pending:Q(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:Q(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:Q(()=>{var _;return(_=t.highlightKeySetRef.value)===null||_===void 0?void 0:_.has(e.tmNode.key)}),checked:f,indeterminate:Q(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:Q(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:Q(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:b,checkable:s,mergedCheckOnClick:R,checkboxDisabled:g,selectable:m,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:h,nodeProps:k,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:i,droppingOffsetLevel:d,indent:c,checkboxPlacement:u,contentInstRef:P,contentElRef:T,handleCheck:U,handleDrop:Oe,handleDragStart:de,handleDragEnter:Ee,handleDragOver:oe,handleDragEnd:ce,handleDragLeave:ue,handleLineClick:te,handleContentClick:B,handleSwitcherClick:I}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:r,selectable:a,selected:i,checked:d,highlight:v,draggable:c,blockLine:h,indent:u,disabled:S,pending:p,internalScrollable:g,nodeProps:C,checkboxPlacement:b}=this,k=c&&!S?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,P=g?Rn(e.key):void 0,T=b==="right",I=n?$(Er,{right:T,focusable:this.checkboxFocusable,disabled:S||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return $("div",Object.assign({class:`${t}-tree-node-wrapper`},k),$("div",Object.assign({},h?C:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:i,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:v,[`${t}-tree-node--pending`]:p,[`${t}-tree-node--disabled`]:S,[`${t}-tree-node--selectable`]:a,[`${t}-tree-node--clickable`]:a||r||this.mergedCheckOnClick},C==null?void 0:C.class],"data-key":P,draggable:c&&h,onClick:this.handleLineClick,onDragstart:c&&h&&!S?this.handleDragStart:void 0}),Do(e.level,$("div",{class:`${t}-tree-node-indent`},$("div",{style:{width:`${u}px`}}))),$(Ar,{clsPrefix:t,expanded:this.expanded,selected:i,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),T?null:I,$(Or,{ref:"contentInstRef",clsPrefix:t,checked:d,selected:i,onClick:this.handleContentClick,nodeProps:h?void 0:C,onDragstart:c&&!h&&!S?this.handleDragStart:void 0,tmNode:e}),c?this.showDropMark?Xt({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:u}):this.showDropMarkAsParent?Xt({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:u}):null:null,T?I:null))}}),En=jr;function Mr({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:r,handleSelect:a,handleSwitcherClick:i}){const{value:d}=r,v=_e(In,null),c=v?v.pendingNodeKeyRef:F(d.length?d[d.length-1]:null);function h(u){if(!e.keyboard)return;const{value:S}=c;if(S===null){if((u.key==="ArrowDown"||u.key==="ArrowUp")&&u.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(u.key)&&S===null){const{value:p}=t;let g=0;for(;g<p.length;){if(!p[g].disabled){c.value=p[g].key;break}g+=1}}}else{const{value:p}=t;let g=p.findIndex(C=>C.key===S);if(!~g)return;if(u.key==="Enter")a(p[g]);else if(u.key==="ArrowDown")for(u.preventDefault(),g+=1;g<p.length;){if(!p[g].disabled){c.value=p[g].key;break}g+=1}else if(u.key==="ArrowUp")for(u.preventDefault(),g-=1;g>=0;){if(!p[g].disabled){c.value=p[g].key;break}g-=1}else if(u.key==="ArrowLeft"){const C=p[g];if(C.isLeaf||!n.value.includes(S)){const b=C.getParent();b&&(c.value=b.key)}else i(C)}else if(u.key==="ArrowRight"){const C=p[g];if(C.isLeaf)return;if(!n.value.includes(S))i(C);else for(g+=1;g<p.length;){if(!p[g].disabled){c.value=p[g].key;break}g+=1}}}}return{pendingNodeKeyRef:c,handleKeydown:h}}const Vr=Y({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return $(Io,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>$("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:Fo(this.height)}},this.nodes.map(t=>$(En,{clsPrefix:e,tmNode:t})))})}}),Ur=D("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[ee("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),ee(">",[D("tree-node",[ee("&:first-child",{marginTop:0})])]),D("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),D("tree-motion-wrapper",[E("expand",[Gt({duration:"0.2s"})]),E("collapse",[Gt({duration:"0.2s",reverse:!0})])]),D("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),D("tree-node",`
 transform: translate3d(0,0,0);
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[E("highlight",[D("tree-node-content",[L("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),E("disabled",[D("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Se("disabled",[E("clickable",[D("tree-node-content",`
 cursor: pointer;
 `)])])]),E("block-node",[D("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),Se("block-line",[D("tree-node",[Se("disabled",[D("tree-node-content",[ee("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),E("selectable",[D("tree-node-content",[ee("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),E("pending",[D("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),E("selected",[D("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),E("block-line",[D("tree-node",[Se("disabled",[ee("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),E("pending",`
 background-color: var(--n-node-color-hover);
 `),E("selectable",[Se("selected",[ee("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),E("selected",{backgroundColor:"var(--n-node-color-active)"})]),E("disabled",`
 cursor: not-allowed;
 `)])]),D("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[L("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[D("icon",[gt()]),D("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[gt()]),D("base-icon",[gt()])]),E("hide",{visibility:"hidden"}),E("expanded",{transform:"rotate(90deg)"})]),D("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[E("right","margin-left: 4px;")]),E("checkable",[D("tree-node-content",`
 padding: 0 6px;
 `)]),D("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[ee("&:last-child",{marginBottom:0}),L("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),L("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),L("suffix",`
 display: inline-flex;
 `)]),L("empty","margin: auto;")]);var Hr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(d){d(i)})}return new(n||(n=Promise))(function(i,d){function v(u){try{h(r.next(u))}catch(S){d(S)}}function c(u){try{h(r.throw(u))}catch(S){d(S)}}function h(u){u.done?i(u.value):a(u.value).then(v,c)}h((r=r.apply(e,t||[])).next())})};const et=30;function Gr(e,t,n,r){return{getIsGroup(){return!1},getKey(i){return i[e]},getChildren:r||(i=>i[t]),getDisabled(i){return!!(i[n]||i.checkboxDisabled)}}}const qr={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Yr=Object.assign(Object.assign(Object.assign(Object.assign({},ve.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:Kr},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),qr),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Wr=Y({name:"Tree",props:Yr,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=Ue(e),a=gn("Tree",r,t),i=ve("Tree","-tree",Ur,Ko,e,t),d=F(null),v=F(null),c=F(null);function h(){var o;return(o=c.value)===null||o===void 0?void 0:o.listElRef}function u(){var o;return(o=c.value)===null||o===void 0?void 0:o.itemsElRef}const S=V(()=>{const{filter:o}=e;if(o)return o;const{labelField:l}=e;return(y,x)=>{if(!y.length)return!0;const w=x[l];return typeof w=="string"?w.toLowerCase().includes(y.toLowerCase()):!1}}),p=V(()=>{const{pattern:o}=e;return o?!o.length||!S.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Lr(e.data,S.value,o,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),g=V(()=>Bo(e.showIrrelevantNodes?e.data:p.value.filteredTree,Gr(e.keyField,e.childrenField,e.disabledField,e.getChildren))),C=_e(In,null),b=e.internalTreeSelect?C.dataTreeMate:g,{watchProps:k}=e,P=F([]);k!=null&&k.includes("defaultCheckedKeys")?Le(()=>{P.value=e.defaultCheckedKeys}):P.value=e.defaultCheckedKeys;const T=z(e,"checkedKeys"),I=xe(T,P),m=V(()=>b.value.getCheckedKeys(I.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),s=Br(e),f=V(()=>m.value.checkedKeys),R=V(()=>{const{indeterminateKeys:o}=e;return o!==void 0?o:m.value.indeterminateKeys}),N=F([]);k!=null&&k.includes("defaultSelectedKeys")?Le(()=>{N.value=e.defaultSelectedKeys}):N.value=e.defaultSelectedKeys;const B=z(e,"selectedKeys"),te=xe(B,N),U=F([]),de=o=>{U.value=e.defaultExpandAll?b.value.getNonLeafKeys():o===void 0?e.defaultExpandedKeys:o};k!=null&&k.includes("defaultExpandedKeys")?Le(()=>{de(void 0)}):Le(()=>{de(e.defaultExpandedKeys)});const Ee=z(e,"expandedKeys"),oe=xe(Ee,U),ce=V(()=>g.value.getFlattenedNodes(oe.value)),{pendingNodeKeyRef:ue,handleKeydown:Oe}=Mr({props:e,mergedSelectedKeysRef:te,fNodesRef:ce,mergedExpandedKeysRef:oe,handleSelect:dt,handleSwitcherClick:Ot});let _=null,O=null;const G=F(new Set),Re=V(()=>e.internalHighlightKeySet||p.value.highlightKeySet),Ge=xe(Re,G),qe=F(new Set),Hn=V(()=>oe.value.filter(o=>!qe.value.has(o)));let Ft=0;const Ke=F(null),Ye=F(null),We=F(null),Je=F(null),Xe=F(0),Gn=V(()=>{const{value:o}=Ye;return o?o.parent:null});me(z(e,"data"),()=>{qe.value.clear(),ue.value=null,ze()},{deep:!1});let lt=!1;const it=()=>{lt=!0,ge(()=>{lt=!1})};let Be;me(z(e,"pattern"),(o,l)=>{if(e.showIrrelevantNodes)if(Be=void 0,o){const{expandedKeys:y,highlightKeySet:x}=zr(e.data,e.pattern,e.keyField,e.childrenField,S.value);G.value=x,it(),Ne(y,le(y),{node:null,action:"filter"})}else G.value=new Set;else if(!o.length)Be!==void 0&&(it(),Ne(Be,le(Be),{node:null,action:"filter"}));else{l.length||(Be=oe.value);const{expandedKeys:y}=p.value;y!==void 0&&(it(),Ne(y,le(y),{node:null,action:"filter"}))}});function It(o){return Hr(this,void 0,void 0,function*(){const{onLoad:l}=e;if(!l){yield Promise.resolve();return}const{value:y}=qe;if(!y.has(o.key)){y.add(o.key);try{(yield l(o.rawNode))===!1&&Pe()}catch(x){console.error(x),Pe()}y.delete(o.key)}})}Le(()=>{var o;const{value:l}=g;if(!l)return;const{getNode:y}=l;(o=oe.value)===null||o===void 0||o.forEach(x=>{const w=y(x);w&&!w.shallowLoaded&&It(w)})});const Te=F(!1),be=F([]);me(Hn,(o,l)=>{if(!e.animated||lt){ge(Ze);return}const y=new Set(l);let x=null,w=null;for(const q of o)if(!y.has(q)){if(x!==null)return;x=q}const X=new Set(o);for(const q of l)if(!X.has(q)){if(w!==null)return;w=q}if(x===null&&w===null)return;const{virtualScroll:W}=e,he=(W?c.value.listElRef:d.value).offsetHeight,ke=Math.ceil(he/et)+1;let fe;if(x!==null&&(fe=l),w!==null&&(fe===void 0?fe=o:fe=fe.filter(q=>q!==w)),Te.value=!0,be.value=g.value.getFlattenedNodes(fe),x!==null){const q=be.value.findIndex(Z=>Z.key===x);if(~q){const Z=be.value[q].children;if(Z){const pe=Yt(Z,o);be.value.splice(q+1,0,{__motion:!0,mode:"expand",height:W?pe.length*et:void 0,nodes:W?pe.slice(0,ke):pe})}}}if(w!==null){const q=be.value.findIndex(Z=>Z.key===w);if(~q){const Z=be.value[q].children;if(!Z)return;Te.value=!0;const pe=Yt(Z,o);be.value.splice(q+1,0,{__motion:!0,mode:"collapse",height:W?pe.length*et:void 0,nodes:W?pe.slice(0,ke):pe})}}});const qn=V(()=>zo(ce.value)),Yn=V(()=>Te.value?be.value:ce.value);function Ze(){const{value:o}=v;o&&o.sync()}function Wn(){Te.value=!1,e.virtualScroll&&ge(Ze)}function le(o){const{getNode:l}=b.value;return o.map(y=>{var x;return((x=l(y))===null||x===void 0?void 0:x.rawNode)||null})}function Ne(o,l,y){const{"onUpdate:expandedKeys":x,onUpdateExpandedKeys:w}=e;U.value=o,x&&H(x,o,l,y),w&&H(w,o,l,y)}function At(o,l,y){const{"onUpdate:checkedKeys":x,onUpdateCheckedKeys:w}=e;P.value=o,w&&H(w,o,l,y),x&&H(x,o,l,y)}function Jn(o,l){const{"onUpdate:indeterminateKeys":y,onUpdateIndeterminateKeys:x}=e;y&&H(y,o,l),x&&H(x,o,l)}function st(o,l,y){const{"onUpdate:selectedKeys":x,onUpdateSelectedKeys:w}=e;N.value=o,w&&H(w,o,l,y),x&&H(x,o,l,y)}function Xn(o){const{onDragenter:l}=e;l&&H(l,o)}function Zn(o){const{onDragleave:l}=e;l&&H(l,o)}function Qn(o){const{onDragend:l}=e;l&&H(l,o)}function eo(o){const{onDragstart:l}=e;l&&H(l,o)}function to(o){const{onDragover:l}=e;l&&H(l,o)}function no(o){const{onDrop:l}=e;l&&H(l,o)}function ze(){oo(),Ce()}function oo(){Ke.value=null}function Ce(){Xe.value=0,Ye.value=null,We.value=null,Je.value=null,Pe()}function Pe(){_&&(window.clearTimeout(_),_=null),O=null}function Et(o,l){if(e.disabled||ye(o,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){dt(o);return}const y=l?"check":"uncheck",{checkedKeys:x,indeterminateKeys:w}=b.value[y](o.key,f.value,{cascade:e.cascade,checkStrategy:s.value,allowNotLoaded:e.allowCheckingNotLoaded});At(x,le(x),{node:o.rawNode,action:y}),Jn(w,le(w))}function ro(o){if(e.disabled)return;const{key:l}=o,{value:y}=oe,x=y.findIndex(w=>w===l);if(~x){const w=Array.from(y);w.splice(x,1),Ne(w,le(w),{node:o.rawNode,action:"collapse"})}else{const w=g.value.getNode(l);if(!w||w.isLeaf)return;let X;if(e.accordion){const W=new Set(o.siblings.map(({key:he})=>he));X=y.filter(he=>!W.has(he)),X.push(l)}else X=y.concat(l);Ne(X,le(X),{node:o.rawNode,action:"expand"})}}function Ot(o){e.disabled||Te.value||ro(o)}function dt(o){if(!(e.disabled||!e.selectable)){if(ue.value=o.key,e.internalUnifySelectCheck){const{value:{checkedKeys:l,indeterminateKeys:y}}=m;e.multiple?Et(o,!(l.includes(o.key)||y.includes(o.key))):At([o.key],le([o.key]),{node:o.rawNode,action:"check"})}if(e.multiple){const l=Array.from(te.value),y=l.findIndex(x=>x===o.key);~y?e.cancelable&&l.splice(y,1):~y||l.push(o.key),st(l,le(l),{node:o.rawNode,action:~y?"unselect":"select"})}else te.value.includes(o.key)?e.cancelable&&st([],[],{node:o.rawNode,action:"unselect"}):st([o.key],le([o.key]),{node:o.rawNode,action:"select"})}}function ao(o){if(_&&(window.clearTimeout(_),_=null),o.isLeaf)return;O=o.key;const l=()=>{if(O!==o.key)return;const{value:y}=We;if(y&&y.key===o.key&&!oe.value.includes(o.key)){const x=oe.value.concat(o.key);Ne(x,le(x),{node:o.rawNode,action:"expand"})}_=null,O=null};o.shallowLoaded?_=window.setTimeout(()=>{l()},1e3):_=window.setTimeout(()=>{It(o).then(()=>{l()})},1e3)}function lo({event:o,node:l}){!e.draggable||e.disabled||ye(l,e.disabledField)||(Kt({event:o,node:l},!1),Xn({event:o,node:l.rawNode}))}function io({event:o,node:l}){!e.draggable||e.disabled||ye(l,e.disabledField)||Zn({event:o,node:l.rawNode})}function so(o){o.target===o.currentTarget&&Ce()}function co({event:o,node:l}){ze(),!(!e.draggable||e.disabled||ye(l,e.disabledField))&&Qn({event:o,node:l.rawNode})}function uo({event:o,node:l}){!e.draggable||e.disabled||ye(l,e.disabledField)||(Ft=o.clientX,Ke.value=l,eo({event:o,node:l.rawNode}))}function Kt({event:o,node:l},y=!0){var x;if(!e.draggable||e.disabled||ye(l,e.disabledField))return;const{value:w}=Ke;if(!w)return;const{allowDrop:X,indent:W}=e;y&&to({event:o,node:l.rawNode});const he=o.currentTarget,{height:ke,top:fe}=he.getBoundingClientRect(),q=o.clientY-fe;let Z;X({node:l.rawNode,dropPosition:"inside",phase:"drag"})?q<=8?Z="before":q>=ke-8?Z="after":Z="inside":q<=ke/2?Z="before":Z="after";const{value:yo}=qn;let M,re;const ct=yo(l.key);if(ct===null){Ce();return}let zt=!1;Z==="inside"?(M=l,re="inside"):Z==="before"?l.isFirstChild?(M=l,re="before"):(M=ce.value[ct-1],re="after"):(M=l,re="after"),!M.isLeaf&&oe.value.includes(M.key)&&(zt=!0,re==="after"&&(M=ce.value[ct+1],M?re="before":(M=l,re="inside")));const Lt=M;if(We.value=Lt,!zt&&w.isLastChild&&w.key===M.key&&(re="after"),re==="after"){let jt=Ft-o.clientX,ut=0;for(;jt>=W/2&&M.parent!==null&&M.isLastChild&&ut<1;)jt-=W,ut+=1,M=M.parent;Xe.value=ut}else Xe.value=0;if((w.contains(M)||re==="inside"&&((x=w.parent)===null||x===void 0?void 0:x.key)===M.key)&&!(w.key===Lt.key&&w.key===M.key)){Ce();return}if(!X({node:M.rawNode,dropPosition:re,phase:"drag"})){Ce();return}if(w.key===M.key)Pe();else if(O!==M.key)if(re==="inside"){if(e.expandOnDragenter){if(ao(M),!M.shallowLoaded&&O!==M.key){ze();return}}else if(!M.shallowLoaded){ze();return}}else Pe();else re!=="inside"&&Pe();Je.value=re,Ye.value=M}function fo({event:o,node:l,dropPosition:y}){if(!e.draggable||e.disabled||ye(l,e.disabledField))return;const{value:x}=Ke,{value:w}=Ye,{value:X}=Je;if(!(!x||!w||!X)&&e.allowDrop({node:w.rawNode,dropPosition:X,phase:"drag"})&&x.key!==w.key){if(X==="before"){const W=x.getNext({includeDisabled:!0});if(W&&W.key===w.key){Ce();return}}if(X==="after"){const W=x.getPrev({includeDisabled:!0});if(W&&W.key===w.key){Ce();return}}no({event:o,node:w.rawNode,dragNode:x.rawNode,dropPosition:y}),ze()}}function ho(){Ze()}function go(){Ze()}function vo(o){var l;if(e.virtualScroll||e.internalScrollable){const{value:y}=v;if(!((l=y==null?void 0:y.containerRef)===null||l===void 0)&&l.contains(o.relatedTarget))return;ue.value=null}else{const{value:y}=d;if(y!=null&&y.contains(o.relatedTarget))return;ue.value=null}}me(ue,o=>{var l,y;if(o!==null){if(e.virtualScroll)(l=c.value)===null||l===void 0||l.scrollTo({key:o});else if(e.internalScrollable){const{value:x}=v;if(x===null)return;const w=(y=x.contentRef)===null||y===void 0?void 0:y.querySelector(`[data-key="${Rn(o)}"]`);if(!w)return;x.scrollTo({el:w})}}}),tt(He,{loadingKeysRef:qe,highlightKeySetRef:Ge,displayedCheckedKeysRef:f,displayedIndeterminateKeysRef:R,mergedSelectedKeysRef:te,mergedExpandedKeysRef:oe,mergedThemeRef:i,mergedCheckStrategyRef:s,nodePropsRef:z(e,"nodeProps"),disabledRef:z(e,"disabled"),checkableRef:z(e,"checkable"),selectableRef:z(e,"selectable"),expandOnClickRef:z(e,"expandOnClick"),onLoadRef:z(e,"onLoad"),draggableRef:z(e,"draggable"),blockLineRef:z(e,"blockLine"),indentRef:z(e,"indent"),cascadeRef:z(e,"cascade"),checkOnClickRef:z(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:We,droppingNodeParentRef:Gn,draggingNodeRef:Ke,droppingPositionRef:Je,droppingOffsetLevelRef:Xe,fNodesRef:ce,pendingNodeKeyRef:ue,disabledFieldRef:z(e,"disabledField"),internalScrollableRef:z(e,"internalScrollable"),internalCheckboxFocusableRef:z(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:z(e,"renderLabel"),renderPrefixRef:z(e,"renderPrefix"),renderSuffixRef:z(e,"renderSuffix"),renderSwitcherIconRef:z(e,"renderSwitcherIcon"),labelFieldRef:z(e,"labelField"),multipleRef:z(e,"multiple"),handleSwitcherClick:Ot,handleDragEnd:co,handleDragEnter:lo,handleDragLeave:io,handleDragStart:uo,handleDrop:fo,handleDragOver:Kt,handleSelect:dt,handleCheck:Et});function bo(o){var l;(l=c.value)===null||l===void 0||l.scrollTo(o)}const po={handleKeydown:Oe,scrollTo:bo,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:o}=m.value;return{keys:o,options:le(o)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:o}=m.value;return{keys:o,options:le(o)}}},Bt=V(()=>{const{common:{cubicBezierEaseInOut:o},self:{fontSize:l,nodeBorderRadius:y,nodeColorHover:x,nodeColorPressed:w,nodeColorActive:X,arrowColor:W,loadingColor:he,nodeTextColor:ke,nodeTextColorDisabled:fe,dropMarkColor:q}}=i.value;return{"--n-arrow-color":W,"--n-loading-color":he,"--n-bezier":o,"--n-font-size":l,"--n-node-border-radius":y,"--n-node-color-active":X,"--n-node-color-hover":x,"--n-node-color-pressed":w,"--n-node-text-color":ke,"--n-node-text-color-disabled":fe,"--n-drop-mark-color":q}}),De=n?nt("tree",void 0,Bt,e):void 0;return Object.assign(Object.assign({},po),{mergedClsPrefix:t,mergedTheme:i,rtlEnabled:a,fNodes:Yn,aip:Te,selfElRef:d,virtualListInstRef:c,scrollbarInstRef:v,handleFocusout:vo,handleDragLeaveTree:so,handleScroll:ho,getScrollContainer:h,getScrollContent:u,handleAfterEnter:Wn,handleResize:go,cssVars:n?void 0:Bt,themeClass:De==null?void 0:De.themeClass,onRender:De==null?void 0:De.onRender})},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:r,blockNode:a,blockLine:i,draggable:d,disabled:v,internalFocusable:c,checkable:h,handleKeydown:u,rtlEnabled:S,handleFocusout:p}=this,g=c&&!v,C=g?"0":void 0,b=[`${r}-tree`,S&&`${r}-tree--rtl`,h&&`${r}-tree--checkable`,(i||a)&&`${r}-tree--block-node`,i&&`${r}-tree--block-line`],k=T=>"__motion"in T?$(Vr,{height:T.height,nodes:T.nodes,clsPrefix:r,mode:T.mode,onAfterEnter:this.handleAfterEnter}):$(En,{key:T.key,tmNode:T,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:T,internalScrollablePadding:I}=this,m=Ao(I||"0");return $(qt,{ref:"scrollbarInstRef",onDragleave:d?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:b,theme:T.peers.Scrollbar,themeOverrides:T.peerOverrides.Scrollbar,tabindex:C,onKeydown:g?u:void 0,onFocusout:g?p:void 0},{default:()=>{var s;return(s=this.onRender)===null||s===void 0||s.call(this),$(Eo,{ref:"virtualListInstRef",items:this.fNodes,itemSize:et,ignoreItemResize:this.aip,paddingTop:m.top,paddingBottom:m.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:m.left,paddingRight:m.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:f})=>k(f)})}})}const{internalScrollable:P}=this;return b.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),P?$(qt,{class:b,tabindex:C,onKeydown:g?u:void 0,onFocusout:g?p:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>$("div",{onDragleave:d?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(k))}):$("div",{class:b,tabindex:C,ref:"selfElRef",style:this.cssVars,onKeydown:g?u:void 0,onFocusout:g?p:void 0,onDragleave:d?this.handleDragLeaveTree:void 0},t.length?t.map(k):Oo(this.$slots.empty,()=>[$(Lo,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),Jr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Xr=se("g",{fill:"none"},[se("path",{d:"M11.5 8H16v-.586a1.496 1.496 0 0 0-.057-.41L15.942 7a1.5 1.5 0 0 0-.381-.646l-3.915-3.915A1.5 1.5 0 0 0 10.586 2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h2.221l-.013-.026A1.856 1.856 0 0 1 8.003 17H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4v3.5A1.5 1.5 0 0 0 11.5 8zm0-1a.5.5 0 0 1-.5-.5V3.207L14.793 7H11.5zm3.31 2.548a1.87 1.87 0 1 1 2.644 2.645l-4.83 4.829a2.197 2.197 0 0 1-1.02.578l-1.498.374a.89.89 0 0 1-1.079-1.078l.375-1.498c.096-.386.296-.74.578-1.02l4.83-4.83z",fill:"currentColor"})],-1),Zr=[Xr],Qr=Y({name:"DocumentEdit20Regular",render:function(t,n){return j(),ne("svg",Jr,Zr)}}),ea={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ta=se("g",{fill:"none"},[se("path",{d:"M5 3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.621a2 2 0 0 0-.586-1.414l-1.621-1.621A2 2 0 0 0 11.379 3H5zM4 5a1 1 0 0 1 1-1h1v1.5A1.5 1.5 0 0 0 7.5 7h2A1.5 1.5 0 0 0 11 5.5V4h.379a1 1 0 0 1 .707.293l1.621 1.621a1 1 0 0 1 .293.707V13a1 1 0 0 1-1 1v-3.5A1.5 1.5 0 0 0 11.5 9h-5A1.5 1.5 0 0 0 5 10.5V14a1 1 0 0 1-1-1V5zm3 .5V4h3v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5zm5 5V14H6v-3.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5zM8.5 17a3.489 3.489 0 0 1-2.45-1h7.45a2.5 2.5 0 0 0 2.5-2.5V6.05c.618.632 1 1.497 1 2.45v5a3.5 3.5 0 0 1-3.5 3.5h-5z",fill:"currentColor"})],-1),na=[ta],oa=Y({name:"SaveMultiple20Regular",render:function(t,n){return j(),ne("svg",ea,na)}});var ra=Array.isArray,wt=ra,aa=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,la=aa,ia=la,sa=typeof self=="object"&&self&&self.Object===Object&&self,da=ia||sa||Function("return this")(),$t=da,ca=$t,ua=ca.Symbol,Rt=ua,Zt=Rt,On=Object.prototype,fa=On.hasOwnProperty,ha=On.toString,je=Zt?Zt.toStringTag:void 0;function ga(e){var t=fa.call(e,je),n=e[je];try{e[je]=void 0;var r=!0}catch{}var a=ha.call(e);return r&&(t?e[je]=n:delete e[je]),a}var va=ga,ba=Object.prototype,pa=ba.toString;function ya(e){return pa.call(e)}var ma=ya,Qt=Rt,_a=va,Ca=ma,ka="[object Null]",Sa="[object Undefined]",en=Qt?Qt.toStringTag:void 0;function xa(e){return e==null?e===void 0?Sa:ka:en&&en in Object(e)?_a(e):Ca(e)}var Kn=xa;function wa(e){return e!=null&&typeof e=="object"}var $a=wa,Ra=Kn,Ta=$a,Na="[object Symbol]";function Pa(e){return typeof e=="symbol"||Ta(e)&&Ra(e)==Na}var Tt=Pa,Da=wt,Fa=Tt,Ia=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Aa=/^\w*$/;function Ea(e,t){if(Da(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Fa(e)?!0:Aa.test(e)||!Ia.test(e)||t!=null&&e in Object(t)}var Oa=Ea;function Ka(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nt=Ka,Ba=Kn,za=Nt,La="[object AsyncFunction]",ja="[object Function]",Ma="[object GeneratorFunction]",Va="[object Proxy]";function Ua(e){if(!za(e))return!1;var t=Ba(e);return t==ja||t==Ma||t==La||t==Va}var Ha=Ua,Ga=$t,qa=Ga["__core-js_shared__"],Ya=qa,pt=Ya,tn=function(){var e=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Wa(e){return!!tn&&tn in e}var Ja=Wa,Xa=Function.prototype,Za=Xa.toString;function Qa(e){if(e!=null){try{return Za.call(e)}catch{}try{return e+""}catch{}}return""}var el=Qa,tl=Ha,nl=Ja,ol=Nt,rl=el,al=/[\\^$.*+?()[\]{}|]/g,ll=/^\[object .+?Constructor\]$/,il=Function.prototype,sl=Object.prototype,dl=il.toString,cl=sl.hasOwnProperty,ul=RegExp("^"+dl.call(cl).replace(al,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fl(e){if(!ol(e)||nl(e))return!1;var t=tl(e)?ul:ll;return t.test(rl(e))}var hl=fl;function gl(e,t){return e==null?void 0:e[t]}var vl=gl,bl=hl,pl=vl;function yl(e,t){var n=pl(e,t);return bl(n)?n:void 0}var Pt=yl,ml=Pt,_l=ml(Object,"create"),ot=_l,nn=ot;function Cl(){this.__data__=nn?nn(null):{},this.size=0}var kl=Cl;function Sl(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xl=Sl,wl=ot,$l="__lodash_hash_undefined__",Rl=Object.prototype,Tl=Rl.hasOwnProperty;function Nl(e){var t=this.__data__;if(wl){var n=t[e];return n===$l?void 0:n}return Tl.call(t,e)?t[e]:void 0}var Pl=Nl,Dl=ot,Fl=Object.prototype,Il=Fl.hasOwnProperty;function Al(e){var t=this.__data__;return Dl?t[e]!==void 0:Il.call(t,e)}var El=Al,Ol=ot,Kl="__lodash_hash_undefined__";function Bl(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ol&&t===void 0?Kl:t,this}var zl=Bl,Ll=kl,jl=xl,Ml=Pl,Vl=El,Ul=zl;function Fe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fe.prototype.clear=Ll;Fe.prototype.delete=jl;Fe.prototype.get=Ml;Fe.prototype.has=Vl;Fe.prototype.set=Ul;var Hl=Fe;function Gl(){this.__data__=[],this.size=0}var ql=Gl;function Yl(e,t){return e===t||e!==e&&t!==t}var Bn=Yl,Wl=Bn;function Jl(e,t){for(var n=e.length;n--;)if(Wl(e[n][0],t))return n;return-1}var rt=Jl,Xl=rt,Zl=Array.prototype,Ql=Zl.splice;function ei(e){var t=this.__data__,n=Xl(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ql.call(t,n,1),--this.size,!0}var ti=ei,ni=rt;function oi(e){var t=this.__data__,n=ni(t,e);return n<0?void 0:t[n][1]}var ri=oi,ai=rt;function li(e){return ai(this.__data__,e)>-1}var ii=li,si=rt;function di(e,t){var n=this.__data__,r=si(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ci=di,ui=ql,fi=ti,hi=ri,gi=ii,vi=ci;function Ie(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ie.prototype.clear=ui;Ie.prototype.delete=fi;Ie.prototype.get=hi;Ie.prototype.has=gi;Ie.prototype.set=vi;var bi=Ie,pi=Pt,yi=$t,mi=pi(yi,"Map"),_i=mi,on=Hl,Ci=bi,ki=_i;function Si(){this.size=0,this.__data__={hash:new on,map:new(ki||Ci),string:new on}}var xi=Si;function wi(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $i=wi,Ri=$i;function Ti(e,t){var n=e.__data__;return Ri(t)?n[typeof t=="string"?"string":"hash"]:n.map}var at=Ti,Ni=at;function Pi(e){var t=Ni(this,e).delete(e);return this.size-=t?1:0,t}var Di=Pi,Fi=at;function Ii(e){return Fi(this,e).get(e)}var Ai=Ii,Ei=at;function Oi(e){return Ei(this,e).has(e)}var Ki=Oi,Bi=at;function zi(e,t){var n=Bi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Li=zi,ji=xi,Mi=Di,Vi=Ai,Ui=Ki,Hi=Li;function Ae(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ae.prototype.clear=ji;Ae.prototype.delete=Mi;Ae.prototype.get=Vi;Ae.prototype.has=Ui;Ae.prototype.set=Hi;var Gi=Ae,zn=Gi,qi="Expected a function";function Dt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qi);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var d=e.apply(this,r);return n.cache=i.set(a,d)||i,d};return n.cache=new(Dt.Cache||zn),n}Dt.Cache=zn;var Yi=Dt,Wi=Yi,Ji=500;function Xi(e){var t=Wi(e,function(r){return n.size===Ji&&n.clear(),r}),n=t.cache;return t}var Zi=Xi,Qi=Zi,es=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ts=/\\(\\)?/g,ns=Qi(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(es,function(n,r,a,i){t.push(a?i.replace(ts,"$1"):r||n)}),t}),os=ns;function rs(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var as=rs,rn=Rt,ls=as,is=wt,ss=Tt,ds=1/0,an=rn?rn.prototype:void 0,ln=an?an.toString:void 0;function Ln(e){if(typeof e=="string")return e;if(is(e))return ls(e,Ln)+"";if(ss(e))return ln?ln.call(e):"";var t=e+"";return t=="0"&&1/e==-ds?"-0":t}var cs=Ln,us=cs;function fs(e){return e==null?"":us(e)}var hs=fs,gs=wt,vs=Oa,bs=os,ps=hs;function ys(e,t){return gs(e)?e:vs(e,t)?[e]:bs(ps(e))}var jn=ys,ms=Tt,_s=1/0;function Cs(e){if(typeof e=="string"||ms(e))return e;var t=e+"";return t=="0"&&1/e==-_s?"-0":t}var Mn=Cs,ks=jn,Ss=Mn;function xs(e,t){t=ks(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ss(t[n++])];return n&&n==r?e:void 0}var ws=xs,$s=ws;function Rs(e,t,n){var r=e==null?void 0:$s(e,t);return r===void 0?n:r}var Ts=Rs;const Ns=pn(Ts);var Ps=Pt,Ds=function(){try{var e=Ps(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Fs=Ds,sn=Fs;function Is(e,t,n){t=="__proto__"&&sn?sn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var As=Is,Es=As,Os=Bn,Ks=Object.prototype,Bs=Ks.hasOwnProperty;function zs(e,t,n){var r=e[t];(!(Bs.call(e,t)&&Os(r,n))||n===void 0&&!(t in e))&&Es(e,t,n)}var Ls=zs,js=9007199254740991,Ms=/^(?:0|[1-9]\d*)$/;function Vs(e,t){var n=typeof e;return t=t??js,!!t&&(n=="number"||n!="symbol"&&Ms.test(e))&&e>-1&&e%1==0&&e<t}var Us=Vs,Hs=Ls,Gs=jn,qs=Us,dn=Nt,Ys=Mn;function Ws(e,t,n,r){if(!dn(e))return e;t=Gs(t,e);for(var a=-1,i=t.length,d=i-1,v=e;v!=null&&++a<i;){var c=Ys(t[a]),h=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=d){var u=v[c];h=r?r(u,c,v):void 0,h===void 0&&(h=dn(u)?u:qs(t[a+1])?[]:{})}Hs(v,c,h),v=v[c]}return e}var Js=Ws,Xs=Js;function Zs(e,t,n){return e==null?e:Xs(e,t,n)}var Qs=Zs;const ed=pn(Qs),td=Y({name:"BatchTranslateItem",components:{DialogTextEdit:cn,DocumentEdit20Regular:Qr,SaveMultiple20Regular:oa,ClipboardPaste20Regular:jo},props:{dirItem:{type:Object,required:!0},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""},isFoldersMode:{type:Boolean,default:!0}},emits:["saveChanged"],setup(e,{emit:t}){const{t:n}=yn(),{dirItem:r,filePathArr:a,translatePath:i,isFoldersMode:d}=mn(e),v=()=>{let s=null;const f=(R,N,B=0)=>{const te=N[B];if(R)for(let U=0;U<R.length;U++){const de=R[U];if(de.label===te&&B===N.length-1)throw s=de,new Error("item found");de.children&&f(de.children,N,B+1)}};try{f(r.value.children,a.value)}catch{}return s},c=V(()=>d.value?v():r.value),h=_n(null),u=F(null),S=F(!1),p=F(!1),g=()=>{const s=Ns(h.value,i.value,null);return Array.isArray(s)?(p.value=!0,JSON.stringify(s,null,2)):(p.value=!1,s)},C=(s=u.value)=>{try{p.value&&s&&(s=JSON.parse(s)),ed(h.value,i.value,s)}catch(f){throw console.error(f),window.$message.error(f.message),f}};me(c,async s=>{if(!s){h.value=null,u.value=null,p.value=!1,ge(()=>{S.value=!1});return}const f=await s.entry.getFile(),R=await Cn(f);h.value=JSON.parse(R),u.value=g(),ge(()=>{S.value=!1})},{immediate:!0}),me(u,()=>{S.value=!0}),me(i,s=>{u.value=g(),ge(()=>{S.value=!1})});const b=async()=>{try{if(!c.value)return;const s=c.value.entry;if(!s)return;const f=await s.getFile(),R=await s.createWritable(),N=JSON.stringify(h.value,null,2);await R.write(N),await R.close(),window.$message.success(n("msgs.saved"))}catch(s){throw console.error(s),window.$message.error(n("msgs.error")+s.message),s}},k=F(),P=F(!1),T=s=>{C(""),u.value=s,p.value=Array.isArray(s),ge(()=>{k.value.focus()})};return{currentItem:c,translateObj:h,translateText:u,isChanged:S,createField:T,handlePaste:async()=>{u.value=await Wt()},pasteCreatePField:async()=>{const s=await Wt();T(s)},async saveChange({isEmit:s=!1}={}){S.value&&(C(),await b(),ge(()=>{S.value=!1}),s&&t("saveChanged"))},cancelChange(){u.value=g(),ge(()=>{S.value=!1})},isFieldArray:p,inputRef:k,isShowArrayEdit:P,handleSaveArray(s){try{JSON.parse(s),u.value=s,P.value=!1}catch(f){console.error(f),window.$message.error(f.message)}}}}});const nd={class:"card-header"},od={class:"card-title"},rd={class:"text-red"},ad={class:"translate-path"},ld={key:0,style:{color:"hotpink","margin-bottom":"10px"}},id={key:2,style:{color:"gray"}};function sd(e,t,n,r,a,i){const d=Mo,v=vt("ClipboardPaste20Regular"),c=kn,h=vt("DocumentEdit20Regular"),u=Vo,S=vt("SaveMultiple20Regular"),p=Sn,g=cn,C=xn;return j(),ie(C,{size:"small",class:"batch-translate-item"},{default:A(()=>[se("div",nd,[se("span",od,[se("span",rd,J(e.dirItem.label),1),e.isFoldersMode?(j(),ne(we,{key:0},[ae(J("/"+e.filePathArr.join("/")),1)],64)):$e("",!0)]),se("span",ad,J(e.translatePath),1)]),e.currentItem?e.translatePath?(j(),ne(we,{key:1},[e.translateText!==null?(j(),ie(p,{key:0,align:"center",size:"small"},{default:A(()=>[K(d,{ref:"inputRef",type:"textarea",size:"small",value:e.translateText,"onUpdate:value":t[0]||(t[0]=b=>e.translateText=b),placeholder:e.isFieldArray?e.$t("msgs.input_array"):e.$t("msgs.input_text"),rows:e.isFieldArray?2:1,style:{width:"450px"},class:yt({"font-code":e.isFieldArray}),clearable:""},null,8,["value","placeholder","rows","class"]),K(u,null,{default:A(()=>[K(c,{onClick:e.handlePaste,secondary:"",size:"small",type:"primary",title:"Paste"},{icon:A(()=>[K(v)]),_:1},8,["onClick"]),e.isFieldArray?(j(),ie(c,{key:0,secondary:"",onClick:t[1]||(t[1]=b=>e.isShowArrayEdit=!0),size:"small",title:e.$t("actions.edit")},{icon:A(()=>[K(h)]),_:1},8,["title"])):$e("",!0)]),_:1}),e.isChanged?(j(),ie(u,{key:0},{default:A(()=>[K(c,{size:"small",type:"primary",onClick:t[2]||(t[2]=b=>e.saveChange({isEmit:!0})),title:"Batch save"},{icon:A(()=>[K(S)]),_:1}),K(c,{secondary:"",size:"small",onClick:e.cancelChange},{default:A(()=>[ae(J(e.$t("actions.cancel")),1)]),_:1},8,["onClick"])]),_:1})):$e("",!0)]),_:1})):(j(),ie(u,{key:1},{default:A(()=>[K(c,{size:"small",onClick:t[3]||(t[3]=b=>e.pasteCreatePField()),type:"primary"},{icon:A(()=>[K(v)]),_:1}),K(c,{size:"small",onClick:t[4]||(t[4]=b=>e.createField("")),type:"primary"},{default:A(()=>[ae(J(e.$t("actions.create_text")),1)]),_:1}),K(c,{size:"small",onClick:t[5]||(t[5]=b=>e.createField([]))},{default:A(()=>[ae(J(e.$t("actions.create_array")),1)]),_:1})]),_:1}))],64)):(j(),ne("div",id,J(e.$t("msgs.please_select_a_tran")),1)):(j(),ne("div",ld," File does not exist, please create it on your local file system ")),K(g,{"is-textarea":"",title:e.$t("common.array_detail"),placeholder:e.$t("common.array_json_string"),visible:e.isShowArrayEdit,"onUpdate:visible":t[6]||(t[6]=b=>e.isShowArrayEdit=b),text:e.translateText,onOnSave:e.handleSaveArray},null,8,["title","placeholder","visible","text","onOnSave"])]),_:1})}const Vn=xt(td,[["render",sd],["__scopeId","data-v-daa06f43"]]),dd=Y({name:"BatchTranslate",components:{BatchTranslateItem:Vn},props:{dirTree:{type:Array,default(){return[]}},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""},isFoldersMode:{type:Boolean,default:!0}},setup(e,{emit:t}){const{dirTree:n,isFoldersMode:r}=mn(e),a=F(),i=async()=>{for(let d=0;d<a.value.length;d++)await a.value[d].saveChange()};return St(()=>{mt.on(_t.ON_I18N_SAVE_ALL_CHANGES,i)}),Uo(()=>{mt.off(_t.ON_I18N_SAVE_ALL_CHANGES,i)}),{handleSaveChanged:i,itemsRef:a,filePathArrFiltered:V(()=>r.value?n.value.filter(d=>d.kind==="directory"):n.value)}}});const cd={class:"batch-translate"};function ud(e,t,n,r,a,i){const d=Vn;return j(),ne("div",cd,[(j(!0),ne(we,null,Ct(e.filePathArrFiltered,v=>(j(),ie(d,{ref_for:!0,ref:"itemsRef",key:v.key,"dir-item":v,"file-path-arr":e.isFoldersMode?e.filePathArr.slice(1):e.filePathArr,"translate-path":e.translatePath,onSaveChanged:e.handleSaveChanged,"is-folders-mode":e.isFoldersMode},null,8,["dir-item","file-path-arr","translate-path","onSaveChanged","is-folders-mode"]))),128))])}const Un=xt(dd,[["render",ud],["__scopeId","data-v-dc132e71"]]);let Me=0;const fd=Y({name:"VueI18nBatchTool",components:{TranslateTreeItem:un,VueMonaco:wn,BatchTranslate:Un,DropZone:$n},setup(){const{t:e}=yn(),t=Ho(),n=Go(),r=F([]),a=async(m,s=0,f=[],R=[])=>{Me++;let N=0;for await(const B of m.values())if(N++,B.kind==="directory"){let te=[];f.push({key:`${Me}-D-${s}-${N}`,kind:B.kind,label:B.name,entry:B,parentDirs:R,children:te}),await a(B,s+1,te,[...R,B.name])}else/\.json$/gi.test(B.name)&&f.push({key:`${Me}-F-${s}-${N}`,kind:B.kind,label:B.name,entry:B,parentDirs:R,children:null});return console.log("[recursiveReadDir]",f),f},i=async(m,s=[])=>{Me++;let f=0;for await(const R of m.values())f++,R.kind!=="directory"&&/\.json$/gi.test(R.name)&&s.push({key:`${Me}-FILE-${f}`,kind:R.kind,label:R.name,entry:R,parentDirs:[],children:null});return console.log("[readJsonFiles]",s),s},d=_n(),v=async()=>{d.value=await window.showDirectoryPicker(),await c()},c=async()=>{const m=d.value;let s=[];n.isFoldersMode?s=await a(m):s=await i(m),s.length||window.$message.error("The content is empty, please check the folder directory structure!"),r.value=s},h=F(null),u=F(null),S=F([]),p=F(""),g=async()=>{try{const m=h.value;if(!m)return;const s=await m.getFile(),f=await m.createWritable();if(b.value!=="text"&&(u.value=JSON.stringify(Xo(k.value),null,2)),!u.value)throw new Error("currentEditText is empty!");await f.write(u.value),await f.close(),await c(),window.$message.success(e("msgs.saved"))}catch(m){console.error(m),window.$message.error("Save Failed!"+m.message)}},C=["text","gui","batch"],b=F("batch"),k=F([qo()]),P=()=>{if(b.value!=="text"){if(!u.value){k.value=[];return}const m=JSON.parse(u.value);k.value=Zo.parseWithRoot(m)}};me(b,m=>{P()});const{metaTitle:T}=Yo();Wo(()=>{if(h.value&&b.value!=="batch"){g();return}mt.emit(_t.ON_I18N_SAVE_ALL_CHANGES)});const I=F();return St(async()=>{await Jt("./lib/pinyinjs/pinyin_dict_notone.min.js"),await Jt("./lib/pinyinjs/pinyinUtil.js")}),Jo(()=>!!d.value),{metaTitle:T,iconTranslate:mo,handlePickDir:v,dirTree:r,dirHandle:d,reloadPickedDir:c,vueMonacoRef:I,nodeProps:({option:m})=>({async onClick(){if(m.kind==="file"){const s=m.entry;h.value=s;const f=await Cn(await s.getFile());u.value=f,I.value&&I.value.updateValue(f),S.value=[...m.parentDirs,m.label],p.value="",P()}}}),currentEditText:u,currentEditEntry:h,handleSaveFile:g,editMode:b,editModeList:C,translateTreeRoot:k,currentFilePathArr:S,translatePath:p,handleKeyClick(m,s){const f=".translate-item";p.value=m,Array.from(document.querySelectorAll(f)).forEach(N=>{N.classList.remove("active")}),s.target.closest(f).classList.add("active")},...ar({cb:async m=>{for(const s of m.dataTransfer.items)if(s.kind==="file"){const f=await s.getAsFileSystemHandle();if(f.kind==="directory"){d.value=f,await c();break}else window.$message.error("Please drag and drop a folder here!")}}}),settingsStore:n,mainStore:t}}});const hd={class:"_container"},gd={class:"main-edit-wrap"};const vd={key:1,class:"null-intro"},bd={key:0,class:"intro-title"},pd={key:1,class:"font-code"},yd=["value"];function md(e,t,n,r,a,i){const d=$n,v=lr,c=kn,h=yr,u=pr,S=or,p=Sn,g=ir,C=xn,b=Wr,k=Ir,P=Pr,T=wn,I=un,m=Un,s=rr,f=wr,R=xr;return j(),ne("div",{class:"vue-i18n-copy-tool",onDragover:t[6]||(t[6]=bt((...N)=>e.fileDragover&&e.fileDragover(...N),["prevent","stop"])),onDragleave:t[7]||(t[7]=bt(N=>e.showDropzone=!1,["prevent","stop"])),onDrop:t[8]||(t[8]=bt((...N)=>e.fileDrop&&e.fileDrop(...N),["prevent","stop"]))},[K(Qo,{name:"mc-fade"},{default:A(()=>[er(K(d,{text:e.$t("msgs.drag_folder_here")},null,8,["text"]),[[tr,e.showDropzone]])]),_:1}),K(C,{size:"small"},{default:A(()=>[K(g,{subtitle:"",onBack:t[3]||(t[3]=N=>e.$router.push({name:"HomePage"}))},{title:A(()=>[ae(J(e.metaTitle),1)]),avatar:A(()=>[K(v,{src:e.iconTranslate,style:{background:"none"}},null,8,["src"])]),extra:A(()=>[K(p,{align:"center"},{default:A(()=>[K(c,{secondary:"",size:"small",onClick:t[0]||(t[0]=N=>e.mainStore.isShowTextTransformer=!0)},{default:A(()=>[ae(J(e.$t("common.text_transformer")),1)]),_:1}),e.currentEditEntry&&e.editMode!=="batch"?(j(),ie(c,{key:0,secondary:"",type:"primary",onClick:e.handleSaveFile},{default:A(()=>[ae(J(e.$t("actions.save_changes")),1)]),_:1},8,["onClick"])):$e("",!0),ae(" "+J(e.$t("common.edit_mode"))+":",1),K(u,{size:"small",value:e.editMode,"onUpdate:value":t[1]||(t[1]=N=>e.editMode=N)},{default:A(()=>[(j(!0),ne(we,null,Ct(e.editModeList,N=>(j(),ie(h,{key:N,value:N,label:N.toUpperCase()},null,8,["value","label"]))),128))]),_:1},8,["value"]),K(c,{type:"primary",size:"small",onClick:e.handlePickDir},{default:A(()=>[ae(J(e.$t("actions.pick_i18n_directory")),1)]),_:1},8,["onClick"]),e.dirHandle?(j(),ie(S,{key:1,onPositiveClick:t[2]||(t[2]=N=>e.reloadPickedDir())},{trigger:A(()=>[K(c,{secondary:"",size:"small"},{default:A(()=>[ae(J(e.$t("actions.reload")),1)]),_:1})]),default:A(()=>[ae(" "+J(e.$t("msgs.confirm_reload_files")),1)]),_:1})):$e("",!0)]),_:1})]),_:1})]),_:1}),se("div",hd,[K(R,{style:{height:"100%"},"has-sider":""},{default:A(()=>[K(P,{"collapse-mode":"width","collapsed-width":0,width:300,"show-trigger":"arrow-circle","content-style":"padding: 10px;",bordered:""},{default:A(()=>[K(k,{style:{height:"100%"}},{default:A(()=>[K(b,{"block-line":"",data:e.dirTree,"node-props":e.nodeProps,"default-expand-all":"","expand-on-click":"",selectable:""},null,8,["data","node-props"])]),_:1})]),_:1}),K(f,null,{default:A(()=>[se("div",gd,[e.currentEditEntry?(j(),ne(we,{key:0},[$e("",!0),se("div",{class:yt(["edit-content-wrap",{"batch-mode":e.editMode==="batch"}])},[e.editMode==="text"?(j(),ie(T,{key:0,ref:"vueMonacoRef",modelValue:e.currentEditText,"onUpdate:modelValue":t[4]||(t[4]=N=>e.currentEditText=N),language:"json","show-line-numbers":""},null,8,["modelValue"])):(j(),ne(we,{key:1},[K(k,{style:nr([{height:"100%"},{width:e.editMode==="batch"?"500px":"100%"}])},{default:A(()=>[(j(!0),ne(we,null,Ct(e.translateTreeRoot,(N,B)=>(j(),ie(I,{key:B,index:B,item:N,"is-lite":e.editMode==="batch",onOnKeyClick:e.handleKeyClick},null,8,["index","item","is-lite","onOnKeyClick"]))),128))]),_:1},8,["style"]),e.editMode==="batch"?(j(),ie(k,{key:0,style:{height:"100%"}},{default:A(()=>[K(m,{"dir-tree":e.dirTree,"file-path-arr":e.currentFilePathArr,"translate-path":e.translatePath,"is-folders-mode":e.settingsStore.isFoldersMode},null,8,["dir-tree","file-path-arr","translate-path","is-folders-mode"])]),_:1})):$e("",!0)],64))],2)],64)):(j(),ne("div",vd,[e.dirTree.length?(j(),ne("div",bd,"👈 "+J(e.$t("msgs.please_select_a_json")),1)):(j(),ne("div",pd,[K(p,{align:"center",class:"intro-title"},{default:A(()=>[K(s,{size:"large",value:e.settingsStore.isFoldersMode,"onUpdate:value":t[5]||(t[5]=N=>e.settingsStore.isFoldersMode=N)},{checked:A(()=>[ae(J(e.$t("common.folders_mode")),1)]),unchecked:A(()=>[ae(J(e.$t("common.files_mode")),1)]),_:1},8,["value"]),ae(" 📁 "+J(e.$t("msgs.recommended_i18n_fol"))+": ",1)]),_:1}),se("textarea",{class:yt(["font-code",{_alt:!e.settingsStore.isFoldersMode}]),readonly:"",cols:"50",rows:"20",value:e.settingsStore.isFoldersMode?`└─[locales]    --> ${e.$t("msgs.drag_folder_here")}!
   ├─de-DE
   │  └─index.json
   ├─en-US
   │  └─index.json
   ├─es-ES
   │  └─index.json
   ├─fr-FR
   │  └─index.json
   ├─ja-JP
   │  └─index.json
   ├─kr-KR
   │  └─index.json
   ├─zh-CN
   │  └─index.json
   └─zh-TW
      └─index.json`:`└─[locales]    --> ${e.$t("msgs.drag_folder_here")}!
   ├─ ar.json
   ├─ cn.json
   ├─ de.json
   ├─ en.json
   ├─ es.json
   ├─ fr.json
   ├─ it.json
   ├─ jp.json
   └─ kr.json
`},null,10,yd)]))]))])]),_:1})]),_:1})])],32)}const Sd=xt(fd,[["render",md],["__scopeId","data-v-5db79202"]]);export{Sd as default};

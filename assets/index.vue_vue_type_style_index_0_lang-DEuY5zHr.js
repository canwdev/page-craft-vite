import{d as e,aG as l,t as a,c as o,_ as t,i as d,o as i,p as m,bI as s,L as n,O as u,a8 as r,b as p,F as c,m as y,P as b,f as V,g as f,h as k,n as v,bx as _,bt as h,bJ as I,bK as T,bL as A,Q as O,bM as R,ax as U,bN as C,ar as g,bO as F,bP as E,bQ as P,r as L,I as w,J as N,k as S,aA as x,e as B,T as j,x as M,j as K,w as $,bR as D}from"./index-D7imv_Md.js";/* empty css                  *//* empty css                    *//* empty css                        */import{c as G,d as H}from"./set-CT1JW_BL.js";import{V as W}from"./index-CP_TvyA7.js";var q=(e=>(e.INPUT="input",e.MONACO_EDITOR="monaco_editor",e.INPUT_NUMBER="input_number",e.SELECT="select",e.COLOR_PICKER="color_picker",e.BUTTON="button",e.DATE_PICKER="date_picker",e.CHECKBOX_GROUP="checkbox_group",e.RADIO_GROUP="radio_group",e.SWITCH="switch",e))(q||{});const J=t(e({name:"AutoFormItem",components:{VueMonaco:W,VueRender:l},props:{item:{type:Object,required:!0},model:{type:Object,required:!0}},setup(e,{emit:l}){const{item:t,model:d}=a(e),i=(e,l)=>e.__v_isRef?`value.${l}`:l,m=o({get:()=>G(d.value,i(d.value,t.value.key)),set(e){H(d.value,i(d.value,t.value.key),e)}});return{AutoFormItemType:q,dynamicValue:m}}}),[["render",function(e,l,a,o,t,L){const w=_,N=h,S=d("VueMonaco"),x=d("VueRender"),B=I,j=T,M=A,K=O,$=R,D=U,G=C,H=g,W=F,q=E,J=P;return i(),m(J,{label:e.item.label,prop:e.item.key,class:k(["auto-form-item",[e.item.cls]]),style:v(e.item.style||{width:e.item.width})},s({default:n((()=>[e.item.type===e.AutoFormItemType.INPUT?(i(),m(w,r({key:0,modelValue:e.dynamicValue,"onUpdate:modelValue":l[0]||(l[0]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.INPUT_NUMBER?(i(),m(N,r({key:1,modelValue:e.dynamicValue,"onUpdate:modelValue":l[1]||(l[1]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled,controls:!1},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.MONACO_EDITOR?(i(),m(S,r({key:2,modelValue:e.dynamicValue,"onUpdate:modelValue":l[2]||(l[2]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled,"show-line-numbers":""},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.SELECT?(i(),m(j,r({key:3,modelValue:e.dynamicValue,"onUpdate:modelValue":l[3]||(l[3]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,class:"full-width",disabled:e.item.disabled},e.item.props),{default:n((()=>[e.item.selectOptionRender?(i(),m(x,{key:0,"render-fn":e.item.selectOptionRender,params:e.item},null,8,["render-fn","params"])):(i(!0),p(c,{key:1},y(e.item.options,(e=>(i(),m(B,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.COLOR_PICKER?(i(),m(M,r({key:4,modelValue:e.dynamicValue,"onUpdate:modelValue":l[4]||(l[4]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.BUTTON?(i(),m(K,r({key:5,onClick:e.item.clickHandler,disabled:e.item.disabled},e.item.props),{default:n((()=>[b(V(e.item.placeholder),1)])),_:1},16,["onClick","disabled"])):e.item.type===e.AutoFormItemType.DATE_PICKER?(i(),m($,r({key:6,modelValue:e.dynamicValue,"onUpdate:modelValue":l[5]||(l[5]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.CHECKBOX_GROUP?(i(),m(G,r({key:7,modelValue:e.dynamicValue,"onUpdate:modelValue":l[6]||(l[6]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),{default:n((()=>[(i(!0),p(c,null,y(e.item.options||e.item.props.options,((e,l)=>(i(),m(D,{key:l,value:e.value},{default:n((()=>[b(V(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.SWITCH?(i(),m(H,r({key:8,modelValue:e.dynamicValue,"onUpdate:modelValue":l[7]||(l[7]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.RADIO_GROUP?(i(),m(q,{key:9,disabled:e.item.disabled,modelValue:e.dynamicValue,"onUpdate:modelValue":l[8]||(l[8]=l=>e.dynamicValue=l)},{default:n((()=>[(i(!0),p(c,null,y(e.item.options||e.item.props.options,((e,l)=>(i(),m(W,{key:l,value:e.value},{default:n((()=>[b(V(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["disabled","modelValue"])):f("",!0),e.item.render?(i(),m(x,{key:10,"render-fn":e.item.render},null,8,["render-fn"])):f("",!0)])),_:2},[e.item.renderLabel?{name:"label",fn:n((({label:l})=>[u(x,{"render-fn":e.item.renderLabel,label:l},null,8,["render-fn","label"])])),key:"0"}:void 0]),1032,["label","prop","class","style"])}]]),Q={class:"auto-form-loading-container"},X=[B("div",{class:"loading-text vp-panel"},"Loading...",-1)],z={class:"form-content-wrap"},Y={key:0,class:"auto-form-actions"},Z=e({name:"AutoFormElPlus",props:{formSchema:{},hideActions:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},emits:["onInvalidForm","onSubmit","onMounted","onBeforeUnmount"],setup(e,{expose:l,emit:o}){const t=e,d=o,{formSchema:s}=a(t),V=L(),_=()=>{V.value.validate((async e=>{if(!e)return console.log("Invalid form"),void d("onInvalidForm");console.log("onSubmit",s.value.model),d("onSubmit",s.value.model)}))};return w((()=>{d("onMounted",V.value)})),N((()=>{d("onBeforeUnmount",V.value)})),l({formRef:V,AutoFormItemType:q,submitForm:_}),(e,l)=>{const a=O,o=D;return i(),m(o,r({ref_key:"formRef",ref:V,"label-width":M(s).labelWidth,model:M(s).model,rules:M(s).rules,"label-position":M(s).labelPosition,class:"auto-form-el-plus",onSubmit:$(_,["prevent"])},M(s).props,{disabled:e.isLoading}),{default:n((()=>[u(j,{name:"fade"},{default:n((()=>[S(B("div",Q,X,512),[[x,e.isLoading]])])),_:1}),B("div",z,[(i(!0),p(c,null,y(M(s).formItems,((e,l)=>(i(),p(c,null,[Array.isArray(e)?(i(),p("div",{key:"g_"+l,class:k(["auto-form-grid",[`count-${e.length}`]]),style:v({gridTemplateColumns:`repeat(${e.length}, 1fr)`})},[(i(!0),p(c,null,y(e,(e=>(i(),p(c,null,["key"in e?(i(),m(J,{key:e.key,item:e,model:M(s).model},null,8,["item","model"])):f("",!0)],64)))),256))],6)):"children"in e&&Array.isArray(e.children)?(i(),p("div",{key:"ag_"+l,class:k(["auto-form-grid",[`count-${e.cols}`]]),style:v({gridTemplateColumns:`repeat(${e.cols}, 1fr)`})},[(i(!0),p(c,null,y(e.children,(e=>(i(),m(J,{key:e.key,item:e,model:M(s).model},null,8,["item","model"])))),128))],6)):"key"in e?(i(),m(J,{key:l,item:e,model:M(s).model},null,8,["item","model"])):f("",!0)],64)))),256))]),e.hideActions?f("",!0):(i(),p("div",Y,[K(e.$slots,"actions",{submitForm:_},(()=>[u(a,{type:"primary",onClick:l[0]||(l[0]=e=>_())},{default:n((()=>[b("Submit")])),_:1})]))])),K(e.$slots,"default")])),_:3},16,["label-width","model","rules","label-position","disabled"])}}});export{q as A,Z as _};

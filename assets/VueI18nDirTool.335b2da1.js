import{d as X,G as k,ah as nn,ai as io,aj as At,H as je,ak as on,r as P,O as pe,al as F,am as Se,an as W,N as Me,ao as L,I as N,M as O,ap as K,K as J,aq as ke,Q as ue,ar as Ze,a1 as rn,P as E,U as Et,V as Qe,as as so,at as co,Z as uo,au as fo,av as ho,aw as zt,ax as an,ay as yt,a2 as ln,az as go,aA as ct,aB as vo,aC as bo,aD as yo,aE as ut,aF as po,i as mo,aG as _o,aH as Lt,aI as xo,ac as ko,a9 as jt,aJ as ft,aK as Co,aL as So,X as ze,w as ye,aM as be,aN as Mt,aO as wo,aP as Ro,aQ as $o,aR as Ut,aS as To,aT as No,aU as We,t as sn,s as dn,a4 as cn,_ as pt,o as j,c as ne,a as z,b as Xe,a3 as Do,m as se,e as G,aV as un,a5 as Ce,F as Ne,x as fe,f as fn,y as hn,A as gn,C as vn,p as bt,n as Po,v as Io,T as Ko,aW as Fo,q as ht}from"./index.289b50d9.js";import{f as Oo,i as Bo,e as Ao,I as Eo,_ as zo}from"./translate.41509cf7.js";import{_ as bn,u as Lo,a as jo,b as Mo}from"./use-file-drop.8b651099.js";function yn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const Uo=X({name:"Switcher",render(){return k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},k("path",{d:"M12 8l10 8l-10 8z"}))}}),Ho=e=>{const{borderColor:t,primaryColor:n,baseColor:o,textColorDisabled:i,inputColorDisabled:c,textColor2:s,opacityDisabled:u,borderRadius:d,fontSizeSmall:h,fontSizeMedium:g,fontSizeLarge:C,heightSmall:p,heightMedium:y,heightLarge:a,lineHeight:f}=e;return Object.assign(Object.assign({},io),{labelLineHeight:f,buttonHeightSmall:p,buttonHeightMedium:y,buttonHeightLarge:a,fontSizeSmall:h,fontSizeMedium:g,fontSizeLarge:C,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${At(n,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:o,colorDisabled:c,colorActive:"#0000",textColor:s,textColorDisabled:i,dotColorActive:n,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:n,buttonBorderColorHover:t,buttonColor:o,buttonColorActive:o,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:n,opacityDisabled:u,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${At(n,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:d})},Vo={name:"Radio",common:nn,self:Ho},Go=Vo,qo={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},pn=je("n-radio-group");function Yo(e){const t=on(e,{mergedSize(S){const{size:T}=e;if(T!==void 0)return T;if(s){const{mergedSizeRef:{value:D}}=s;if(D!==void 0)return D}return S?S.mergedSize.value:"medium"},mergedDisabled(S){return!!(e.disabled||s!=null&&s.disabledRef.value||S!=null&&S.disabled.value)}}),{mergedSizeRef:n,mergedDisabledRef:o}=t,i=P(null),c=P(null),s=pe(pn,null),u=P(e.defaultChecked),d=F(e,"checked"),h=Se(d,u),g=W(()=>s?s.valueRef.value===e.value:h.value),C=W(()=>{const{name:S}=e;if(S!==void 0)return S;if(s)return s.nameRef.value}),p=P(!1);function y(){if(s){const{doUpdateValue:S}=s,{value:T}=e;L(S,T)}else{const{onUpdateChecked:S,"onUpdate:checked":T}=e,{nTriggerFormInput:D,nTriggerFormChange:w}=t;S&&L(S,!0),T&&L(T,!0),D(),w(),u.value=!0}}function a(){o.value||g.value||y()}function f(){a()}function v(){p.value=!1}function R(){p.value=!0}return{mergedClsPrefix:s?s.mergedClsPrefixRef:Me(e).mergedClsPrefixRef,inputRef:i,labelRef:c,mergedName:C,mergedDisabled:o,uncontrolledChecked:u,renderSafeChecked:g,focus:p,mergedSize:n,handleRadioInputChange:f,handleRadioInputBlur:v,handleRadioInputFocus:R}}const Wo=N("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[O("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[K("checked",{backgroundColor:"var(--n-button-border-color-active)"}),K("disabled",{opacity:"var(--n-opacity-disabled)"})]),K("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[N("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),O("splitor",{height:"var(--n-height)"})]),N("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[N("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),O("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),J("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[O("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),J("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[O("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),ke("disabled",`
 cursor: pointer;
 `,[J("&:hover",[O("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),ke("checked",{color:"var(--n-button-text-color-hover)"})]),K("focus",[J("&:not(:active)",[O("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),K("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),K("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function Jo(e,t,n){var o;const i=[];let c=!1;for(let s=0;s<e.length;++s){const u=e[s],d=(o=u.type)===null||o===void 0?void 0:o.name;d==="RadioButton"&&(c=!0);const h=u.props;if(d!=="RadioButton"){i.push(u);continue}if(s===0)i.push(u);else{const g=i[i.length-1].props,C=t===g.value,p=g.disabled,y=t===h.value,a=h.disabled,f=(C?2:0)+(p?0:1),v=(y?2:0)+(a?0:1),R={[`${n}-radio-group__splitor--disabled`]:p,[`${n}-radio-group__splitor--checked`]:C},S={[`${n}-radio-group__splitor--disabled`]:a,[`${n}-radio-group__splitor--checked`]:y},T=f<v?S:R;i.push(k("div",{class:[`${n}-radio-group__splitor`,T]}),u)}}return{children:i,isButtonGroup:c}}const Xo=Object.assign(Object.assign({},ue.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Zo=X({name:"RadioGroup",props:Xo,setup(e){const t=P(null),{mergedSizeRef:n,mergedDisabledRef:o,nTriggerFormChange:i,nTriggerFormInput:c,nTriggerFormBlur:s,nTriggerFormFocus:u}=on(e),{mergedClsPrefixRef:d,inlineThemeDisabled:h,mergedRtlRef:g}=Me(e),C=ue("Radio","-radio-group",Wo,Go,e,d),p=P(e.defaultValue),y=F(e,"value"),a=Se(y,p);function f(w){const{onUpdateValue:_,"onUpdate:value":I}=e;_&&L(_,w),I&&L(I,w),p.value=w,i(),c()}function v(w){const{value:_}=t;!_||_.contains(w.relatedTarget)||u()}function R(w){const{value:_}=t;!_||_.contains(w.relatedTarget)||s()}Ze(pn,{mergedClsPrefixRef:d,nameRef:F(e,"name"),valueRef:a,disabledRef:o,mergedSizeRef:n,doUpdateValue:f});const S=rn("Radio",g,d),T=E(()=>{const{value:w}=n,{common:{cubicBezierEaseInOut:_},self:{buttonBorderColor:I,buttonBorderColorActive:oe,buttonBorderRadius:Z,buttonBoxShadow:de,buttonBoxShadowFocus:U,buttonBoxShadowHover:Ke,buttonColorActive:Q,buttonTextColor:ae,buttonTextColorActive:le,buttonTextColorHover:Fe,opacityDisabled:te,[Et("buttonHeight",w)]:m,[Et("fontSize",w)]:B}}=C.value;return{"--n-font-size":B,"--n-bezier":_,"--n-button-border-color":I,"--n-button-border-color-active":oe,"--n-button-border-radius":Z,"--n-button-box-shadow":de,"--n-button-box-shadow-focus":U,"--n-button-box-shadow-hover":Ke,"--n-button-color-active":Q,"--n-button-text-color":ae,"--n-button-text-color-hover":Fe,"--n-button-text-color-active":le,"--n-height":m,"--n-opacity-disabled":te}}),D=h?Qe("radio-group",E(()=>n.value[0]),T,e):void 0;return{selfElRef:t,rtlEnabled:S,mergedClsPrefix:d,mergedValue:a,handleFocusout:R,handleFocusin:v,cssVars:h?void 0:T,themeClass:D==null?void 0:D.themeClass,onRender:D==null?void 0:D.onRender}},render(){var e;const{mergedValue:t,mergedClsPrefix:n,handleFocusin:o,handleFocusout:i}=this,{children:c,isButtonGroup:s}=Jo(so(co(this)),t,n);return(e=this.onRender)===null||e===void 0||e.call(this),k("div",{onFocusin:o,onFocusout:i,ref:"selfElRef",class:[`${n}-radio-group`,this.rtlEnabled&&`${n}-radio-group--rtl`,this.themeClass,s&&`${n}-radio-group--button-group`],style:this.cssVars},c)}}),Qo=X({name:"RadioButton",props:qo,setup:Yo,render(){const{mergedClsPrefix:e}=this;return k("label",{class:[`${e}-radio-button`,this.mergedDisabled&&`${e}-radio-button--disabled`,this.renderSafeChecked&&`${e}-radio-button--checked`,this.focus&&[`${e}-radio-button--focus`]]},k("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),k("div",{class:`${e}-radio-button__state-border`}),uo(this.$slots.default,t=>!t&&!this.label?null:k("div",{ref:"labelRef",class:`${e}-radio__label`},t||this.label)))}}),er=e=>{const{baseColor:t,textColor2:n,bodyColor:o,cardColor:i,dividerColor:c,actionColor:s,scrollbarColor:u,scrollbarColorHover:d,invertedColor:h}=e;return{textColor:n,textColorInverted:"#FFF",color:o,colorEmbedded:s,headerColor:i,headerColorInverted:h,footerColor:s,footerColorInverted:h,headerBorderColor:c,headerBorderColorInverted:h,footerBorderColor:c,footerBorderColorInverted:h,siderBorderColor:c,siderBorderColorInverted:h,siderColor:i,siderColorInverted:h,siderToggleButtonBorder:`1px solid ${c}`,siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:zt(o,u),siderToggleBarColorHover:zt(o,d),__invertScrollbar:"true"}},tr=fo({name:"Layout",common:nn,peers:{Scrollbar:ho},self:er}),mn=tr,nr=je("n-layout-sider"),_n={type:String,default:"static"},or=N("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[N("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),K("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),rr={embedded:Boolean,position:_n,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},xn=je("n-layout");function kn(e){return X({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},ue.props),rr),setup(t){const n=P(null),o=P(null),{mergedClsPrefixRef:i,inlineThemeDisabled:c}=Me(t),s=ue("Layout","-layout",or,mn,t,i);function u(f,v){if(t.nativeScrollbar){const{value:R}=n;R&&(v===void 0?R.scrollTo(f):R.scrollTo(f,v))}else{const{value:R}=o;R&&R.scrollTo(f,v)}}Ze(xn,t);let d=0,h=0;const g=f=>{var v;const R=f.target;d=R.scrollLeft,h=R.scrollTop,(v=t.onScroll)===null||v===void 0||v.call(t,f)};an(()=>{if(t.nativeScrollbar){const f=n.value;f&&(f.scrollTop=h,f.scrollLeft=d)}});const C={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},p={scrollTo:u},y=E(()=>{const{common:{cubicBezierEaseInOut:f},self:v}=s.value;return{"--n-bezier":f,"--n-color":t.embedded?v.colorEmbedded:v.color,"--n-text-color":v.textColor}}),a=c?Qe("layout",E(()=>t.embedded?"e":""),y,t):void 0;return Object.assign({mergedClsPrefix:i,scrollableElRef:n,scrollbarInstRef:o,hasSiderStyle:C,mergedTheme:s,handleNativeElScroll:g,cssVars:c?void 0:y,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender},p)},render(){var t;const{mergedClsPrefix:n,hasSider:o}=this;(t=this.onRender)===null||t===void 0||t.call(this);const i=o?this.hasSiderStyle:void 0,c=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return k("div",{class:c,style:this.cssVars},this.nativeScrollbar?k("div",{ref:"scrollableElRef",class:`${n}-layout-scroll-container`,style:[this.contentStyle,i],onScroll:this.handleNativeElScroll},this.$slots):k(yt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,i]}),this.$slots))}})}const ar=kn(!1),lr=kn(!0),ir=N("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[K("bordered",[O("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),O("left-placement",[K("bordered",[O("border",`
 right: 0;
 `)])]),K("right-placement",`
 justify-content: flex-start;
 `,[K("bordered",[O("border",`
 left: 0;
 `)]),K("collapsed",[N("layout-toggle-button",[N("base-icon",`
 transform: rotate(180deg);
 `)]),N("layout-toggle-bar",[J("&:hover",[O("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),N("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[N("base-icon",`
 transform: rotate(0);
 `)]),N("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[J("&:hover",[O("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),K("collapsed",[N("layout-toggle-bar",[J("&:hover",[O("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),N("layout-toggle-button",[N("base-icon",`
 transform: rotate(0);
 `)])]),N("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[N("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),N("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[O("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),O("bottom",`
 position: absolute;
 top: 34px;
 `),J("&:hover",[O("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),O("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),J("&:hover",[O("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),O("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),N("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),K("show-content",[N("layout-sider-scroll-container",{opacity:1})]),K("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),sr=X({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return k("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},k(ln,{clsPrefix:e},{default:()=>k(go,null)}))}}),dr=X({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return k("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},k("div",{class:`${e}-layout-toggle-bar__top`}),k("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),cr={position:_n,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},ur=X({name:"LayoutSider",props:Object.assign(Object.assign({},ue.props),cr),setup(e){const t=pe(xn),n=P(null),o=P(null),i=E(()=>ct(d.value?e.collapsedWidth:e.width)),c=E(()=>e.collapseMode!=="transform"?{}:{minWidth:ct(e.width)}),s=E(()=>t?t.siderPlacement:"left"),u=P(e.defaultCollapsed),d=Se(F(e,"collapsed"),u);function h(w,_){if(e.nativeScrollbar){const{value:I}=n;I&&(_===void 0?I.scrollTo(w):I.scrollTo(w,_))}else{const{value:I}=o;I&&I.scrollTo(w,_)}}function g(){const{"onUpdate:collapsed":w,onUpdateCollapsed:_,onExpand:I,onCollapse:oe}=e,{value:Z}=d;_&&L(_,!Z),w&&L(w,!Z),u.value=!Z,Z?I&&L(I):oe&&L(oe)}let C=0,p=0;const y=w=>{var _;const I=w.target;C=I.scrollLeft,p=I.scrollTop,(_=e.onScroll)===null||_===void 0||_.call(e,w)};an(()=>{if(e.nativeScrollbar){const w=n.value;w&&(w.scrollTop=p,w.scrollLeft=C)}}),Ze(nr,{collapsedRef:d,collapseModeRef:F(e,"collapseMode")});const{mergedClsPrefixRef:a,inlineThemeDisabled:f}=Me(e),v=ue("Layout","-layout-sider",ir,mn,e,a);function R(w){var _,I;w.propertyName==="max-width"&&(d.value?(_=e.onAfterLeave)===null||_===void 0||_.call(e):(I=e.onAfterEnter)===null||I===void 0||I.call(e))}const S={scrollTo:h},T=E(()=>{const{common:{cubicBezierEaseInOut:w},self:_}=v.value,{siderToggleButtonColor:I,siderToggleButtonBorder:oe,siderToggleBarColor:Z,siderToggleBarColorHover:de}=_,U={"--n-bezier":w,"--n-toggle-button-color":I,"--n-toggle-button-border":oe,"--n-toggle-bar-color":Z,"--n-toggle-bar-color-hover":de};return e.inverted?(U["--n-color"]=_.siderColorInverted,U["--n-text-color"]=_.textColorInverted,U["--n-border-color"]=_.siderBorderColorInverted,U["--n-toggle-button-icon-color"]=_.siderToggleButtonIconColorInverted,U.__invertScrollbar=_.__invertScrollbar):(U["--n-color"]=_.siderColor,U["--n-text-color"]=_.textColor,U["--n-border-color"]=_.siderBorderColor,U["--n-toggle-button-icon-color"]=_.siderToggleButtonIconColor),U}),D=f?Qe("layout-sider",E(()=>e.inverted?"a":"b"),T,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:o,mergedClsPrefix:a,mergedTheme:v,styleMaxWidth:i,mergedCollapsed:d,scrollContainerStyle:c,siderPlacement:s,handleNativeElScroll:y,handleTransitionend:R,handleTriggerClick:g,inlineThemeDisabled:f,cssVars:T,themeClass:D==null?void 0:D.themeClass,onRender:D==null?void 0:D.onRender},S)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:o}=this;return(e=this.onRender)===null||e===void 0||e.call(this),k("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:ct(this.width)}]},this.nativeScrollbar?k("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):k(yt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),o?o==="bar"?k(dr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):k(sr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?k("div",{class:`${t}-layout-sider__border`}):null)}}),fr=Object.assign(Object.assign({},ue.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),hr=X({name:"Scrollbar",props:fr,setup(){const e=P(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var o;(o=e.value)===null||o===void 0||o.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var o;(o=e.value)===null||o===void 0||o.scrollBy(n[0],n[1])}}),{scrollbarInstRef:e})},render(){return k(yt,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),gr=hr,Cn=je("n-tree-select"),Ue=je("n-tree"),vr=X({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=pe(Ue,null);return()=>{const{clsPrefix:n}=e;return k("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,{[`${n}-tree-node-switcher--expanded`]:e.expanded,[`${n}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},k("div",{class:`${n}-tree-node-switcher__icon`},k(vo,null,{default:()=>{if(e.loading)return k(bo,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:o}=t;return o?o():k(ln,{clsPrefix:n,key:"switcher"},{default:()=>k(Uo,null)})}})))}}}),br=X({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=pe(Ue);function n(i){const{onCheck:c}=e;if(c)return c(i)}function o(i){e.indeterminate?n(!1):n(i)}return{handleUpdateValue:o,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:o,disabled:i,focusable:c,handleUpdateValue:s}=this;return k("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},k(yo,{focusable:c,disabled:i,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:o,onUpdateChecked:s}))}}),yr=X({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:o,labelFieldRef:i}=pe(Ue),c=P(null);function s(d){const{onClick:h}=e;h&&h(d)}function u(d){s(d)}return{selfRef:c,renderLabel:t,renderPrefix:n,renderSuffix:o,labelField:i,handleClick:u}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:o=!1,selected:i=!1,renderLabel:c,renderPrefix:s,renderSuffix:u,handleClick:d,onDragstart:h,tmNode:{rawNode:g,rawNode:{prefix:C,suffix:p,[t]:y}}}=this;return k("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:d,draggable:h===void 0?void 0:!0,onDragstart:h}),s||C?k("div",{class:`${e}-tree-node-content__prefix`},s?s({option:g,selected:i,checked:o}):ut(C)):null,k("div",{class:`${e}-tree-node-content__text`},c?c({option:g,selected:i,checked:o}):ut(y)),u||p?k("div",{class:`${e}-tree-node-content__suffix`},u?u({option:g,selected:i,checked:o}):ut(p)):null)}});function Ht({position:e,offsetLevel:t,indent:n,el:o}){const i={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")i.left=0,i.top=0,i.bottom=0,i.borderRadius="inherit",i.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const c=e==="before"?"top":"bottom";i[c]=0,i.left=`${o.offsetLeft+6-t*n}px`,i.height="2px",i.backgroundColor="var(--n-drop-mark-color)",i.transformOrigin=c,i.borderRadius="1px",i.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return k("div",{style:i})}function pr({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}function ve(e,t){return!!e.rawNode[t]}function Sn(e,t,n,o){e==null||e.forEach(i=>{n(i),Sn(i[t],t,n,o),o(i)})}function mr(e,t,n,o,i){const c=new Set,s=new Set,u=[];return Sn(e,o,d=>{if(u.push(d),i(t,d)){s.add(d[n]);for(let h=u.length-2;h>=0;--h)if(!c.has(u[h][n]))c.add(u[h][n]);else return}},()=>{u.pop()}),{expandedKeys:Array.from(c),highlightKeySet:s}}if(po&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function _r(e,t,n,o,i){const c=new Set,s=new Set,u=new Set,d=[],h=[],g=[];function C(y){y.forEach(a=>{if(g.push(a),t(n,a)){c.add(a[o]),u.add(a[o]);for(let v=g.length-2;v>=0;--v){const R=g[v][o];if(!s.has(R))s.add(R),c.has(R)&&c.delete(R);else break}}const f=a[i];f&&C(f),g.pop()})}C(e);function p(y,a){y.forEach(f=>{const v=f[o],R=c.has(v),S=s.has(v);if(!R&&!S)return;const T=f[i];if(T)if(R)a.push(f);else{d.push(v);const D=Object.assign(Object.assign({},f),{[i]:[]});a.push(D),p(T,D[i])}else a.push(f)})}return p(e,h),{filteredTree:h,highlightKeySet:u,expandedKeys:d}}const xr=X({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=pe(Ue),{droppingNodeParentRef:n,droppingMouseNodeRef:o,draggingNodeRef:i,droppingPositionRef:c,droppingOffsetLevelRef:s,nodePropsRef:u,indentRef:d,blockLineRef:h,checkboxPlacementRef:g,checkOnClickRef:C,disabledFieldRef:p}=t,y=W(()=>!!e.tmNode.rawNode.checkboxDisabled),a=W(()=>ve(e.tmNode,p.value)),f=W(()=>t.disabledRef.value||a.value),v=E(()=>{const{value:m}=u;if(!!m)return m({option:e.tmNode.rawNode})}),R=P(null),S={value:null};mo(()=>{S.value=R.value.$el});function T(){const{tmNode:m}=e;if(!m.isLeaf&&!m.shallowLoaded){if(!t.loadingKeysRef.value.has(m.key))t.loadingKeysRef.value.add(m.key);else return;const{onLoadRef:{value:B}}=t;B&&B(m.rawNode).then(()=>{t.handleSwitcherClick(m)}).finally(()=>{t.loadingKeysRef.value.delete(m.key)})}else t.handleSwitcherClick(m)}const D=W(()=>!a.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),w=W(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),_=W(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),I=W(()=>{const{value:m}=w;if(!m)return!1;const{value:B}=C;return typeof B=="boolean"?B:B(e.tmNode.rawNode)});function oe(m){const{value:B}=t.expandOnClickRef,{value:H}=D,{value:we}=I;if(!H&&!B&&!we||Lt(m,"checkbox")||Lt(m,"switcher"))return;const{tmNode:me}=e;H&&t.handleSelect(me),B&&!me.isLeaf&&T(),we&&U(!_.value)}function Z(m){var B,H;h.value||(f.value||oe(m),(H=(B=v.value)===null||B===void 0?void 0:B.onClick)===null||H===void 0||H.call(B,m))}function de(m){var B,H;!h.value||(f.value||oe(m),(H=(B=v.value)===null||B===void 0?void 0:B.onClick)===null||H===void 0||H.call(B,m))}function U(m){t.handleCheck(e.tmNode,m)}function Ke(m){t.handleDragStart({event:m,node:e.tmNode})}function Q(m){m.currentTarget===m.target&&t.handleDragEnter({event:m,node:e.tmNode})}function ae(m){m.preventDefault(),t.handleDragOver({event:m,node:e.tmNode})}function le(m){t.handleDragEnd({event:m,node:e.tmNode})}function Fe(m){m.currentTarget===m.target&&t.handleDragLeave({event:m,node:e.tmNode})}function te(m){m.preventDefault(),c.value!==null&&t.handleDrop({event:m,node:e.tmNode,dropPosition:c.value})}return{showDropMark:W(()=>{const{value:m}=i;if(!m)return;const{value:B}=c;if(!B)return;const{value:H}=o;if(!H)return;const{tmNode:we}=e;return we.key===H.key}),showDropMarkAsParent:W(()=>{const{value:m}=n;if(!m)return!1;const{tmNode:B}=e,{value:H}=c;return H==="before"||H==="after"?m.key===B.key:!1}),pending:W(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:W(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:W(()=>{var m;return(m=t.highlightKeySetRef.value)===null||m===void 0?void 0:m.has(e.tmNode.key)}),checked:_,indeterminate:W(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:W(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:W(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:f,checkable:w,mergedCheckOnClick:I,checkboxDisabled:y,selectable:D,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:h,nodeProps:v,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:c,droppingOffsetLevel:s,indent:d,checkboxPlacement:g,contentInstRef:R,contentElRef:S,handleCheck:U,handleDrop:te,handleDragStart:Ke,handleDragEnter:Q,handleDragOver:ae,handleDragEnd:le,handleDragLeave:Fe,handleLineClick:de,handleContentClick:Z,handleSwitcherClick:T}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:o,selectable:i,selected:c,checked:s,highlight:u,draggable:d,blockLine:h,indent:g,disabled:C,pending:p,internalScrollable:y,nodeProps:a,checkboxPlacement:f}=this,v=d&&!C?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,R=y?yn(e.key):void 0,S=f==="right",T=n?k(br,{right:S,focusable:this.checkboxFocusable,disabled:C||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return k("div",Object.assign({class:`${t}-tree-node-wrapper`},v),k("div",Object.assign({},h?a:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:c,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:u,[`${t}-tree-node--pending`]:p,[`${t}-tree-node--disabled`]:C,[`${t}-tree-node--selectable`]:i,[`${t}-tree-node--clickable`]:i||o||this.mergedCheckOnClick},a==null?void 0:a.class],"data-key":R,draggable:d&&h,onClick:this.handleLineClick,onDragstart:d&&h&&!C?this.handleDragStart:void 0}),_o(e.level,k("div",{class:`${t}-tree-node-indent`},k("div",{style:{width:`${g}px`}}))),k(vr,{clsPrefix:t,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),S?null:T,k(yr,{ref:"contentInstRef",clsPrefix:t,checked:s,selected:c,onClick:this.handleContentClick,nodeProps:h?void 0:a,onDragstart:d&&!h&&!C?this.handleDragStart:void 0,tmNode:e}),d?this.showDropMark?Ht({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:g}):this.showDropMarkAsParent?Ht({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:g}):null:null,S?T:null))}}),wn=xr;function kr({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:o,handleSelect:i,handleSwitcherClick:c}){const{value:s}=o,u=pe(Cn,null),d=u?u.pendingNodeKeyRef:P(s.length?s[s.length-1]:null);function h(g){if(!e.keyboard)return;const{value:C}=d;if(C===null){if((g.key==="ArrowDown"||g.key==="ArrowUp")&&g.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(g.key)&&C===null){const{value:p}=t;let y=0;for(;y<p.length;){if(!p[y].disabled){d.value=p[y].key;break}y+=1}}}else{const{value:p}=t;let y=p.findIndex(a=>a.key===C);if(!~y)return;if(g.key==="Enter")i(p[y]);else if(g.key==="ArrowDown")for(g.preventDefault(),y+=1;y<p.length;){if(!p[y].disabled){d.value=p[y].key;break}y+=1}else if(g.key==="ArrowUp")for(g.preventDefault(),y-=1;y>=0;){if(!p[y].disabled){d.value=p[y].key;break}y-=1}else if(g.key==="ArrowLeft"){const a=p[y];if(a.isLeaf||!n.value.includes(C)){const f=a.getParent();f&&(d.value=f.key)}else c(a)}else if(g.key==="ArrowRight"){const a=p[y];if(a.isLeaf)return;if(!n.value.includes(C))c(a);else for(y+=1;y<p.length;){if(!p[y].disabled){d.value=p[y].key;break}y+=1}}}}return{pendingNodeKeyRef:d,handleKeydown:h}}const Cr=X({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return k(ko,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>k("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:xo(this.height)}},this.nodes.map(t=>k(wn,{clsPrefix:e,tmNode:t})))})}}),Sr=N("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[J("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),J(">",[N("tree-node",[J("&:first-child",{marginTop:0})])]),N("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),N("tree-motion-wrapper",[K("expand",[jt({duration:"0.2s"})]),K("collapse",[jt({duration:"0.2s",reverse:!0})])]),N("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),N("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[K("highlight",[N("tree-node-content",[O("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),K("disabled",[N("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),ke("disabled",[K("clickable",[N("tree-node-content",`
 cursor: pointer;
 `)])])]),K("block-node",[N("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),ke("block-line",[N("tree-node",[ke("disabled",[N("tree-node-content",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),K("selectable",[N("tree-node-content",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),K("pending",[N("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),K("selected",[N("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),K("block-line",[N("tree-node",[ke("disabled",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),K("pending",`
 background-color: var(--n-node-color-hover);
 `),K("selectable",[ke("selected",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),K("selected",{backgroundColor:"var(--n-node-color-active)"})]),K("disabled",`
 cursor: not-allowed;
 `)])]),N("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[O("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[N("icon",[ft()]),N("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[ft()]),N("base-icon",[ft()])]),K("hide",{visibility:"hidden"}),K("expanded",{transform:"rotate(90deg)"})]),N("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[K("right","margin-left: 4px;")]),K("checkable",[N("tree-node-content",`
 padding: 0 6px;
 `)]),N("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[J("&:last-child",{marginBottom:0}),O("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),O("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),O("suffix",`
 display: inline-flex;
 `)]),O("empty","margin: auto;")]);var wr=globalThis&&globalThis.__awaiter||function(e,t,n,o){function i(c){return c instanceof n?c:new n(function(s){s(c)})}return new(n||(n=Promise))(function(c,s){function u(g){try{h(o.next(g))}catch(C){s(C)}}function d(g){try{h(o.throw(g))}catch(C){s(C)}}function h(g){g.done?c(g.value):i(g.value).then(u,d)}h((o=o.apply(e,t||[])).next())})};const Je=30;function Rr(e,t,n){return{getIsGroup(){return!1},getKey(o){return o[e]},getChildren(o){return o[t]},getDisabled(o){return!!(o[n]||o.checkboxDisabled)}}}const $r={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Tr=Object.assign(Object.assign(Object.assign(Object.assign({},ue.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:pr},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),$r),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Nr=X({name:"Tree",props:Tr,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:o}=Me(e),i=rn("Tree",o,t),c=ue("Tree","-tree",Sr,Co,e,t),s=P(null),u=P(null),d=P(null);function h(){var r;return(r=d.value)===null||r===void 0?void 0:r.listElRef}function g(){var r;return(r=d.value)===null||r===void 0?void 0:r.itemsElRef}const C=E(()=>{const{pattern:r}=e;return r?!r.length||!ot.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:_r(e.data,ot.value,r,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),p=E(()=>So(e.showIrrelevantNodes?e.data:C.value.filteredTree,Rr(e.keyField,e.childrenField,e.disabledField))),y=pe(Cn,null),a=e.internalTreeSelect?y.dataTreeMate:p,{watchProps:f}=e,v=P([]);f!=null&&f.includes("defaultCheckedKeys")?ze(()=>{v.value=e.defaultCheckedKeys}):v.value=e.defaultCheckedKeys;const R=F(e,"checkedKeys"),S=Se(R,v),T=E(()=>a.value.getCheckedKeys(S.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),D=E(()=>e.leafOnly?"child":e.checkStrategy),w=E(()=>T.value.checkedKeys),_=E(()=>{const{indeterminateKeys:r}=e;return r!==void 0?r:T.value.indeterminateKeys}),I=P([]);f!=null&&f.includes("defaultSelectedKeys")?ze(()=>{I.value=e.defaultSelectedKeys}):I.value=e.defaultSelectedKeys;const oe=F(e,"selectedKeys"),Z=Se(oe,I),de=P([]),U=r=>{de.value=e.defaultExpandAll?a.value.getNonLeafKeys():r===void 0?e.defaultExpandedKeys:r};f!=null&&f.includes("defaultExpandedKeys")?ze(()=>U(void 0)):ze(()=>U(e.defaultExpandedKeys));const Ke=F(e,"expandedKeys"),Q=Se(Ke,de),ae=E(()=>p.value.getFlattenedNodes(Q.value)),{pendingNodeKeyRef:le,handleKeydown:Fe}=kr({props:e,mergedSelectedKeysRef:Z,fNodesRef:ae,mergedExpandedKeysRef:Q,handleSelect:it,handleSwitcherClick:Dt});let te=null,m=null;const B=P(new Set),H=E(()=>e.internalHighlightKeySet||C.value.highlightKeySet),we=Se(H,B),me=P(new Set),On=E(()=>Q.value.filter(r=>!me.value.has(r)));let Rt=0;const Oe=P(null),He=P(null),Ve=P(null),Ge=P(null),qe=P(0),Bn=E(()=>{const{value:r}=He;return r?r.parent:null}),ot=E(()=>{const{filter:r}=e;if(r)return r;const{labelField:l}=e;return(b,x)=>{if(!b.length)return!0;const $=x[l];return typeof $=="string"?$.toLowerCase().includes(b.toLowerCase()):!1}});ye(F(e,"data"),()=>{me.value.clear(),le.value=null,Ae()},{deep:!1});let rt=!1;const at=()=>{rt=!0,be(()=>{rt=!1})};let Be;ye(F(e,"pattern"),(r,l)=>{if(e.showIrrelevantNodes)if(Be=void 0,r){const{expandedKeys:b,highlightKeySet:x}=mr(e.data,e.pattern,e.keyField,e.childrenField,ot.value);B.value=x,at(),$e(b,re(b))}else B.value=new Set;else if(!r.length)Be!==void 0&&(at(),$e(Be,re(Be)));else{l.length||(Be=Q.value);const{expandedKeys:b}=C.value;b!==void 0&&(at(),$e(b,re(b)))}});function $t(r){return wr(this,void 0,void 0,function*(){const{onLoad:l}=e;if(!l)return yield Promise.resolve();const{value:b}=me;return yield new Promise(x=>{b.has(r.key)||(b.add(r.key),l(r.rawNode).then(()=>{b.delete(r.key),x()}).catch($=>{console.error($),Ee()}))})})}ze(()=>{var r;const{value:l}=p;if(!l)return;const{getNode:b}=l;(r=Q.value)===null||r===void 0||r.forEach(x=>{const $=b(x);$&&!$.shallowLoaded&&$t($)})});const Re=P(!1),he=P([]);ye(On,(r,l)=>{if(!e.animated||rt){be(Ye);return}const b=new Set(l);let x=null,$=null;for(const M of r)if(!b.has(M)){if(x!==null)return;x=M}const q=new Set(r);for(const M of l)if(!q.has(M)){if($!==null)return;$=M}if(x===null&&$===null)return;const{virtualScroll:V}=e,ce=(V?d.value.listElRef:s.value).offsetHeight,xe=Math.ceil(ce/Je)+1;let ie;if(x!==null&&(ie=l),$!==null&&(ie===void 0?ie=r:ie=ie.filter(M=>M!==$)),Re.value=!0,he.value=p.value.getFlattenedNodes(ie),x!==null){const M=he.value.findIndex(Y=>Y.key===x);if(~M){const Y=he.value[M].children;if(Y){const ge=Mt(Y,r);he.value.splice(M+1,0,{__motion:!0,mode:"expand",height:V?ge.length*Je:void 0,nodes:V?ge.slice(0,xe):ge})}}}if($!==null){const M=he.value.findIndex(Y=>Y.key===$);if(~M){const Y=he.value[M].children;if(!Y)return;Re.value=!0;const ge=Mt(Y,r);he.value.splice(M+1,0,{__motion:!0,mode:"collapse",height:V?ge.length*Je:void 0,nodes:V?ge.slice(0,xe):ge})}}});const An=E(()=>wo(ae.value)),En=E(()=>Re.value?he.value:ae.value);function Ye(){const{value:r}=u;r&&r.sync()}function zn(){Re.value=!1,e.virtualScroll&&be(Ye)}function re(r){const{getNode:l}=a.value;return r.map(b=>{var x;return((x=l(b))===null||x===void 0?void 0:x.rawNode)||null})}function $e(r,l){const{"onUpdate:expandedKeys":b,onUpdateExpandedKeys:x}=e;de.value=r,b&&L(b,r,l),x&&L(x,r,l)}function Tt(r,l){const{"onUpdate:checkedKeys":b,onUpdateCheckedKeys:x}=e;v.value=r,x&&L(x,r,l),b&&L(b,r,l)}function Ln(r,l){const{"onUpdate:indeterminateKeys":b,onUpdateIndeterminateKeys:x}=e;b&&L(b,r,l),x&&L(x,r,l)}function lt(r,l){const{"onUpdate:selectedKeys":b,onUpdateSelectedKeys:x}=e;I.value=r,x&&L(x,r,l),b&&L(b,r,l)}function jn(r){const{onDragenter:l}=e;l&&L(l,r)}function Mn(r){const{onDragleave:l}=e;l&&L(l,r)}function Un(r){const{onDragend:l}=e;l&&L(l,r)}function Hn(r){const{onDragstart:l}=e;l&&L(l,r)}function Vn(r){const{onDragover:l}=e;l&&L(l,r)}function Gn(r){const{onDrop:l}=e;l&&L(l,r)}function Ae(){qn(),_e()}function qn(){Oe.value=null}function _e(){qe.value=0,He.value=null,Ve.value=null,Ge.value=null,Ee()}function Ee(){te&&(window.clearTimeout(te),te=null),m=null}function Nt(r,l){if(e.disabled||ve(r,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){it(r);return}const{checkedKeys:b,indeterminateKeys:x}=a.value[l?"check":"uncheck"](r.key,w.value,{cascade:e.cascade,checkStrategy:D.value,allowNotLoaded:e.allowCheckingNotLoaded});Tt(b,re(b)),Ln(x,re(x))}function Yn(r){if(e.disabled)return;const{key:l}=r,{value:b}=Q,x=b.findIndex($=>$===l);if(~x){const $=Array.from(b);$.splice(x,1),$e($,re($))}else{const $=p.value.getNode(l);if(!$||$.isLeaf)return;let q;if(e.accordion){const V=new Set(r.siblings.map(({key:ce})=>ce));q=b.filter(ce=>!V.has(ce)),q.push(l)}else q=b.concat(l);$e(q,re(q))}}function Dt(r){e.disabled||Re.value||Yn(r)}function it(r){if(!(e.disabled||!e.selectable)){if(le.value=r.key,e.internalUnifySelectCheck){const{value:{checkedKeys:l,indeterminateKeys:b}}=T;e.multiple?Nt(r,!(l.includes(r.key)||b.includes(r.key))):Tt([r.key],re([r.key]))}if(e.multiple){const l=Array.from(Z.value),b=l.findIndex(x=>x===r.key);~b?e.cancelable&&l.splice(b,1):~b||l.push(r.key),lt(l,re(l))}else Z.value.includes(r.key)?e.cancelable&&lt([],[]):lt([r.key],re([r.key]))}}function Wn(r){if(te&&(window.clearTimeout(te),te=null),r.isLeaf)return;m=r.key;const l=()=>{if(m!==r.key)return;const{value:b}=Ve;if(b&&b.key===r.key&&!Q.value.includes(r.key)){const x=Q.value.concat(r.key);$e(x,re(x))}te=null,m=null};r.shallowLoaded?te=window.setTimeout(()=>{l()},1e3):te=window.setTimeout(()=>{$t(r).then(()=>{l()})},1e3)}function Jn({event:r,node:l}){!e.draggable||e.disabled||ve(l,e.disabledField)||(Pt({event:r,node:l},!1),jn({event:r,node:l.rawNode}))}function Xn({event:r,node:l}){!e.draggable||e.disabled||ve(l,e.disabledField)||Mn({event:r,node:l.rawNode})}function Zn(r){r.target===r.currentTarget&&_e()}function Qn({event:r,node:l}){Ae(),!(!e.draggable||e.disabled||ve(l,e.disabledField))&&Un({event:r,node:l.rawNode})}function eo({event:r,node:l}){!e.draggable||e.disabled||ve(l,e.disabledField)||(Rt=r.clientX,Oe.value=l,Hn({event:r,node:l.rawNode}))}function Pt({event:r,node:l},b=!0){var x;if(!e.draggable||e.disabled||ve(l,e.disabledField))return;const{value:$}=Oe;if(!$)return;const{allowDrop:q,indent:V}=e;b&&Vn({event:r,node:l.rawNode});const ce=r.currentTarget,{height:xe,top:ie}=ce.getBoundingClientRect(),M=r.clientY-ie;let Y;q({node:l.rawNode,dropPosition:"inside",phase:"drag"})?M<=8?Y="before":M>=xe-8?Y="after":Y="inside":M<=xe/2?Y="before":Y="after";const{value:lo}=An;let A,ee;const st=lo(l.key);if(st===null){_e();return}let Ft=!1;Y==="inside"?(A=l,ee="inside"):Y==="before"?l.isFirstChild?(A=l,ee="before"):(A=ae.value[st-1],ee="after"):(A=l,ee="after"),!A.isLeaf&&Q.value.includes(A.key)&&(Ft=!0,ee==="after"&&(A=ae.value[st+1],A?ee="before":(A=l,ee="inside")));const Ot=A;if(Ve.value=Ot,!Ft&&$.isLastChild&&$.key===A.key&&(ee="after"),ee==="after"){let Bt=Rt-r.clientX,dt=0;for(;Bt>=V/2&&A.parent!==null&&A.isLastChild&&dt<1;)Bt-=V,dt+=1,A=A.parent;qe.value=dt}else qe.value=0;if(($.contains(A)||ee==="inside"&&((x=$.parent)===null||x===void 0?void 0:x.key)===A.key)&&!($.key===Ot.key&&$.key===A.key)){_e();return}if(!q({node:A.rawNode,dropPosition:ee,phase:"drag"})){_e();return}if($.key===A.key)Ee();else if(m!==A.key)if(ee==="inside"){if(e.expandOnDragenter){if(Wn(A),!A.shallowLoaded&&m!==A.key){Ae();return}}else if(!A.shallowLoaded){Ae();return}}else Ee();else ee!=="inside"&&Ee();Ge.value=ee,He.value=A}function to({event:r,node:l,dropPosition:b}){if(!e.draggable||e.disabled||ve(l,e.disabledField))return;const{value:x}=Oe,{value:$}=He,{value:q}=Ge;if(!(!x||!$||!q)&&!!e.allowDrop({node:$.rawNode,dropPosition:q,phase:"drag"})&&x.key!==$.key){if(q==="before"){const V=x.getNext({includeDisabled:!0});if(V&&V.key===$.key){_e();return}}if(q==="after"){const V=x.getPrev({includeDisabled:!0});if(V&&V.key===$.key){_e();return}}Gn({event:r,node:$.rawNode,dragNode:x.rawNode,dropPosition:b}),Ae()}}function no(){Ye()}function oo(){Ye()}function ro(r){var l;if(e.virtualScroll||e.internalScrollable){const{value:b}=u;if(!((l=b==null?void 0:b.containerRef)===null||l===void 0)&&l.contains(r.relatedTarget))return;le.value=null}else{const{value:b}=s;if(b!=null&&b.contains(r.relatedTarget))return;le.value=null}}ye(le,r=>{var l,b;if(r!==null){if(e.virtualScroll)(l=d.value)===null||l===void 0||l.scrollTo({key:r});else if(e.internalScrollable){const{value:x}=u;if(x===null)return;const $=(b=x.contentRef)===null||b===void 0?void 0:b.querySelector(`[data-key="${yn(r)}"]`);if(!$)return;x.scrollTo({el:$})}}}),Ze(Ue,{loadingKeysRef:me,highlightKeySetRef:we,displayedCheckedKeysRef:w,displayedIndeterminateKeysRef:_,mergedSelectedKeysRef:Z,mergedExpandedKeysRef:Q,mergedThemeRef:c,mergedCheckStrategyRef:D,nodePropsRef:F(e,"nodeProps"),disabledRef:F(e,"disabled"),checkableRef:F(e,"checkable"),selectableRef:F(e,"selectable"),expandOnClickRef:F(e,"expandOnClick"),onLoadRef:F(e,"onLoad"),draggableRef:F(e,"draggable"),blockLineRef:F(e,"blockLine"),indentRef:F(e,"indent"),cascadeRef:F(e,"cascade"),checkOnClickRef:F(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Ve,droppingNodeParentRef:Bn,draggingNodeRef:Oe,droppingPositionRef:Ge,droppingOffsetLevelRef:qe,fNodesRef:ae,pendingNodeKeyRef:le,disabledFieldRef:F(e,"disabledField"),internalScrollableRef:F(e,"internalScrollable"),internalCheckboxFocusableRef:F(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:F(e,"renderLabel"),renderPrefixRef:F(e,"renderPrefix"),renderSuffixRef:F(e,"renderSuffix"),renderSwitcherIconRef:F(e,"renderSwitcherIcon"),labelFieldRef:F(e,"labelField"),multipleRef:F(e,"multiple"),handleSwitcherClick:Dt,handleDragEnd:Qn,handleDragEnter:Jn,handleDragLeave:Xn,handleDragStart:eo,handleDrop:to,handleDragOver:Pt,handleSelect:it,handleCheck:Nt});function ao(r){var l;(l=d.value)===null||l===void 0||l.scrollTo(r)}const It={handleKeydown:Fe,scrollTo:ao},Kt=E(()=>{const{common:{cubicBezierEaseInOut:r},self:{fontSize:l,nodeBorderRadius:b,nodeColorHover:x,nodeColorPressed:$,nodeColorActive:q,arrowColor:V,loadingColor:ce,nodeTextColor:xe,nodeTextColorDisabled:ie,dropMarkColor:M}}=c.value;return{"--n-arrow-color":V,"--n-loading-color":ce,"--n-bezier":r,"--n-font-size":l,"--n-node-border-radius":b,"--n-node-color-active":q,"--n-node-color-hover":x,"--n-node-color-pressed":$,"--n-node-text-color":xe,"--n-node-text-color-disabled":ie,"--n-drop-mark-color":M}}),Te=n?Qe("tree",void 0,Kt,e):void 0;return{mergedClsPrefix:t,mergedTheme:c,rtlEnabled:i,fNodes:En,aip:Re,selfElRef:s,virtualListInstRef:d,scrollbarInstRef:u,handleFocusout:ro,handleDragLeaveTree:Zn,handleScroll:no,getScrollContainer:h,getScrollContent:g,handleAfterEnter:zn,handleResize:oo,handleKeydown:It.handleKeydown,scrollTo:It.scrollTo,cssVars:n?void 0:Kt,themeClass:Te==null?void 0:Te.themeClass,onRender:Te==null?void 0:Te.onRender}},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:o,blockNode:i,blockLine:c,draggable:s,disabled:u,internalFocusable:d,checkable:h,handleKeydown:g,rtlEnabled:C,handleFocusout:p}=this,y=d&&!u,a=y?"0":void 0,f=[`${o}-tree`,C&&`${o}-tree--rtl`,h&&`${o}-tree--checkable`,(c||i)&&`${o}-tree--block-node`,c&&`${o}-tree--block-line`],v=S=>"__motion"in S?k(Cr,{height:S.height,nodes:S.nodes,clsPrefix:o,mode:S.mode,onAfterEnter:this.handleAfterEnter}):k(wn,{key:S.key,tmNode:S,clsPrefix:o});if(this.virtualScroll){const{mergedTheme:S,internalScrollablePadding:T}=this,D=Ro(T||"0");return k(Ut,{ref:"scrollbarInstRef",onDragleave:s?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:f,theme:S.peers.Scrollbar,themeOverrides:S.peerOverrides.Scrollbar,tabindex:a,onKeydown:y?g:void 0,onFocusout:y?p:void 0},{default:()=>{var w;return(w=this.onRender)===null||w===void 0||w.call(this),k($o,{ref:"virtualListInstRef",items:this.fNodes,itemSize:Je,ignoreItemResize:this.aip,paddingTop:D.top,paddingBottom:D.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:D.left,paddingRight:D.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:_})=>v(_)})}})}const{internalScrollable:R}=this;return f.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),R?k(Ut,{class:f,tabindex:a,onKeydown:y?g:void 0,onFocusout:y?p:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>k("div",{onDragleave:s?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(v))}):k("div",{class:f,tabindex:a,ref:"selfElRef",style:this.cssVars,onKeydown:y?g:void 0,onFocusout:y?p:void 0,onDragleave:s?this.handleDragLeaveTree:void 0},t.length?t.map(v):To(this.$slots.empty,()=>[k(No,{class:`${o}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}});var Dr=Array.isArray,mt=Dr,Pr=typeof We=="object"&&We&&We.Object===Object&&We,Ir=Pr,Kr=Ir,Fr=typeof self=="object"&&self&&self.Object===Object&&self,Or=Kr||Fr||Function("return this")(),_t=Or,Br=_t,Ar=Br.Symbol,xt=Ar,Vt=xt,Rn=Object.prototype,Er=Rn.hasOwnProperty,zr=Rn.toString,Le=Vt?Vt.toStringTag:void 0;function Lr(e){var t=Er.call(e,Le),n=e[Le];try{e[Le]=void 0;var o=!0}catch{}var i=zr.call(e);return o&&(t?e[Le]=n:delete e[Le]),i}var jr=Lr,Mr=Object.prototype,Ur=Mr.toString;function Hr(e){return Ur.call(e)}var Vr=Hr,Gt=xt,Gr=jr,qr=Vr,Yr="[object Null]",Wr="[object Undefined]",qt=Gt?Gt.toStringTag:void 0;function Jr(e){return e==null?e===void 0?Wr:Yr:qt&&qt in Object(e)?Gr(e):qr(e)}var $n=Jr;function Xr(e){return e!=null&&typeof e=="object"}var Zr=Xr,Qr=$n,ea=Zr,ta="[object Symbol]";function na(e){return typeof e=="symbol"||ea(e)&&Qr(e)==ta}var kt=na,oa=mt,ra=kt,aa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,la=/^\w*$/;function ia(e,t){if(oa(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ra(e)?!0:la.test(e)||!aa.test(e)||t!=null&&e in Object(t)}var sa=ia;function da(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ct=da,ca=$n,ua=Ct,fa="[object AsyncFunction]",ha="[object Function]",ga="[object GeneratorFunction]",va="[object Proxy]";function ba(e){if(!ua(e))return!1;var t=ca(e);return t==ha||t==ga||t==fa||t==va}var ya=ba,pa=_t,ma=pa["__core-js_shared__"],_a=ma,gt=_a,Yt=function(){var e=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xa(e){return!!Yt&&Yt in e}var ka=xa,Ca=Function.prototype,Sa=Ca.toString;function wa(e){if(e!=null){try{return Sa.call(e)}catch{}try{return e+""}catch{}}return""}var Ra=wa,$a=ya,Ta=ka,Na=Ct,Da=Ra,Pa=/[\\^$.*+?()[\]{}|]/g,Ia=/^\[object .+?Constructor\]$/,Ka=Function.prototype,Fa=Object.prototype,Oa=Ka.toString,Ba=Fa.hasOwnProperty,Aa=RegExp("^"+Oa.call(Ba).replace(Pa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ea(e){if(!Na(e)||Ta(e))return!1;var t=$a(e)?Aa:Ia;return t.test(Da(e))}var za=Ea;function La(e,t){return e==null?void 0:e[t]}var ja=La,Ma=za,Ua=ja;function Ha(e,t){var n=Ua(e,t);return Ma(n)?n:void 0}var St=Ha,Va=St,Ga=Va(Object,"create"),et=Ga,Wt=et;function qa(){this.__data__=Wt?Wt(null):{},this.size=0}var Ya=qa;function Wa(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ja=Wa,Xa=et,Za="__lodash_hash_undefined__",Qa=Object.prototype,el=Qa.hasOwnProperty;function tl(e){var t=this.__data__;if(Xa){var n=t[e];return n===Za?void 0:n}return el.call(t,e)?t[e]:void 0}var nl=tl,ol=et,rl=Object.prototype,al=rl.hasOwnProperty;function ll(e){var t=this.__data__;return ol?t[e]!==void 0:al.call(t,e)}var il=ll,sl=et,dl="__lodash_hash_undefined__";function cl(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sl&&t===void 0?dl:t,this}var ul=cl,fl=Ya,hl=Ja,gl=nl,vl=il,bl=ul;function De(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}De.prototype.clear=fl;De.prototype.delete=hl;De.prototype.get=gl;De.prototype.has=vl;De.prototype.set=bl;var yl=De;function pl(){this.__data__=[],this.size=0}var ml=pl;function _l(e,t){return e===t||e!==e&&t!==t}var Tn=_l,xl=Tn;function kl(e,t){for(var n=e.length;n--;)if(xl(e[n][0],t))return n;return-1}var tt=kl,Cl=tt,Sl=Array.prototype,wl=Sl.splice;function Rl(e){var t=this.__data__,n=Cl(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():wl.call(t,n,1),--this.size,!0}var $l=Rl,Tl=tt;function Nl(e){var t=this.__data__,n=Tl(t,e);return n<0?void 0:t[n][1]}var Dl=Nl,Pl=tt;function Il(e){return Pl(this.__data__,e)>-1}var Kl=Il,Fl=tt;function Ol(e,t){var n=this.__data__,o=Fl(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var Bl=Ol,Al=ml,El=$l,zl=Dl,Ll=Kl,jl=Bl;function Pe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Pe.prototype.clear=Al;Pe.prototype.delete=El;Pe.prototype.get=zl;Pe.prototype.has=Ll;Pe.prototype.set=jl;var Ml=Pe,Ul=St,Hl=_t,Vl=Ul(Hl,"Map"),Gl=Vl,Jt=yl,ql=Ml,Yl=Gl;function Wl(){this.size=0,this.__data__={hash:new Jt,map:new(Yl||ql),string:new Jt}}var Jl=Wl;function Xl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Zl=Xl,Ql=Zl;function ei(e,t){var n=e.__data__;return Ql(t)?n[typeof t=="string"?"string":"hash"]:n.map}var nt=ei,ti=nt;function ni(e){var t=ti(this,e).delete(e);return this.size-=t?1:0,t}var oi=ni,ri=nt;function ai(e){return ri(this,e).get(e)}var li=ai,ii=nt;function si(e){return ii(this,e).has(e)}var di=si,ci=nt;function ui(e,t){var n=ci(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var fi=ui,hi=Jl,gi=oi,vi=li,bi=di,yi=fi;function Ie(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Ie.prototype.clear=hi;Ie.prototype.delete=gi;Ie.prototype.get=vi;Ie.prototype.has=bi;Ie.prototype.set=yi;var pi=Ie,Nn=pi,mi="Expected a function";function wt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mi);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],c=n.cache;if(c.has(i))return c.get(i);var s=e.apply(this,o);return n.cache=c.set(i,s)||c,s};return n.cache=new(wt.Cache||Nn),n}wt.Cache=Nn;var _i=wt,xi=_i,ki=500;function Ci(e){var t=xi(e,function(o){return n.size===ki&&n.clear(),o}),n=t.cache;return t}var Si=Ci,wi=Si,Ri=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$i=/\\(\\)?/g,Ti=wi(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ri,function(n,o,i,c){t.push(i?c.replace($i,"$1"):o||n)}),t}),Ni=Ti;function Di(e,t){for(var n=-1,o=e==null?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}var Pi=Di,Xt=xt,Ii=Pi,Ki=mt,Fi=kt,Oi=1/0,Zt=Xt?Xt.prototype:void 0,Qt=Zt?Zt.toString:void 0;function Dn(e){if(typeof e=="string")return e;if(Ki(e))return Ii(e,Dn)+"";if(Fi(e))return Qt?Qt.call(e):"";var t=e+"";return t=="0"&&1/e==-Oi?"-0":t}var Bi=Dn,Ai=Bi;function Ei(e){return e==null?"":Ai(e)}var zi=Ei,Li=mt,ji=sa,Mi=Ni,Ui=zi;function Hi(e,t){return Li(e)?e:ji(e,t)?[e]:Mi(Ui(e))}var Pn=Hi,Vi=kt,Gi=1/0;function qi(e){if(typeof e=="string"||Vi(e))return e;var t=e+"";return t=="0"&&1/e==-Gi?"-0":t}var In=qi,Yi=Pn,Wi=In;function Ji(e,t){t=Yi(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[Wi(t[n++])];return n&&n==o?e:void 0}var Xi=Ji,Zi=Xi;function Qi(e,t,n){var o=e==null?void 0:Zi(e,t);return o===void 0?n:o}var es=Qi;const ts=es;var ns=St,os=function(){try{var e=ns(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rs=os,en=rs;function as(e,t,n){t=="__proto__"&&en?en(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ls=as,is=ls,ss=Tn,ds=Object.prototype,cs=ds.hasOwnProperty;function us(e,t,n){var o=e[t];(!(cs.call(e,t)&&ss(o,n))||n===void 0&&!(t in e))&&is(e,t,n)}var fs=us,hs=9007199254740991,gs=/^(?:0|[1-9]\d*)$/;function vs(e,t){var n=typeof e;return t=t==null?hs:t,!!t&&(n=="number"||n!="symbol"&&gs.test(e))&&e>-1&&e%1==0&&e<t}var bs=vs,ys=fs,ps=Pn,ms=bs,tn=Ct,_s=In;function xs(e,t,n,o){if(!tn(e))return e;t=ps(t,e);for(var i=-1,c=t.length,s=c-1,u=e;u!=null&&++i<c;){var d=_s(t[i]),h=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=s){var g=u[d];h=o?o(g,d,u):void 0,h===void 0&&(h=tn(g)?g:ms(t[i+1])?[]:{})}ys(u,d,h),u=u[d]}return e}var ks=xs,Cs=ks;function Ss(e,t,n){return e==null?e:Cs(e,t,n)}var ws=Ss;const Rs=X({name:"BatchTranslateItem",props:{dirItem:{type:Object,required:!0},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""}},setup(e,{emit:t}){const{dirItem:n,filePathArr:o,translatePath:i}=sn(e),c=()=>{let a=null;const f=(v,R,S=0)=>{const T=R[S];if(!!v)for(let D=0;D<v.length;D++){const w=v[D];if(w.label===T&&S===R.length-1)throw a=w,new Error("item found");w.children&&f(w.children,R,S+1)}};try{f(n.value.children,o.value)}catch{}return a},s=E(()=>c()),u=dn(null),d=P(null),h=P(!1),g=P(!1),C=()=>{const a=ts(u.value,i.value,null);return Array.isArray(a)?(g.value=!0,JSON.stringify(a,null,2)):(g.value=!1,a)},p=(a=d.value)=>{g.value&&a&&(a=JSON.parse(a)),ws(u.value,i.value,a)};ye(s,async a=>{if(!a){u.value=null,d.value=null,g.value=!1,be(()=>{h.value=!1});return}const f=await a.entry.getFile(),v=await cn(f);u.value=JSON.parse(v),d.value=C(),be(()=>{h.value=!1})},{immediate:!0}),ye(d,()=>{h.value=!0}),ye(i,a=>{d.value=C(),be(()=>{h.value=!1})});const y=async()=>{try{if(!s.value)return;const a=s.value.entry;if(!a)return;const f=await a.getFile(),v=await a.createWritable(),R=JSON.stringify(u.value,null,2);await v.write(R),await v.close(),window.$message.success("Saved!")}catch(a){console.error(a),window.$message.error("Save Failed!"+a.message)}};return{currentItem:s,translateObj:u,translateText:d,isChanged:h,async saveChange(){p(),await y(),be(()=>{h.value=!1})},cancelChange(){d.value=C(),be(()=>{h.value=!1})},createField(a){p(a),d.value=a,g.value=Array.isArray(a)},isFieldArray:g}}});const $s={style:{color:"darkseagreen"},class:"font-code"},Ts={key:0,style:{color:"red","margin-bottom":"10px"}},Ns=fe("Save"),Ds=fe("Cancel"),Ps=fe("Create text"),Is=fe("Create Array"),Ks={key:2,style:{color:"darkgoldenrod"}};function Fs(e,t,n,o,i,c){const s=fn,u=hn,d=gn,h=vn;return j(),ne(h,{size:"small",class:"batch-translate-item",title:e.dirItem.label+"/"+e.filePathArr.join("/")},{"header-extra":z(()=>[Xe("span",$s,Do(e.translatePath),1)]),default:z(()=>[e.currentItem?e.translatePath?(j(),se(Ne,{key:1},[e.translateText!==null?(j(),ne(d,{key:0,align:"center"},{default:z(()=>[G(s,{type:"textarea",size:"small",value:e.translateText,"onUpdate:value":t[0]||(t[0]=g=>e.translateText=g),placeholder:e.isFieldArray?"Input array":"Input text",rows:e.isFieldArray?8:1,style:{width:"450px"},class:un({"font-code":e.isFieldArray})},null,8,["value","placeholder","rows","class"]),e.isChanged?(j(),ne(u,{key:0,size:"small",type:"primary",onClick:e.saveChange},{default:z(()=>[Ns]),_:1},8,["onClick"])):Ce("",!0),e.isChanged?(j(),ne(u,{key:1,size:"small",onClick:e.cancelChange},{default:z(()=>[Ds]),_:1},8,["onClick"])):Ce("",!0)]),_:1})):(j(),ne(d,{key:1},{default:z(()=>[G(u,{size:"small",onClick:t[1]||(t[1]=g=>e.createField("")),type:"primary"},{default:z(()=>[Ps]),_:1}),G(u,{size:"small",onClick:t[2]||(t[2]=g=>e.createField([]))},{default:z(()=>[Is]),_:1})]),_:1}))],64)):(j(),se("div",Ks,"Please select a translation field on the left")):(j(),se("div",Ts," File does not exist, please create it on your local file system "))]),_:1},8,["title"])}const Kn=pt(Rs,[["render",Fs],["__scopeId","data-v-0fdbe04b"]]),Os=X({name:"BatchTranslate",components:{BatchTranslateItem:Kn},props:{dirTree:{type:Array,default(){return[]}},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""}},setup(e,{emit:t}){return sn(e),{}}});const Bs={class:"batch-translate"};function As(e,t,n,o,i,c){const s=Kn;return j(),se("div",Bs,[(j(!0),se(Ne,null,bt(e.dirTree.filter(u=>u.kind==="directory"),u=>(j(),ne(s,{key:u.key,"dir-item":u,"file-path-arr":e.filePathArr,"translate-path":e.translatePath},null,8,["dir-item","file-path-arr","translate-path"]))),128))])}const Fn=pt(Os,[["render",As],["__scopeId","data-v-9f78e427"]]);let vt=0;const Es=X({name:"VueI18nDirTool",components:{BatchTranslate:Fn,DropZone:bn},setup(){const e=P([]),t=async(a,f=0,v=[],R=[])=>{vt++;let S=0;for await(const T of a.values())if(S++,T.kind==="directory"){let D=[];v.push({key:`${vt}-D-${f}-${S}`,kind:T.kind,label:T.name,entry:T,parentDirs:R,children:D}),await t(T,f+1,D,[...R,T.name])}else/\.json$/gi.test(T.name)&&v.push({key:`${vt}-F-${f}-${S}`,kind:T.kind,label:T.name,entry:T,parentDirs:R,children:null});return v},n=dn(),o=async()=>{n.value=await window.showDirectoryPicker(),e.value=await t(n.value)},i=async()=>{e.value=await t(n.value)},c=P(null),s=P(null),u=P([]),d=P(""),h=async()=>{try{const a=c.value;if(!a)return;const f=await a.getFile(),v=await a.createWritable();C.value!=="text"&&(s.value=JSON.stringify(Ao(p.value),null,2)),await v.write(s.value),await v.close(),await i(),window.$message.success("Saved!")}catch(a){console.error(a),window.$message.error("Save Failed!"+a.message)}},g=["text","gui","batch"],C=P("batch"),p=P([Oo()]),y=()=>{if(C.value!=="text"){if(!s.value){p.value=[];return}const a=JSON.parse(s.value);p.value=Eo.parseWithRoot(a)}};return ye(C,a=>{y()}),{iconTranslate:Bo,handlePickDir:o,dirTree:e,dirHandle:n,reloadPickedDir:i,nodeProps:({option:a})=>({async onClick(){if(a.kind==="file"){const f=a.entry;c.value=f;const v=await cn(await f.getFile());s.value=v,u.value=[...a.parentDirs,a.label],d.value="",y()}}}),currentEditText:s,currentEditEntry:c,handleSaveFile:h,editMode:C,editModeList:g,translateTreeRoot:p,currentFilePathArr:u,translatePath:d,handleKeyClick(a){console.log(a),d.value=a},...Lo({cb:async a=>{for(const f of a.dataTransfer.items)if(f.kind==="file"){const v=await f.getAsFileSystemHandle();v.kind==="directory"&&(n.value=v,e.value=await t(n.value))}}})}}});const zs=fe(" Vue i18n Dir Tool "),Ls=fe("Save Changes"),js=fe(" Edit Mode:"),Ms=fe(" Pick i18n Directory "),Us=fe(" Refresh "),Hs={class:"_container"},Vs={class:"main-edit-wrap"};function Gs(e,t,n,o,i,c){const s=bn,u=jo,d=hn,h=Qo,g=Zo,C=gn,p=Mo,y=vn,a=Nr,f=gr,v=ur,R=fn,S=zo,T=Fn,D=lr,w=ar;return j(),se("div",{class:"vue-i18n-copy-tool",onDragover:t[3]||(t[3]=ht((..._)=>e.fileDragover&&e.fileDragover(..._),["prevent","stop"])),onDragleave:t[4]||(t[4]=ht(_=>e.showDropzone=!1,["prevent","stop"])),onDrop:t[5]||(t[5]=ht((..._)=>e.fileDrop&&e.fileDrop(..._),["prevent","stop"]))},[G(Ko,{name:"fade"},{default:z(()=>[Po(G(s,{text:"Drop locale folder here"},null,512),[[Io,e.showDropzone]])]),_:1}),G(y,{size:"small"},{default:z(()=>[G(p,{subtitle:"",onBack:t[1]||(t[1]=_=>e.$router.push({name:"HomeView"}))},{title:z(()=>[zs]),avatar:z(()=>[G(u,{src:e.iconTranslate,style:{background:"none"}},null,8,["src"])]),extra:z(()=>[G(C,{align:"center"},{default:z(()=>[e.currentEditEntry?(j(),ne(d,{key:0,type:"primary",onClick:e.handleSaveFile},{default:z(()=>[Ls]),_:1},8,["onClick"])):Ce("",!0),js,G(g,{size:"small",value:e.editMode,"onUpdate:value":t[0]||(t[0]=_=>e.editMode=_)},{default:z(()=>[(j(!0),se(Ne,null,bt(e.editModeList,_=>(j(),ne(h,{key:_,value:_,label:_.toUpperCase()},null,8,["value","label"]))),128))]),_:1},8,["value"]),G(d,{type:"primary",size:"small",onClick:e.handlePickDir},{default:z(()=>[Ms]),_:1},8,["onClick"]),e.dirHandle?(j(),ne(d,{key:1,size:"small",onClick:e.reloadPickedDir},{default:z(()=>[Us]),_:1},8,["onClick"])):Ce("",!0)]),_:1})]),_:1})]),_:1}),Xe("div",Hs,[G(w,{style:{height:"100%"},"has-sider":""},{default:z(()=>[G(v,{"collapse-mode":"width","collapsed-width":0,width:300,"show-trigger":"arrow-circle","content-style":"padding: 10px;",bordered:""},{default:z(()=>[G(f,{style:{height:"100%"}},{default:z(()=>[G(a,{"block-line":"",data:e.dirTree,"node-props":e.nodeProps,"default-expand-all":"","expand-on-click":"",selectable:""},null,8,["data","node-props"])]),_:1})]),_:1}),G(D,null,{default:z(()=>[Xe("div",Vs,[e.currentEditEntry?(j(),se(Ne,{key:0},[Ce("",!0),Xe("div",{class:un(["edit-content-wrap",{"batch-mode":e.editMode==="batch"}])},[e.editMode==="text"?(j(),ne(R,{key:0,type:"textarea",value:e.currentEditText,"onUpdate:value":t[2]||(t[2]=_=>e.currentEditText=_),class:"font-code",style:{height:"100%"},placeholder:"Edit Text"},null,8,["value"])):(j(),se(Ne,{key:1},[G(f,{style:Fo([{height:"100%"},{width:e.editMode==="batch"?"500px":"100%"}])},{default:z(()=>[(j(!0),se(Ne,null,bt(e.translateTreeRoot,(_,I)=>(j(),ne(S,{key:I,item:_,"is-lite":e.editMode==="batch",onOnKeyClick:e.handleKeyClick},null,8,["item","is-lite","onOnKeyClick"]))),128))]),_:1},8,["style"]),e.editMode==="batch"?(j(),ne(f,{key:0,style:{height:"100%"}},{default:z(()=>[G(T,{"dir-tree":e.dirTree,"file-path-arr":e.currentFilePathArr.slice(1),"translate-path":e.translatePath},null,8,["dir-tree","file-path-arr","translate-path"])]),_:1})):Ce("",!0)],64))],2)],64)):Ce("",!0)])]),_:1})]),_:1})])],32)}const Js=pt(Es,[["render",Gs],["__scopeId","data-v-64005115"]]);export{Js as default};

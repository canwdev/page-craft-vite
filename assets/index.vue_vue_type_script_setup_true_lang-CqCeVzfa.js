import{d as e,t as l,c as a,r as t,P as n,_ as o,e as i,o as s,k as d,g as u,f as r,v as p,l as m,h as c,i as v,Y as y,p as h,F as g,m as b,y as f,bK as w,Q as k,V,bC as x,a1 as T,W as _,S as B,c1 as C,c2 as U,aw as I,ac as E,bY as N,bX as S,c3 as M,c4 as L,c5 as D,T as O,j as W,U as A,bG as F,c6 as R,aH as z,c7 as j}from"./index-BJklM7uy.js";/* empty css                        *//* empty css                  */import{S as H,s as K}from"./enum-wriI_ogO.js";import{R as P}from"./RectSwitch-Dpia0p_L.js";const Y=e({name:"AdvancedNumberInput",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},isDebug:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:Number,max:Number,step:{type:Number,default:1},format:Function,parse:Function,marks:{type:Object}},setup(e,{emit:o}){const{marks:i,step:s,min:d,max:u,modelValue:r,readonly:p,disabled:m}=l(e),c=a({get:()=>e.modelValue,set:e=>o("update:modelValue",e)}),v=a((()=>{if(!i.value)return null;const e=[];return Object.keys(i.value).forEach((l=>{e.push(Number(l))})),e.sort(((e,l)=>e-l))})),y=e=>{const l=v.value;if(l){let a=l.findIndex((e=>e===c.value));if(a<0){a=function(e,l){let a=-1,t=l[0],n=Math.abs(e-l[0]);for(let o=1;o<l.length;o++){const i=Math.abs(e-l[o]);i<n&&(a=o,t=l[o],n=i)}return{index:a,value:t}}(c.value,l).index,a<0&&(console.error("number not found!",{idx:a,numbers:l,mValue:c.value,isNext:e}),a=0)}if(e){if(void 0!==l[a+1])return l[a+1]}else if(void 0!==l[a-1])return l[a-1]}return null},h=a((()=>{if(v.value)return y(!0);const e=u.value,l=(a=c.value,t=s.value,a+t);var a,t;return void 0!==e?l<=e?l:null:l})),g=a((()=>null!==h.value)),b=a((()=>{if(v.value)return y(!1);const e=d.value,l=(a=c.value,t=s.value,a-t);var a,t;return void 0!==e?l>=e?l:null:l})),f=a((()=>null!==b.value)),w=t(""),k=l=>e.format?e.format(l):String(l);n(r,(e=>{w.value=k(e)}),{immediate:!0});const V=()=>{if(p.value||m.value)return;let l;l=e.parse?e.parse(String(w.value))||0:Number(w.value)||0,void 0!==e.max&&l>e.max&&(l=e.max),void 0!==e.min&&l<e.min&&(l=e.min),e.step&&(l=Math.round(l/e.step)*e.step),c.value=l,w.value=k(l)},x=t(!1);return{mValue:c,handleUp:()=>{g.value&&!e.disabled&&(c.value=h.value)},handleDown:()=>{f.value&&!e.disabled&&(c.value=b.value)},isAllowUp:g,isAllowDown:f,nextUpValue:h,nextDownValue:b,marksNumberArray:v,inputValue:w,handleBlur:()=>{V(),x.value=!1},handleEnter:V,handleFocus:()=>{x.value=!0},isFocused:x}}}),G=["readonly","disabled"],J={key:0,class:"debug-val"},$={class:"toggle-wrap"},q=["disabled"],Q=["disabled"];const X=o(Y,[["render",function(e,l,a,t,n,o){return s(),i("div",{class:v(["advanced-number-input",{disabled:e.disabled,focused:e.isFocused}])},[d(r("input",{"onUpdate:modelValue":l[0]||(l[0]=l=>e.inputValue=l),type:"text",class:"text-input",readonly:e.readonly,onFocus:l[1]||(l[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:l[2]||(l[2]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onKeyup:[l[3]||(l[3]=m(((...l)=>e.handleEnter&&e.handleEnter(...l)),["enter"])),l[4]||(l[4]=m(((...l)=>e.handleUp&&e.handleUp(...l)),["up"])),l[5]||(l[5]=m(((...l)=>e.handleDown&&e.handleDown(...l)),["down"]))],disabled:e.disabled},null,40,G),[[p,e.inputValue]]),e.isDebug?(s(),i("div",J,c(e.modelValue),1)):u("",!0),r("div",$,[r("button",{onClick:l[6]||(l[6]=(...l)=>e.handleUp&&e.handleUp(...l)),class:"btn-no-style btn-up",disabled:!e.isAllowUp||e.disabled},l[8]||(l[8]=[r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[r("g",{fill:"none"},[r("path",{d:"M2.146 7.354a.5.5 0 0 0 .708 0L6 4.207l3.146 3.147a.5.5 0 1 0 .708-.708l-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 0 .708z",fill:"currentColor"})])],-1)]),8,q),r("button",{onClick:l[7]||(l[7]=(...l)=>e.handleDown&&e.handleDown(...l)),class:"btn-no-style btn-down",disabled:!e.isAllowDown||e.disabled},l[9]||(l[9]=[r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[r("g",{fill:"none"},[r("path",{d:"M2.146 4.646a.5.5 0 0 1 .708 0L6 7.793l3.146-3.147a.5.5 0 1 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708z",fill:"currentColor"})])],-1)]),8,Q)])],2)}],["__scopeId","data-v-3a805b02"]]),Z={class:"dynamic-tags"},ee=o(e({__name:"DynamicTags",props:{modelValue:{default:[]}},emits:[],setup(e,{emit:a}){const n=e,o=a,{modelValue:d}=l(n),u=y(n,"modelValue",o),r=t(""),p=t(!1),v=t(),C=()=>{p.value=!0,B((()=>{v.value.input.focus()}))},U=()=>{r.value&&u.value.push(r.value),p.value=!1,r.value=""};return(e,l)=>{const a=w,t=x,n=_;return s(),i("div",Z,[(s(!0),i(g,null,b(f(u),(e=>(s(),h(a,{key:e,closable:"","disable-transitions":!1,onClose:l=>(e=>{u.value.splice(u.value.indexOf(e),1)})(e)},{default:k((()=>[V(c(e),1)])),_:2},1032,["onClose"])))),128)),f(p)?(s(),h(t,{key:0,ref_key:"InputRef",ref:v,modelValue:f(r),"onUpdate:modelValue":l[0]||(l[0]=e=>T(r)?r.value=e:null),class:"w-20",size:"small",onKeyup:m(U,["enter"]),onBlur:U},null,8,["modelValue"])):(s(),h(n,{key:1,class:"button-new-tag",size:"small",onClick:C},{default:k((()=>l[1]||(l[1]=[V(" + New Tag ")]))),_:1}))])}}}),[["__scopeId","data-v-2ad523a1"]]),le=["disabled"],ae=e({__name:"ItemAction",props:{item:{}},emits:["updateValue"],setup(e,{emit:t}){const n=e,{item:o}=l(n),d=t,r=C("sharedStore"),p=a({get(){const e=o.value.store||r.value;return e?e[o.value.key]:o.value.value},set(e){d("updateValue",{item:o.value,value:e});const l=o.value.store||r.value;l?l[o.value.key]=e:o.value.value=e}});return(e,l)=>{const a=I,t=x,n=S,d=N,r=M,m=L,v=U;return s(),h(v,{class:"option-item-action",size:"small",align:"center"},{default:k((()=>[f(o).type===f(H).SWITCH?(s(),h(a,E({key:0,modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=e=>p.value=e)},f(o).props),null,16,["modelValue"])):f(o).type===f(H).MULTIPLE_SWITCH?(s(),h(P,E({key:1,options:f(o).options,modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e)},f(o).props),null,16,["options","modelValue"])):f(o).type===f(H).INPUT?(s(),h(t,E({key:2,class:"option-select option-input",modelValue:p.value,"onUpdate:modelValue":l[2]||(l[2]=e=>p.value=e),clearable:""},f(o).props),null,16,["modelValue"])):f(o).type===f(H).SELECT?(s(),h(d,E({key:3,modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),placeholder:f(o).placeholder,class:"option-select",teleported:!1},f(o).props),{default:k((()=>[(s(!0),i(g,null,b(f(o).options,(e=>(s(),h(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},16,["modelValue","placeholder"])):f(o).type===f(H).DYNAMIC_TAGS?(s(),h(ee,E({key:4,class:"dynamic-tags",modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=e=>p.value=e)},f(o).props),null,16,["modelValue"])):f(o).type===f(H).COLOR_PICKER?(s(),h(r,E({key:5,modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=e=>p.value=e)},f(o).props,{predefine:f(K)}),null,16,["modelValue","predefine"])):f(o).type===f(H).INPUT_NUMBER?(s(),h(X,E({key:6,modelValue:p.value,"onUpdate:modelValue":l[6]||(l[6]=e=>p.value=e),disabled:f(o).disabled},f(o).props),null,16,["modelValue","disabled"])):f(o).type===f(H).DATE_PICKER?(s(),h(m,E({key:7,modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=e=>p.value=e),disabled:f(o).disabled,class:"option-select"},f(o).props),null,16,["modelValue","disabled"])):f(o).type===f(H).BUTTON?(s(),i("button",E({key:8,disabled:f(o).disabled},f(o).props,{class:"vp-button"}),c(f(o).value),17,le)):u("",!0),f(o).actionRender?(s(),h(D,{key:9,"render-fn":f(o).actionRender},null,8,["render-fn"])):u("",!0)])),_:1})}}}),te="0px",ne=e({__name:"TransitionBodyCollapse",props:{duration:{default:250},easingEnter:{default:"ease-in-out"},easingLeave:{default:"ease-in-out"},opacityClosed:{default:0},opacityOpened:{default:1}},setup(e){const l=e;function a(e){return{height:e.style.height,width:e.style.width,position:e.style.position,visibility:e.style.visibility,overflow:e.style.overflow,paddingTop:e.style.paddingTop,paddingBottom:e.style.paddingBottom,borderTopWidth:e.style.borderTopWidth,borderBottomWidth:e.style.borderBottomWidth,marginTop:e.style.marginTop,marginBottom:e.style.marginBottom}}function t(e,l,a,t,n){const o=e.animate(t,n);e.style.height=l.height,o.onfinish=()=>{e.style.overflow=l.overflow,a()}}function n(e,a){return[{height:te,opacity:l.opacityClosed,paddingTop:te,paddingBottom:te,borderTopWidth:te,borderBottomWidth:te,marginTop:te,marginBottom:te},{height:e,opacity:l.opacityOpened,paddingTop:a.paddingTop,paddingBottom:a.paddingBottom,borderTopWidth:a.borderTopWidth,borderBottomWidth:a.borderBottomWidth,marginTop:a.marginTop,marginBottom:a.marginBottom}]}function o(e,o){const i=e,s=a(i),d=function(e,l){const{width:a}=getComputedStyle(e);e.style.width=a,e.style.position="absolute",e.style.visibility="hidden",e.style.height="";let{height:t}=getComputedStyle(e);return e.style.width=l.width,e.style.position=l.position,e.style.visibility=l.visibility,e.style.height=te,e.style.overflow="hidden",l.height&&l.height!=te?l.height:t}(i,s);t(i,s,o,n(d,s),{duration:l.duration,easing:l.easingEnter})}function i(e,o){const i=e,s=a(i),{height:d}=getComputedStyle(i);i.style.height=d,i.style.overflow="hidden";t(i,s,o,n(d,s).reverse(),{duration:l.duration,easing:l.easingLeave})}return(e,l)=>(s(),h(O,{css:!1,onEnter:o,onLeave:i},{default:k((()=>[W(e.$slots,"default")])),_:3}))}}),oe=["data-key"],ie={class:"panel-header vp-bg"},se=["title"],de={class:"item-label"},ue={class:"p-right"},re={style:{width:"20px",height:"20px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},pe=["data-key","onClick"],me={class:"o-left"},ce=["title"],ve=["title"],ye=["src"],he=["title"],ge={class:"item-title-wrap"},be={class:"item-label-wrap"},fe={class:"item-label"},we={style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ke=["innerHTML"],Ve=["innerHTML"],xe={class:"o-right"},Te=e({__name:"OptionItem",props:{item:{},foldedKeyMap:{default:{}}},emits:["onToggleExpand","updateValue"],setup(e,{emit:t}){const n=e,{item:o,foldedKeyMap:p}=l(n),m=t,y=a((()=>!p.value[o.value.key]));return(e,l)=>{const a=R;return s(),i("div",{class:v(["c-panel-item",[f(o).cls]]),"data-key":f(o).key,key:f(o).key},[r("div",ie,[r("div",{class:"p-left",title:f(o).label},[r("div",de,c(f(o).label),1)],8,se),r("div",ue,[!f(o).hideExpandIcon&&f(o).children&&f(o).children.length?(s(),i("div",{key:0,class:v(["btn-no-style btn-toggle-expand",{expanded:f(y)}]),onClick:l[0]||(l[0]=l=>e.$emit("onToggleExpand",f(o)))},[(s(),i("svg",re,l[3]||(l[3]=[r("g",{fill:"none"},[r("path",{d:"M15.794 7.733a.75.75 0 0 1-.026 1.06l-5.25 5.001a.75.75 0 0 1-1.035 0l-5.25-5a.75.75 0 0 1 1.034-1.087l4.734 4.509l4.733-4.51a.75.75 0 0 1 1.06.027z",fill:"currentColor"})],-1)])))],2)):u("",!0),A(ae,{item:f(o),onUpdateValue:l[1]||(l[1]=e=>m("updateValue",e))},null,8,["item"])])]),A(ne,null,{default:k((()=>[f(o).children&&f(o).children.length?d((s(),h(F,{key:0,tag:"div",name:"fade-scale",class:"panel-body"},{default:k((()=>[(s(!0),i(g,null,b(f(o).children,((e,t)=>(s(),i("div",E({key:e.key||t,class:["sub-item",[{clickable:e.clickFn},e.cls]],"data-key":e.key,onClick:l=>{return a=l,void("function"==typeof(t=e.clickFn)&&t(a,o.value));var a,t},ref_for:!0},e.itemProps),[e.render?(s(),h(D,{key:0,"render-fn":e.render},null,8,["render-fn"])):(s(),i(g,{key:1},[r("div",me,[e.iconRender?(s(),i("div",{key:0,class:"item-icon",title:e.label},[A(D,{"render-fn":e.iconRender},null,8,["render-fn"])],8,ce)):e.icon?(s(),i("div",{key:1,class:"item-icon",title:e.label},[r("img",{src:e.icon,alt:"icon"},null,8,ye)],8,ve)):e.iconClass?(s(),i("div",{key:2,class:"item-icon",title:e.label},[r("i",{class:v(e.iconClass)},null,2)],8,he)):u("",!0),r("div",ge,[r("div",be,[r("span",fe,c(e.label),1),e.tips?(s(),h(a,{key:0,effect:"light"},{content:k((()=>[r("span",{innerHTML:e.tips},null,8,ke)])),default:k((()=>[(s(),i("svg",we,l[4]||(l[4]=[r("g",{fill:"none"},[r("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 1a7 7 0 1 0 0 14a7 7 0 0 0 0-14zm0 10.5a.75.75 0 1 1 0 1.5a.75.75 0 0 1 0-1.5zm0-8a2.5 2.5 0 0 1 1.651 4.377l-.154.125l-.219.163l-.087.072a1.968 1.968 0 0 0-.156.149c-.339.36-.535.856-.535 1.614a.5.5 0 0 1-1 0c0-1.012.293-1.752.805-2.298a3.11 3.11 0 0 1 .356-.323l.247-.185l.118-.1A1.5 1.5 0 1 0 8.5 8a.5.5 0 0 1-1 .001A2.5 2.5 0 0 1 10 5.5z",fill:"currentColor"})],-1)])))])),_:2},1024)):u("",!0)]),e.subtitle?(s(),i("div",{key:0,class:"item-subtitle",innerHTML:e.subtitle},null,8,Ve)):u("",!0)])]),r("div",xe,[A(ae,{item:e,onUpdateValue:l[2]||(l[2]=e=>m("updateValue",e))},null,8,["item"])])],64))],16,pe)))),128))])),_:1},512)),[[z,f(y)]]):u("",!0)])),_:1})],10,oe)}}}),_e={class:"option-ui"},Be=e({name:"OptionUI",props:{optionList:{},store:{},expandId:{default:""}},emits:["onToggleExpand","updateValue"],setup(e,{emit:a}){const n="option_ui_folded_key_map",o=e,{expandId:u,store:r}=l(o),p=a;j("sharedStore",r);const m=t(JSON.parse(localStorage.getItem(n+u.value)||"null")||{}),c=e=>{m.value[e.key]?delete m.value[e.key]:m.value[e.key]=!0,localStorage.setItem(n+u.value,JSON.stringify(m.value))};return(e,l)=>(s(),i("div",_e,[(s(!0),i(g,null,b(e.optionList,(e=>d((s(),h(Te,{item:e,key:e.key,"folded-key-map":f(m),onOnToggleExpand:c,onUpdateValue:l[0]||(l[0]=e=>p("updateValue",e))},null,8,["item","folded-key-map"])),[[z,!e.hidden]]))),128))]))}});export{Be as _};

import{Y as ae,ar as se,d as g,W as oe,a2 as P,aK as ie,a4 as re,a5 as T,a7 as ue,L as E,aL as de,aq as pe,b as d,e as C,k as y,aG as b,aM as me,r as A,w as N,a as O,n as m,i as s,G as v,aI as L,aN as ce,c as V,f as i,l as f,F as S,t as ve,aH as fe,x as D,z as x,H as w,I as J,aO as he,aP as _e,s as ye,m as H,aQ as ge,aR as we,aS as Ce,B as ke,J as $e,K as Re}from"./index-7970ec44.js";const Ae=ae("collapse-transition",{width:"100%"},[se()]),Te=Object.assign(Object.assign({},P.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),ze=g({name:"CollapseTransition",props:Te,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:l,mergedRtlRef:u}=oe(e),r=P("CollapseTransition","-collapse-transition",Ae,ie,e,n),p=re("CollapseTransition",u,n),t=T(()=>e.collapsed!==void 0?e.collapsed:e.show),o=T(()=>{const{self:{bezier:c}}=r.value;return{"--n-bezier":c}}),a=l?ue("collapse-transition",void 0,o,e):void 0;return{rtlEnabled:p,mergedShow:t,mergedClsPrefix:n,cssVars:l?void 0:o,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){return E(pe,{appear:this.appear},{default:()=>{var e;if(this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),E("div",de({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),Se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Ie=y("g",{fill:"none"},[y("path",{d:"M10 2.5a.5.5 0 0 0-1 0V9H2.5a.5.5 0 0 0 0 1H9v6.5a.5.5 0 0 0 1 0V10h6.5a.5.5 0 0 0 0-1H10V2.5z",fill:"currentColor"})],-1),be=[Ie],Oe=g({name:"Add20Regular",render:function(n,l){return d(),C("svg",Se,be)}}),Le={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Be=y("g",{fill:"none"},[y("path",{d:"M3 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5zm2-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5zm5 2a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 10 6z",fill:"currentColor"})],-1),Ee=[Be],He=g({name:"AddSquare20Regular",render:function(n,l){return d(),C("svg",Le,Ee)}}),Pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Ne=y("g",{fill:"none"},[y("path",{d:"M11.5 4a1.5 1.5 0 0 0-3 0h-1a2.5 2.5 0 0 1 5 0H17a.5.5 0 0 1 0 1h-.554L15.15 16.23A2 2 0 0 1 13.163 18H6.837a2 2 0 0 1-1.987-1.77L3.553 5H3a.5.5 0 0 1-.492-.41L2.5 4.5A.5.5 0 0 1 3 4h8.5zm3.938 1H4.561l1.282 11.115a1 1 0 0 0 .994.885h6.326a1 1 0 0 0 .993-.885L15.438 5zM8.5 7.5c.245 0 .45.155.492.359L9 7.938v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L8 14.062V7.939c0-.242.224-.438.5-.438zm3 0c.245 0 .45.155.492.359l.008.079v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L11 14.062V7.939c0-.242.224-.438.5-.438z",fill:"currentColor"})],-1),Ve=[Ne],K=g({name:"Delete20Regular",render:function(n,l){return d(),C("svg",Pe,Ve)}}),De={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},xe=y("g",{fill:"none"},[y("path",{d:"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM8 3c.374 0 .875.356 1.313 1.318c.094.208.181.436.26.682H6.427a6.19 6.19 0 0 1 .26-.682C7.125 3.356 7.627 3 8 3zm-2.223.904c-.15.332-.283.7-.393 1.096H4a5.017 5.017 0 0 1 2.038-1.6a5.45 5.45 0 0 0-.261.504zM5.163 6A12.055 12.055 0 0 0 5 8c0 .699.057 1.373.163 2H3.416A4.983 4.983 0 0 1 3 8c0-.711.148-1.388.416-2h1.747zm.221 5c.11.396.242.764.393 1.096c.079.174.166.343.26.504A5.017 5.017 0 0 1 4 11h1.384zm1.043 0h3.146a6.195 6.195 0 0 1-.26.682C8.875 12.644 8.373 13 8 13c-.374 0-.875-.356-1.313-1.318a6.195 6.195 0 0 1-.26-.682zm3.394-1H6.18A10.936 10.936 0 0 1 6 8c0-.714.064-1.39.179-2H9.82c.115.61.179 1.286.179 2s-.064 1.39-.179 2zm.795 1H12a5.018 5.018 0 0 1-2.038 1.6c.095-.161.182-.33.26-.504c.152-.332.284-.7.394-1.096zm1.968-1h-1.747A12.05 12.05 0 0 0 11 8c0-.699-.057-1.372-.163-2h1.747c.268.612.416 1.289.416 2c0 .711-.148 1.388-.416 2zM9.962 3.4A5.018 5.018 0 0 1 12 5h-1.384a7.526 7.526 0 0 0-.393-1.096a5.454 5.454 0 0 0-.26-.504z",fill:"currentColor"})],-1),Je=[xe],Ke=g({name:"Globe16Regular",render:function(n,l){return d(),C("svg",De,Je)}}),Me=g({name:"DialogTextEdit",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Text edit"},placeholder:{type:String,default:"Input text"},text:{type:String,default:""},isTextarea:{type:Boolean,default:!1}},emits:["onSave"],setup(e,{emit:n}){const{text:l}=b(e),u=me(e,n,"visible"),r=A("");return N(l,p=>{r.value=p}),{mVisible:u,editingText:r,handleSave(){n("onSave",r.value)}}}});function je(e,n,l,u,r,p){const t=L,o=ce;return d(),m(o,{style:{width:"700px"},preset:"dialog","negative-text":"Cancel","positive-text":"Done",title:e.title,onPositiveClick:e.handleSave,onNegativeClick:n[1]||(n[1]=a=>e.mVisible=!1),onClose:n[2]||(n[2]=a=>e.mVisible=!1),show:e.mVisible},{default:s(()=>[e.mVisible&&e.editingText?(d(),m(t,{key:0,type:e.isTextarea?"textarea":"text",value:e.editingText,"onUpdate:value":n[0]||(n[0]=a=>e.editingText=a),class:"font-code",rows:e.isTextarea?25:null,placeholder:e.placeholder,autofocus:""},null,8,["type","value","rows","placeholder"])):v("",!0)]),_:1},8,["title","onPositiveClick","show"])}const M=O(Me,[["render",je]]),j=(e={})=>({key:e.key||"",value:e.value||""}),G=(e={})=>({namespace:e.namespace||"",children:e.children||[],translates:e.translates||[],parent:e.parent||null}),U=(e={},n=[],l=null)=>{if(!e)return[];if(!Array.isArray(e)&&typeof e=="object")for(let u in e){const r=e[u],p=[];if(r&&!Array.isArray(r)&&typeof r=="object"){const t=G({namespace:u,translates:p,parent:l});t.children=U(r,[],t),n.push(t)}else l&&l.translates&&l.translates.push(j({key:u,value:r}))}return n},I="__root__",Ge={parseWithRoot:(e={})=>U({[I]:e}),isRoot(e){return e?e.namespace===I:!1}},F=(e,n={})=>{if(typeof e=="object"&&!Array.isArray(e)&&(e=[e]),Ge.isRoot(e[0])){const l=e[0];l.translates.forEach(u=>{n[u.key]=u.value}),e=l.children}return e.forEach(l=>{const u={};l.translates.forEach(r=>{u[r.key]=r.value}),F(l.children,u),n[l.namespace]=u}),n},Ue=e=>e?(e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9\s]+/g,""),e=e.replace(/\s/gi,"_"),e=e.slice(0,20),e=e.replace(/_$|^_/g,""),e):"",Fe=g({name:"TranslateItem",components:{Delete20Regular:K},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null},isLite:{type:Boolean,default:!1}},emits:["onRemove","previewArray","onKeyClick"],setup(e,{emit:n}){const{item:l,treeItem:u}=b(e),r=T(()=>{if(!u.value)return"";const t=[];let o=u.value;for(;o;)t.push(o.namespace),o=o.parent||null;return t.reverse().join(".")}),p=T(()=>{if(!l.value||!l.value.value&&!l.value.key)return"";let t=l.value.key;r.value&&(t=r.value+"."+t);const o=new RegExp(I+".","g");return t=t.replace(o,""),t});return{namespacePrefix:r,nameDisplay:p,handleCopy(t){let o=`$t('${p.value}')`;t==="html"?o=`{{ $t('${p.value}') }}`:t==="v-html"?o=`v-html="$t('${p.value}')"`:t==="js"&&(o=`this.$t('${p.value}')`),V(o),window.$message.success("Text Copied")},handleBlur(){l.value.key||(l.value.key=Ue(l.value.value))},handleInputKeyClick(t){n("onKeyClick",p.value,t)}}}});function qe(e,n,l,u,r,p){const t=L,o=D,a=x,c=w("Delete20Regular"),k=J,z=he;return e.item?(d(),m(z,{key:0,size:"small",class:fe(["translate-item",{isLite:e.isLite}])},{default:s(()=>[i(a,{size:"small",justify:"space-between"},{default:s(()=>[i(a,{size:"small",align:"center"},{default:s(()=>[i(t,{size:"small",class:"font-code translate-item-input",value:e.item.key,"onUpdate:value":n[0]||(n[0]=h=>e.item.key=h),placeholder:"key",onClick:e.handleInputKeyClick},null,8,["value","onClick"]),e.isLite?v("",!0):(d(),C(S,{key:0},[Array.isArray(e.item.value)?(d(),m(o,{key:1,title:e.item.value,size:"small",style:{width:"350px"},onClick:n[2]||(n[2]=h=>e.$emit("previewArray",e.item))},{default:s(()=>[f(" 📝 Array ")]),_:1},8,["title"])):(d(),m(t,{key:0,type:"textarea",rows:"1",size:"small",style:{width:"350px"},value:e.item.value,"onUpdate:value":n[1]||(n[1]=h=>e.item.value=h),placeholder:"value",onBlur:e.handleBlur},null,8,["value","onBlur"]))],64)),!e.isLite&&e.nameDisplay?(d(),m(a,{key:1,size:"small"},{default:s(()=>[i(t,{class:"font-code",size:"small",style:{width:"300px"},value:`$t('${e.nameDisplay}')`,readonly:""},null,8,["value"]),i(o,{size:"small",onClick:e.handleCopy,title:"Copy Original $('')"},{default:s(()=>[f(" $() ")]),_:1},8,["onClick"]),i(o,{size:"small",type:"info",onClick:n[3]||(n[3]=h=>e.handleCopy("html")),title:"Copy HTML template"},{default:s(()=>[f(ve("{{ }}"))]),_:1}),i(o,{size:"small",type:"success",onClick:n[4]||(n[4]=h=>e.handleCopy("v-html")),title:"Copy v-html template"},{default:s(()=>[f(" v-html ")]),_:1}),i(o,{size:"small",type:"warning",onClick:n[5]||(n[5]=h=>e.handleCopy("js")),title:"Copy JavaScript"},{default:s(()=>[f(" this.$t ")]),_:1})]),_:1})):v("",!0),e.isLite?v("",!0):(d(),m(k,{key:2,onPositiveClick:n[6]||(n[6]=h=>e.$emit("onRemove"))},{trigger:s(()=>[i(o,{tertiary:"",style:{"margin-left":"15px"},size:"small",type:"error"},{icon:s(()=>[i(c)]),_:1})]),default:s(()=>[f(" Remove Item? ")]),_:1}))]),_:1}),i(a)]),_:1})]),_:1},8,["class"])):v("",!0)}const q=O(Fe,[["render",qe],["__scopeId","data-v-22d9d6d6"]]),We=g({name:"TranslateTreeItem",components:{Delete20Regular:K,TranslateItem:q,DialogTextEdit:M,AddSquare20Regular:He,Add20Regular:Oe,Copy20Regular:_e,Globe16Regular:Ke},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0},isLite:{type:Boolean,default:!1}},emits:["onRemove","onKeyClick"],setup(e){const{item:n}=b(e),l=()=>{console.log("[handleAddChildren]"),n.value.children.push(G({parent:n.value}))},u=()=>{console.log("[handleAddTranslate]"),n.value.translates.push(j())},r=A(!0),p=A(!1),t=ye(null),o=A(null);return N(p,a=>{a||(t.value=null,o.value=null)}),{handleAddChildren:l,handleAddTranslate:u,handleGetJSON(){const a=F([n.value]);console.log(a),V(JSON.stringify(a,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(a){const c=[...n.value.children];c.splice(a,1),n.value.children=c},handleRemoveItem(a){const c=[...n.value.translates];c.splice(a,1),n.value.translates=c},isExpand:r,isShowArrayEdit:p,currentPreviewItem:t,currentArrayString:o,handlePreviewArray(a){t.value=a,o.value=JSON.stringify(a.value,null,2),p.value=!0},handleSaveArray(a){if(t.value)try{t.value.value=JSON.parse(a||"[]"),p.value=!1}catch(c){console.error(c),window.$message.error(c.message)}}}}});const Ye=e=>($e("data-v-25f5f553"),e=e(),Re(),e),Qe={style:{display:"flex"}},Ze=Ye(()=>y("div",{style:{"border-top":"1px dashed darkseagreen","margin-top":"10px","margin-bottom":"10px"}},null,-1));function Xe(e,n,l,u,r,p){const t=w("Globe16Regular"),o=ge,a=L,c=w("Copy20Regular"),k=D,z=w("Delete20Regular"),h=J,W=we,B=x,Y=q,Q=Ce,Z=w("Add20Regular"),X=w("TranslateTreeItem",!0),ee=w("AddSquare20Regular"),ne=ze,te=M,le=ke;return e.item?(d(),m(le,{key:0,size:"small",class:"tree-item"},{default:s(()=>[y("div",Qe,[i(a,{size:"small",disabled:e.isRoot,class:"font-code",value:e.item.namespace,"onUpdate:value":n[0]||(n[0]=_=>e.item.namespace=_),placeholder:"namespace",style:{flex:"1"}},{prefix:s(()=>[i(o,{color:"darkseagreen",size:"16"},{default:s(()=>[i(t)]),_:1})]),_:1},8,["disabled","value"]),e.isLite?v("",!0):(d(),m(B,{key:0,style:{"margin-left":"10px"},align:"center"},{default:s(()=>[i(k,{size:"small",secondary:"",type:"info",onClick:e.handleGetJSON,title:"Copy JSON"},{icon:s(()=>[i(c)]),_:1},8,["onClick"]),e.isRoot?v("",!0):(d(),m(h,{key:0,onPositiveClick:n[1]||(n[1]=_=>e.$emit("onRemove"))},{trigger:s(()=>[i(k,{secondary:"",type:"error",size:"small"},{icon:s(()=>[i(z)]),_:1})]),default:s(()=>[f(" Remove Group? ")]),_:1})),i(W,{size:"small",value:e.isExpand,"onUpdate:value":n[2]||(n[2]=_=>e.isExpand=_)},{checked:s(()=>[f(" 👀 ")]),unchecked:s(()=>[f(" 🙈 ")]),_:1},8,["value"])]),_:1}))]),i(ne,{show:e.isExpand},{default:s(()=>[e.item.translates&&e.item.translates.length?(d(),m(Q,{key:0,size:"small",style:{"margin-top":"10px"}},{default:s(()=>[(d(!0),C(S,null,H(e.item.translates,(_,$)=>(d(),m(Y,{item:_,"tree-item":e.item,key:$,"is-lite":e.isLite,onPreviewArray:e.handlePreviewArray,onOnRemove:R=>e.handleRemoveItem($),onOnKeyClick:n[3]||(n[3]=(...R)=>e.$emit("onKeyClick",...R))},null,8,["item","tree-item","is-lite","onPreviewArray","onOnRemove"]))),128))]),_:1})):v("",!0),e.isLite?v("",!0):(d(),m(B,{key:1,justify:"space-between",align:"center",style:{"margin-top":"5px"}},{default:s(()=>[i(k,{title:"Add translate item",type:"info",onClick:e.handleAddTranslate},{icon:s(()=>[i(Z)]),default:s(()=>[f(" Translate")]),_:1},8,["onClick"])]),_:1})),Ze,e.item.children&&e.item.children.length?(d(!0),C(S,{key:2},H(e.item.children,(_,$)=>(d(),m(X,{item:_,key:$,"is-root":!1,"is-lite":e.isLite,onOnRemove:R=>e.handleRemoveTreeItem($),onPreviewArray:e.handlePreviewArray,onOnKeyClick:n[4]||(n[4]=(...R)=>e.$emit("onKeyClick",...R))},null,8,["item","is-lite","onOnRemove","onPreviewArray"]))),128)):v("",!0),e.isLite?v("",!0):(d(),m(k,{key:3,type:"primary",onClick:e.handleAddChildren,title:"Add translate children group"},{icon:s(()=>[i(ee)]),default:s(()=>[f(" Group")]),_:1},8,["onClick"]))]),_:1},8,["show"]),i(te,{"is-textarea":"",title:"Array Detail",placeholder:"Array JSON String",visible:e.isShowArrayEdit,"onUpdate:visible":n[5]||(n[5]=_=>e.isShowArrayEdit=_),text:e.currentArrayString,onOnSave:e.handleSaveArray},null,8,["visible","text","onOnSave"])]),_:1})):v("",!0)}const nn=O(We,[["render",Xe],["__scopeId","data-v-25f5f553"]]),tn=""+new URL("translate-6e3a2b88.svg",import.meta.url).href;export{Ge as I,nn as _,M as a,F as e,G as f,tn as i};

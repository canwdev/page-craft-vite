import{d as S,M as C,Z as ve,as as on,X as Ae,a3 as ee,aQ as rn,a5 as Se,a6 as H,a8 as un,aR as dn,ar as cn,ac as mn,N as fn,aS as pn,aT as vn,a1 as hn,aU as gn,R as yn,r as V,U as _n,V as bn,W as P,w as ne,aV as wn,aK as te,ab as be,aW as we,aD as Ce,ah as ke,aX as $e,aY as Cn,Y as U,ax as kn,e as N,m as f,j as A,aO as xe,aI as ge,aZ as $n,b as ye,x as y,i as c,a_ as Rn,F as Q,I as k,aH as In,c as Be,H as z,aJ as Tn,a$ as Vn,f as v,p as I,t as M,z as Ne,B as Oe,L as Pe,b0 as An,s as Sn,l as xn,q as Re,b1 as Bn,b2 as Nn,b3 as On,J as Pn,K as zn}from"./index-66297b3d.js";const Mn=S({name:"Remove",render(){return C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},C("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),Dn=ve("collapse-transition",{width:"100%"},[on()]),Ln=Object.assign(Object.assign({},ee.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),En=S({name:"CollapseTransition",props:Ln,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:i,mergedRtlRef:u}=Ae(e),o=ee("CollapseTransition","-collapse-transition",Dn,rn,e,n),p=Se("CollapseTransition",u,n),d=H(()=>e.collapsed!==void 0?e.collapsed:e.show),g=H(()=>{const{self:{bezier:l}}=o.value;return{"--n-bezier":l}}),s=i?un("collapse-transition",void 0,g,e):void 0;return{rtlEnabled:p,mergedShow:d,mergedClsPrefix:n,cssVars:i?void 0:g,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){return C(cn,{appear:this.appear},{default:()=>{var e;if(this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),C("div",dn({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),Fn=e=>{const{textColorDisabled:n}=e;return{iconColorDisabled:n}},Un=mn({name:"InputNumber",common:fn,peers:{Button:pn,Input:vn},self:Fn}),Hn=Un;function jn(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function Jn(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function fe(e){return e==null?!0:!Number.isNaN(e)}function Ie(e,n){return e==null?"":n===void 0?String(e):e.toFixed(n)}function pe(e){if(e===null)return null;if(typeof e=="number")return e;{const n=Number(e);return Number.isNaN(n)?null:n}}const Kn=hn([ve("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),ve("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),Te=800,Ve=100,Gn=Object.assign(Object.assign({},ee.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),Wn=S({name:"InputNumber",props:Gn,setup(e){const{mergedBorderedRef:n,mergedClsPrefixRef:i,mergedRtlRef:u}=Ae(e),o=ee("InputNumber","-input-number",Kn,Hn,e,i),{localeRef:p}=gn("InputNumber"),d=yn(e),{mergedSizeRef:g,mergedDisabledRef:s,mergedStatusRef:l}=d,m=V(null),D=V(null),L=V(null),_=V(e.defaultValue),W=_n(e,"value"),R=bn(W,_),x=V(""),j=t=>{const a=String(t).split(".")[1];return a?a.length:0},le=t=>{const a=[e.min,e.max,e.step,t].map(r=>r===void 0?0:j(r));return Math.max(...a)},ae=P(()=>{const{placeholder:t}=e;return t!==void 0?t:p.value.placeholder}),E=P(()=>{const t=pe(e.step);return t!==null?t===0?1:Math.abs(t):1}),q=P(()=>{const t=pe(e.min);return t!==null?t:null}),X=P(()=>{const t=pe(e.max);return t!==null?t:null}),b=t=>{const{value:a}=R;if(t===a){$();return}const{"onUpdate:value":r,onUpdateValue:h,onChange:T}=e,{nTriggerFormInput:B,nTriggerFormChange:F}=d;T&&U(T,t),h&&U(h,t),r&&U(r,t),_.value=t,B(),F()},w=({offset:t,doUpdateIfValid:a,fixPrecision:r,isInputing:h})=>{const{value:T}=x;if(h&&Jn(T))return!1;const B=(e.parse||jn)(T);if(B===null)return a&&b(null),null;if(fe(B)){const F=j(B),{precision:G}=e;if(G!==void 0&&G<F&&!r)return!1;let O=parseFloat((B+t).toFixed(G??le(B)));if(fe(O)){const{value:ce}=X,{value:me}=q;if(ce!==null&&O>ce){if(!a||h)return!1;O=ce}if(me!==null&&O<me){if(!a||h)return!1;O=me}return e.validator&&!e.validator(O)?!1:(a&&b(O),O)}}return!1},$=()=>{const{value:t}=R;if(fe(t)){const{format:a,precision:r}=e;a?x.value=a(t):t===null||r===void 0||j(t)>r?x.value=Ie(t,void 0):x.value=Ie(t,r)}else x.value=String(t)};$();const je=P(()=>w({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),se=P(()=>{const{value:t}=R;if(e.validator&&t===null)return!1;const{value:a}=E;return w({offset:-a,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),ie=P(()=>{const{value:t}=R;if(e.validator&&t===null)return!1;const{value:a}=E;return w({offset:+a,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function Je(t){const{onFocus:a}=e,{nTriggerFormFocus:r}=d;a&&U(a,t),r()}function Ke(t){var a,r;if(t.target===((a=m.value)===null||a===void 0?void 0:a.wrapperElRef))return;const h=w({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(h!==!1){const F=(r=m.value)===null||r===void 0?void 0:r.inputElRef;F&&(F.value=String(h||"")),R.value===h&&$()}else $();const{onBlur:T}=e,{nTriggerFormBlur:B}=d;T&&U(T,t),B(),kn(()=>{$()})}function Ge(t){const{onClear:a}=e;a&&U(a,t)}function oe(){const{value:t}=ie;if(!t){de();return}const{value:a}=R;if(a===null)e.validator||b(_e());else{const{value:r}=E;w({offset:r,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function re(){const{value:t}=se;if(!t){ue();return}const{value:a}=R;if(a===null)e.validator||b(_e());else{const{value:r}=E;w({offset:-r,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const We=Je,qe=Ke;function _e(){if(e.validator)return null;const{value:t}=q,{value:a}=X;return t!==null?Math.max(0,t):a!==null?Math.min(0,a):0}function Xe(t){Ge(t),b(null)}function Ye(t){var a,r,h;!((a=L.value)===null||a===void 0)&&a.$el.contains(t.target)&&t.preventDefault(),!((r=D.value)===null||r===void 0)&&r.$el.contains(t.target)&&t.preventDefault(),(h=m.value)===null||h===void 0||h.activate()}let J=null,K=null,Y=null;function ue(){Y&&(window.clearTimeout(Y),Y=null),J&&(window.clearInterval(J),J=null)}function de(){Z&&(window.clearTimeout(Z),Z=null),K&&(window.clearInterval(K),K=null)}function Ze(){ue(),Y=window.setTimeout(()=>{J=window.setInterval(()=>{re()},Ve)},Te),we("mouseup",document,ue,{once:!0})}let Z=null;function Qe(){de(),Z=window.setTimeout(()=>{K=window.setInterval(()=>{oe()},Ve)},Te),we("mouseup",document,de,{once:!0})}const en=()=>{K||oe()},nn=()=>{J||re()};function tn(t){var a,r;if(t.key==="Enter"){if(t.target===((a=m.value)===null||a===void 0?void 0:a.wrapperElRef))return;w({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((r=m.value)===null||r===void 0||r.deactivate())}else if(t.key==="ArrowUp"){if(!ie.value||e.keyboard.ArrowUp===!1)return;t.preventDefault(),w({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&oe()}else if(t.key==="ArrowDown"){if(!se.value||e.keyboard.ArrowDown===!1)return;t.preventDefault(),w({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&re()}}function ln(t){x.value=t,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&w({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}ne(R,()=>{$()});const an={focus:()=>{var t;return(t=m.value)===null||t===void 0?void 0:t.focus()},blur:()=>{var t;return(t=m.value)===null||t===void 0?void 0:t.blur()}},sn=Se("InputNumber",u,i);return Object.assign(Object.assign({},an),{rtlEnabled:sn,inputInstRef:m,minusButtonInstRef:D,addButtonInstRef:L,mergedClsPrefix:i,mergedBordered:n,uncontrolledValue:_,mergedValue:R,mergedPlaceholder:ae,displayedValueInvalid:je,mergedSize:g,mergedDisabled:s,displayedValue:x,addable:ie,minusable:se,mergedStatus:l,handleFocus:We,handleBlur:qe,handleClear:Xe,handleMouseDown:Ye,handleAddClick:en,handleMinusClick:nn,handleAddMousedown:Qe,handleMinusMousedown:Ze,handleKeyDown:tn,handleUpdateDisplayedValue:ln,mergedTheme:o,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:H(()=>{const{self:{iconColorDisabled:t}}=o.value,[a,r,h,T]=wn(t);return{textColorTextDisabled:`rgb(${a}, ${r}, ${h})`,opacityDisabled:`${T}`}})})},render(){const{mergedClsPrefix:e,$slots:n}=this,i=()=>C($e,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>Ce(n["minus-icon"],()=>[C(ke,{clsPrefix:e},{default:()=>C(Mn,null)})])}),u=()=>C($e,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>Ce(n["add-icon"],()=>[C(ke,{clsPrefix:e},{default:()=>C(Cn,null)})])});return C("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},C(te,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var o;return this.showButton&&this.buttonPlacement==="both"?[i(),be(n.prefix,p=>p?C("span",{class:`${e}-input-number-prefix`},p):null)]:(o=n.prefix)===null||o===void 0?void 0:o.call(n)},suffix:()=>{var o;return this.showButton?[be(n.suffix,p=>p?C("span",{class:`${e}-input-number-suffix`},p):null),this.buttonPlacement==="right"?i():null,u()]:(o=n.suffix)===null||o===void 0?void 0:o.call(n)}}))}}),qn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Xn=A("g",{fill:"none"},[A("path",{d:"M10 2.5a.5.5 0 0 0-1 0V9H2.5a.5.5 0 0 0 0 1H9v6.5a.5.5 0 0 0 1 0V10h6.5a.5.5 0 0 0 0-1H10V2.5z",fill:"currentColor"})],-1),Yn=[Xn],Zn=S({name:"Add20Regular",render:function(n,i){return f(),N("svg",qn,Yn)}}),Qn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},et=A("g",{fill:"none"},[A("path",{d:"M3 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5zm2-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5zm5 2a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 10 6z",fill:"currentColor"})],-1),nt=[et],tt=S({name:"AddSquare20Regular",render:function(n,i){return f(),N("svg",Qn,nt)}}),lt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},at=A("g",{fill:"none"},[A("path",{d:"M11.5 4a1.5 1.5 0 0 0-3 0h-1a2.5 2.5 0 0 1 5 0H17a.5.5 0 0 1 0 1h-.554L15.15 16.23A2 2 0 0 1 13.163 18H6.837a2 2 0 0 1-1.987-1.77L3.553 5H3a.5.5 0 0 1-.492-.41L2.5 4.5A.5.5 0 0 1 3 4h8.5zm3.938 1H4.561l1.282 11.115a1 1 0 0 0 .994.885h6.326a1 1 0 0 0 .993-.885L15.438 5zM8.5 7.5c.245 0 .45.155.492.359L9 7.938v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L8 14.062V7.939c0-.242.224-.438.5-.438zm3 0c.245 0 .45.155.492.359l.008.079v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L11 14.062V7.939c0-.242.224-.438.5-.438z",fill:"currentColor"})],-1),st=[at],ze=S({name:"Delete20Regular",render:function(n,i){return f(),N("svg",lt,st)}}),it={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},ot=A("g",{fill:"none"},[A("path",{d:"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM8 3c.374 0 .875.356 1.313 1.318c.094.208.181.436.26.682H6.427a6.19 6.19 0 0 1 .26-.682C7.125 3.356 7.627 3 8 3zm-2.223.904c-.15.332-.283.7-.393 1.096H4a5.017 5.017 0 0 1 2.038-1.6a5.45 5.45 0 0 0-.261.504zM5.163 6A12.055 12.055 0 0 0 5 8c0 .699.057 1.373.163 2H3.416A4.983 4.983 0 0 1 3 8c0-.711.148-1.388.416-2h1.747zm.221 5c.11.396.242.764.393 1.096c.079.174.166.343.26.504A5.017 5.017 0 0 1 4 11h1.384zm1.043 0h3.146a6.195 6.195 0 0 1-.26.682C8.875 12.644 8.373 13 8 13c-.374 0-.875-.356-1.313-1.318a6.195 6.195 0 0 1-.26-.682zm3.394-1H6.18A10.936 10.936 0 0 1 6 8c0-.714.064-1.39.179-2H9.82c.115.61.179 1.286.179 2s-.064 1.39-.179 2zm.795 1H12a5.018 5.018 0 0 1-2.038 1.6c.095-.161.182-.33.26-.504c.152-.332.284-.7.394-1.096zm1.968-1h-1.747A12.05 12.05 0 0 0 11 8c0-.699-.057-1.372-.163-2h1.747c.268.612.416 1.289.416 2c0 .711-.148 1.388-.416 2zM9.962 3.4A5.018 5.018 0 0 1 12 5h-1.384a7.526 7.526 0 0 0-.393-1.096a5.454 5.454 0 0 0-.26-.504z",fill:"currentColor"})],-1),rt=[ot],Me=S({name:"Globe16Regular",render:function(n,i){return f(),N("svg",it,rt)}}),ut=S({name:"DialogTextEdit",components:{VueMonaco:xe},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Text edit"},placeholder:{type:String,default:"Input text"},text:{type:String,default:""},isTextarea:{type:Boolean,default:!1}},emits:["onSave"],setup(e,{emit:n}){const{text:i}=ge(e),u=$n(e,n,"visible"),o=V("");return ne(i,p=>{o.value=p}),{mVisible:u,editingText:o,handleSave(){n("onSave",o.value)}}}});function dt(e,n,i,u,o,p){const d=xe,g=te,s=Rn;return f(),y(s,{style:{width:"700px"},preset:"dialog","negative-text":e.$t("actions.cancel"),"positive-text":e.$t("actions.done"),title:e.title,onPositiveClick:e.handleSave,onNegativeClick:n[2]||(n[2]=l=>e.mVisible=!1),onClose:n[3]||(n[3]=l=>e.mVisible=!1),show:e.mVisible},{default:c(()=>[e.mVisible?(f(),N(Q,{key:0},[e.isTextarea?(f(),y(d,{key:0,modelValue:e.editingText,"onUpdate:modelValue":n[0]||(n[0]=l=>e.editingText=l),language:"json",style:{height:"500px"}},null,8,["modelValue"])):(f(),y(g,{key:1,type:e.isTextarea?"textarea":"text",value:e.editingText,"onUpdate:value":n[1]||(n[1]=l=>e.editingText=l),class:"font-code",rows:e.isTextarea?25:null,placeholder:e.placeholder,autofocus:""},null,8,["type","value","rows","placeholder"]))],64)):k("",!0)]),_:1},8,["negative-text","positive-text","title","onPositiveClick","show"])}const De=ye(ut,[["render",dt]]),Le=(e={})=>({key:e.key||"",value:e.value||""}),Ee=(e={})=>({namespace:e.namespace||"",children:e.children||[],translates:e.translates||[],parent:e.parent||null}),Fe=(e={},n=[],i=null)=>{if(!e)return[];if(!Array.isArray(e)&&typeof e=="object")for(let u in e){const o=e[u],p=[];if(o&&!Array.isArray(o)&&typeof o=="object"){const d=Ee({namespace:u,translates:p,parent:i});d.children=Fe(o,[],d),n.push(d)}else i&&i.translates&&i.translates.push(Le({key:u,value:o}))}return n},he="__root__",ct={parseWithRoot:(e={})=>Fe({[he]:e}),isRoot(e){return e?e.namespace===he:!1}},Ue=(e,n={})=>{if(typeof e=="object"&&!Array.isArray(e)&&(e=[e]),ct.isRoot(e[0])){const i=e[0];i.translates.forEach(u=>{n[u.key]=u.value}),e=i.children}return e.forEach(i=>{const u={};i.translates.forEach(o=>{u[o.key]=o.value}),Ue(i.children,u),n[i.namespace]=u}),n};function mt(e){return/[\u4e00-\u9fa5]/.test(e)}const ft=e=>{if(!e)return"";const{pinyinUtil:n}=window;return n&&mt(e)&&(e=n.getPinyin(e)),e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9\s]+/g,""),e=e.replace(/\s/gi,"_"),e=e.slice(0,20),e=e.replace(/_$|^_/g,""),e},pt=S({name:"TranslateItem",components:{Globe16Regular:Me,Delete20Regular:ze},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null},isLite:{type:Boolean,default:!1}},emits:["onRemove","previewArray","onKeyClick"],setup(e,{emit:n}){const{t:i}=In(),{item:u,treeItem:o}=ge(e),p=H(()=>{if(!o.value)return"";const s=[];let l=o.value;for(;l;)s.push(l.namespace),l=l.parent||null;return s.reverse().join(".")}),d=H(()=>{if(!u.value||!u.value.value&&!u.value.key)return"";let s=u.value.key;p.value&&(s=p.value+"."+s);const l=new RegExp(he+".","g");return s=s.replace(l,""),s}),g=V(null);return ne(u,s=>{if(!s){g.value=null;return}g.value=typeof s.value},{immediate:!0}),{namespacePrefix:p,nameDisplay:d,handleCopy(s){let l=`$t('${d.value}')`;s==="html"?l=`{{ $t('${d.value}') }}`:s==="v-html"?l=`v-html="$t('${d.value}')"`:s==="js"&&(l=`this.$t('${d.value}')`),Be(l),window.$message.success(i("msgs.copy_success"))},handleBlur(){u.value.key||(u.value.key=ft(u.value.value))},handleInputKeyClick(s){n("onKeyClick",d.value,s)},valType:g}}});function vt(e,n,i,u,o,p){const d=te,g=Wn,s=Ne,l=Oe,m=z("Delete20Regular"),D=Pe,L=Vn;return e.item?(f(),y(L,{key:0,size:"small",class:Tn(["translate-item",{isLite:e.isLite}])},{default:c(()=>[v(l,{size:"small",justify:"space-between"},{default:c(()=>[v(l,{size:"small",align:"center"},{default:c(()=>[v(d,{size:"small",class:"font-code translate-item-input",value:e.item.key,"onUpdate:value":n[0]||(n[0]=_=>e.item.key=_),placeholder:"key",onClick:e.handleInputKeyClick},null,8,["value","onClick"]),e.isLite?k("",!0):(f(),N(Q,{key:0},[e.valType==="number"?(f(),y(g,{key:0,value:e.item.value,"onUpdate:value":n[1]||(n[1]=_=>e.item.value=_),placeholder:"number value",size:"small",class:"item-value-edit",onBlur:e.handleBlur},null,8,["value","onBlur"])):Array.isArray(e.item.value)?(f(),y(s,{key:2,title:e.item.value,size:"small",class:"item-value-edit",onClick:n[3]||(n[3]=_=>e.$emit("previewArray",e.item))},{default:c(()=>[I(" 📝 "+M(e.$t("common.array")),1)]),_:1},8,["title"])):(f(),y(d,{key:1,type:"textarea",rows:"1",size:"small",class:"item-value-edit",value:e.item.value,"onUpdate:value":n[2]||(n[2]=_=>e.item.value=_),placeholder:"text value",onBlur:e.handleBlur},null,8,["value","onBlur"]))],64)),!e.isLite&&e.nameDisplay?(f(),y(l,{key:1,size:"small"},{default:c(()=>[v(d,{class:"font-code",size:"small",style:{width:"300px"},value:`$t('${e.nameDisplay}')`,readonly:""},null,8,["value"]),v(s,{size:"small",onClick:e.handleCopy,title:"Copy Original $('')"},{default:c(()=>[I(" $() ")]),_:1},8,["onClick"]),v(s,{size:"small",type:"info",onClick:n[4]||(n[4]=_=>e.handleCopy("html")),title:"Copy HTML template"},{default:c(()=>[I(M("{{ }}"))]),_:1}),v(s,{size:"small",type:"success",onClick:n[5]||(n[5]=_=>e.handleCopy("v-html")),title:"Copy v-html template"},{default:c(()=>[I(" v-html ")]),_:1}),v(s,{size:"small",type:"warning",onClick:n[6]||(n[6]=_=>e.handleCopy("js")),title:"Copy JavaScript"},{default:c(()=>[I(" this.$t ")]),_:1})]),_:1})):k("",!0),e.isLite?k("",!0):(f(),y(D,{key:2,onPositiveClick:n[7]||(n[7]=_=>e.$emit("onRemove"))},{trigger:c(()=>[v(s,{tertiary:"",style:{"margin-left":"15px"},size:"small",type:"error"},{icon:c(()=>[v(m)]),_:1})]),default:c(()=>[I(" "+M(e.$t("msgs.remove_item")),1)]),_:1}))]),_:1}),v(l)]),_:1})]),_:1},8,["class"])):k("",!0)}const He=ye(pt,[["render",vt],["__scopeId","data-v-e834525b"]]),ht=S({name:"TranslateTreeItem",components:{Delete20Regular:ze,TranslateItem:He,DialogTextEdit:De,AddSquare20Regular:tt,Add20Regular:Zn,Copy20Regular:An,Globe16Regular:Me},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0},isLite:{type:Boolean,default:!1}},emits:["onRemove","onKeyClick"],setup(e){const{item:n}=ge(e),i=()=>{console.log("[handleAddChildren]"),n.value.children.push(Ee({parent:n.value}))},u=()=>{console.log("[handleAddTranslate]"),n.value.translates.push(Le())},o=V(!0),p=V(!1),d=Sn(null),g=V(null);ne(p,l=>{l||(d.value=null,g.value=null)});const s=H(()=>{if(!n.value)return"";const l=[];let m=n.value;for(;m;)l.push(m.namespace),m=m.parent||null;return l.pop(),l.shift(),l.reverse().join(".")});return{handleAddChildren:i,handleAddTranslate:u,handleGetJSON(){const l=Ue([n.value]);console.log(l),Be(JSON.stringify(l,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(l){const m=[...n.value.children];m.splice(l,1),n.value.children=m},handleRemoveItem(l){const m=[...n.value.translates];m.splice(l,1),n.value.translates=m},isExpand:o,isShowArrayEdit:p,currentPreviewItem:d,currentArrayString:g,handlePreviewArray(l){d.value=l,g.value=JSON.stringify(l.value,null,2),p.value=!0},handleSaveArray(l){if(d.value)try{d.value.value=JSON.parse(l||"[]"),p.value=!1}catch(m){console.error(m),window.$message.error(m.message)}},namespacePrefix:s}}});const gt=e=>(Pn("data-v-e3da4aa7"),e=e(),zn(),e),yt={style:{display:"flex"}},_t={key:0,style:{color:"darkseagreen"}},bt=gt(()=>A("div",{style:{"border-top":"1px dashed darkseagreen","margin-top":"10px","margin-bottom":"10px"}},null,-1));function wt(e,n,i,u,o,p){const d=z("Globe16Regular"),g=Bn,s=te,l=z("Copy20Regular"),m=Ne,D=z("Delete20Regular"),L=Pe,_=Nn,W=Oe,R=He,x=On,j=z("Add20Regular"),le=z("TranslateTreeItem",!0),ae=z("AddSquare20Regular"),E=En,q=De,X=xn;return e.item?(f(),y(X,{key:0,size:"small",class:"tree-item"},{default:c(()=>[A("div",yt,[v(s,{size:"small",disabled:e.isRoot,class:"font-code",value:e.item.namespace,"onUpdate:value":n[0]||(n[0]=b=>e.item.namespace=b),placeholder:"namespace",style:{flex:"1"}},{prefix:c(()=>[v(g,{color:"darkseagreen",size:"16",title:e.namespacePrefix},{default:c(()=>[v(d)]),_:1},8,["title"]),e.isLite?k("",!0):(f(),N("span",_t,M(e.namespacePrefix+(e.namespacePrefix?".":"")),1))]),_:1},8,["disabled","value"]),e.isLite?k("",!0):(f(),y(W,{key:0,style:{"margin-left":"10px"},align:"center"},{default:c(()=>[v(m,{size:"small",secondary:"",type:"info",onClick:e.handleGetJSON,title:`${e.$t("actions.copy")} JSON`},{icon:c(()=>[v(l)]),_:1},8,["onClick","title"]),e.isRoot?k("",!0):(f(),y(L,{key:0,onPositiveClick:n[1]||(n[1]=b=>e.$emit("onRemove"))},{trigger:c(()=>[v(m,{secondary:"",type:"error",size:"small"},{icon:c(()=>[v(D)]),_:1})]),default:c(()=>[I(" "+M(e.$t("msgs.remove_group")),1)]),_:1})),v(_,{size:"small",value:e.isExpand,"onUpdate:value":n[2]||(n[2]=b=>e.isExpand=b)},{checked:c(()=>[I(" 👀 ")]),unchecked:c(()=>[I(" 🙈 ")]),_:1},8,["value"])]),_:1}))]),v(E,{show:e.isExpand},{default:c(()=>[e.item.translates&&e.item.translates.length?(f(),y(x,{key:0,size:"small",style:{"margin-top":"10px"}},{default:c(()=>[(f(!0),N(Q,null,Re(e.item.translates,(b,w)=>(f(),y(R,{item:b,"tree-item":e.item,key:w,"is-lite":e.isLite,onPreviewArray:e.handlePreviewArray,onOnRemove:$=>e.handleRemoveItem(w),onOnKeyClick:n[3]||(n[3]=(...$)=>e.$emit("onKeyClick",...$))},null,8,["item","tree-item","is-lite","onPreviewArray","onOnRemove"]))),128))]),_:1})):k("",!0),e.isLite?k("",!0):(f(),y(W,{key:1,justify:"space-between",align:"center",style:{"margin-top":"5px"}},{default:c(()=>[v(m,{title:"Add translate item",type:"info",onClick:e.handleAddTranslate},{icon:c(()=>[v(j)]),default:c(()=>[I(" "+M(e.$t("common.translate")),1)]),_:1},8,["onClick"])]),_:1})),bt,e.item.children&&e.item.children.length?(f(!0),N(Q,{key:2},Re(e.item.children,(b,w)=>(f(),y(le,{item:b,key:w,"is-root":!1,"is-lite":e.isLite,onOnRemove:$=>e.handleRemoveTreeItem(w),onPreviewArray:e.handlePreviewArray,onOnKeyClick:n[4]||(n[4]=(...$)=>e.$emit("onKeyClick",...$))},null,8,["item","is-lite","onOnRemove","onPreviewArray"]))),128)):k("",!0),e.isLite?k("",!0):(f(),y(m,{key:3,type:"primary",onClick:e.handleAddChildren,title:"Add translate children group"},{icon:c(()=>[v(ae)]),default:c(()=>[I(" "+M(e.$t("common.group")),1)]),_:1},8,["onClick"]))]),_:1},8,["show"]),v(q,{"is-textarea":"",title:e.$t("common.array_detail"),placeholder:"Array JSON String",visible:e.isShowArrayEdit,"onUpdate:visible":n[5]||(n[5]=b=>e.isShowArrayEdit=b),text:e.currentArrayString,onOnSave:e.handleSaveArray},null,8,["title","visible","text","onOnSave"])]),_:1})):k("",!0)}const kt=ye(ht,[["render",wt],["__scopeId","data-v-e3da4aa7"]]),$t=""+new URL("translate-6e3a2b88.svg",import.meta.url).href;export{ct as I,kt as _,De as a,Ue as e,Ee as f,$t as i};

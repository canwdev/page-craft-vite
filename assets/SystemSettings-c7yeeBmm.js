import{aM as e,aV as t,aU as n,d as a,aP as l,dg as r,aG as o,dh as i,cd as s,di as u,dj as d,dk as c,dl as p,dm as h,r as m,cf as v,dn as g,h as b,aL as f,aY as y,be as x,ce as w,dp as k,dq as C,dr as S,ds as V,dt as U,du as I,aN as A,cc as $,cb as O,aO as T,dv as z,aQ as R,a_ as _,aZ as D,w as F,c2 as M,aS as P,dw as B,dx as E,dy as L,dz as q,dA as N,dB as j,v as H,B as K,dC as W,b0 as G,J as X,bm as J,aH as Y,aI as Z,ca as Q,c9 as ee,dD as te,dE as ne,dF as ae,aW as le,L as re,dG as oe,o as ie,m as se,x as ue,ci as de,_ as ce,G as pe,H as he,bG as me,E as ve,bu as ge,bI as be,bJ as fe,y as ye,cT as xe,cU as we,dH as ke,l as Ce,c as Se,q as Ve,n as Ue,bO as Ie,dI as Ae,K as $e,C as Oe,c7 as Te,u as ze,dJ as Re,dK as _e,dL as De,a as Fe,dM as Me,dN as Pe,dO as Be,cn as Ee}from"./index-3hzdRt7D.js";import{S as Le,u as qe}from"./use-common-settings-mPnoVtEA.js";import{A as Ne}from"./Add-g7S_sgBo.js";function je(e,t,n){n/=100;const a=(t/=100)*Math.min(n,1-n)+n;return[e,a?100*(2-2*n/a):0,100*a]}function He(e,t,n){const a=(n/=100)-n*(t/=100)/2,l=Math.min(a,1-a);return[e,l?(n-a)/l*100:0,100*a]}function Ke(e,t,n){t/=100,n/=100;let a=(a,l=(a+e/60)%6)=>n-n*t*Math.max(Math.min(l,4-l,1),0);return[255*a(5),255*a(3),255*a(1)]}function We(e,t,n){e/=255,t/=255,n/=255;let a=Math.max(e,t,n),l=a-Math.min(e,t,n),r=l&&(a==e?(t-n)/l:a==t?2+(n-e)/l:4+(e-t)/l);return[60*(r<0?r+6:r),a&&l/a*100,100*a]}function Ge(e,t,n){e/=255,t/=255,n/=255;let a=Math.max(e,t,n),l=a-Math.min(e,t,n),r=1-Math.abs(a+a-l-1),o=l&&(a==e?(t-n)/l:a==t?2+(n-e)/l:4+(e-t)/l);return[60*(o<0?o+6:o),r?l/r*100:0,50*(a+a-l)]}function Xe(e,t,n){n/=100;let a=(t/=100)*Math.min(n,1-n),l=(t,l=(t+e/30)%12)=>n-a*Math.max(Math.min(l-3,9-l,1),-1);return[255*l(0),255*l(8),255*l(4)]}const Je=e("input-group","\n display: inline-flex;\n width: 100%;\n flex-wrap: nowrap;\n vertical-align: bottom;\n",[t(">",[e("input",[t("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),t("&:not(:first-child)","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n margin-left: -1px!important;\n ")]),e("button",[t("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ",[n("state-border, border","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ")]),t("&:not(:first-child)","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ",[n("state-border, border","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ")])]),t("*",[t("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ",[t(">",[e("input","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),e("base-selection",[e("base-selection-label","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),e("base-selection-tags","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),n("box-shadow, border, state-border","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ")])])]),t("&:not(:first-child)","\n margin-left: -1px!important;\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ",[t(">",[e("input","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),e("base-selection",[e("base-selection-label","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),e("base-selection-tags","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),n("box-shadow, border, state-border","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ")])])])])])]),Ye=a({name:"InputGroup",props:{},setup(e){const{mergedClsPrefixRef:t}=l(e);return r("-input-group",Je,t),{mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return o("div",{class:`${e}-input-group`},this.$slots)}});function Ze(e){return null===e?null:/^ *#/.test(e)?"hex":e.includes("rgb")?"rgb":e.includes("hsl")?"hsl":e.includes("hsv")?"hsv":null}const Qe={rgb:{hex:e=>i(s(e)),hsl(e){const[t,n,a,l]=s(e);return u([...Ge(t,n,a),l])},hsv(e){const[t,n,a,l]=s(e);return d([...We(t,n,a),l])}},hex:{rgb:e=>c(s(e)),hsl(e){const[t,n,a,l]=s(e);return u([...Ge(t,n,a),l])},hsv(e){const[t,n,a,l]=s(e);return d([...We(t,n,a),l])}},hsl:{hex(e){const[t,n,a,l]=p(e);return i([...Xe(t,n,a),l])},rgb(e){const[t,n,a,l]=p(e);return c([...Xe(t,n,a),l])},hsv(e){const[t,n,a,l]=p(e);return d([...je(t,n,a),l])}},hsv:{hex(e){const[t,n,a,l]=h(e);return i([...Ke(t,n,a),l])},rgb(e){const[t,n,a,l]=h(e);return c([...Ke(t,n,a),l])},hsl(e){const[t,n,a,l]=h(e);return u([...He(t,n,a),l])}}};function et(e,t,n){if(!(n=n||Ze(e)))return null;if(n===t)return e;return Qe[n][t](e)}const tt="12px",nt="6px",at=a({name:"HueSlider",props:{clsPrefix:{type:String,required:!0},hue:{type:Number,required:!0},onUpdateHue:{type:Function,required:!0},onComplete:Function},setup(e){const t=m(null);function n(n){const{value:a}=t;if(!a)return;const{width:l,left:r}=a.getBoundingClientRect(),o=(i=(n.clientX-r-6)/(l-12)*360,(i=Math.round(i))>=360?359:i<0?0:i);var i;e.onUpdateHue(o)}function a(){var t;g("mousemove",document,n),g("mouseup",document,a),null===(t=e.onComplete)||void 0===t||t.call(e)}return{railRef:t,handleMouseDown:function(e){t.value&&(v("mousemove",document,n),v("mouseup",document,a),n(e))}}},render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-slider`,style:{height:tt,borderRadius:nt}},o("div",{ref:"railRef",style:{boxShadow:"inset 0 0 2px 0 rgba(0, 0, 0, .24)",boxSizing:"border-box",backgroundImage:"linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)",height:tt,borderRadius:nt,position:"relative"},onMousedown:this.handleMouseDown},o("div",{style:{position:"absolute",left:nt,right:nt,top:0,bottom:0}},o("div",{class:`${e}-color-picker-handle`,style:{left:`calc((${this.hue}%) / 359 * 100 - ${nt})`,borderRadius:nt,width:tt,height:tt}},o("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:`hsl(${this.hue}, 100%, 50%)`,borderRadius:nt,width:tt,height:tt}})))))}}),lt="12px",rt="6px",ot=a({name:"AlphaSlider",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},alpha:{type:Number,default:0},onUpdateAlpha:{type:Function,required:!0},onComplete:Function},setup(e){const t=m(null);function n(n){const{value:a}=t;if(!a)return;const{width:l,left:r}=a.getBoundingClientRect(),o=(n.clientX-r)/(l-12);var i;e.onUpdateAlpha((i=o,(i=Math.round(100*i)/100)>1?1:i<0?0:i))}function a(){var t;g("mousemove",document,n),g("mouseup",document,a),null===(t=e.onComplete)||void 0===t||t.call(e)}return{railRef:t,railBackgroundImage:b((()=>{const{rgba:t}=e;return t?`linear-gradient(to right, rgba(${t[0]}, ${t[1]}, ${t[2]}, 0) 0%, rgba(${t[0]}, ${t[1]}, ${t[2]}, 1) 100%)`:""})),handleMouseDown:function(l){t.value&&e.rgba&&(v("mousemove",document,n),v("mouseup",document,a),n(l))}}},render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-slider`,ref:"railRef",style:{height:lt,borderRadius:rt},onMousedown:this.handleMouseDown},o("div",{style:{borderRadius:rt,position:"absolute",left:0,right:0,top:0,bottom:0,overflow:"hidden"}},o("div",{class:`${e}-color-picker-checkboard`}),o("div",{class:`${e}-color-picker-slider__image`,style:{backgroundImage:this.railBackgroundImage}})),this.rgba&&o("div",{style:{position:"absolute",left:rt,right:rt,top:0,bottom:0}},o("div",{class:`${e}-color-picker-handle`,style:{left:`calc(${100*this.alpha}% - ${rt})`,borderRadius:rt,width:lt,height:lt}},o("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:c(this.rgba),borderRadius:rt,width:lt,height:lt}}))))}}),it="12px",st="6px",ut=a({name:"Pallete",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},displayedHue:{type:Number,required:!0},displayedSv:{type:Array,required:!0},onUpdateSV:{type:Function,required:!0},onComplete:Function},setup(e){const t=m(null);function n(n){const{value:a}=t;if(!a)return;const{width:l,height:r,left:o,bottom:i}=a.getBoundingClientRect(),s=(i-n.clientY)/r,u=(n.clientX-o)/l,d=100*(u>1?1:u<0?0:u),c=100*(s>1?1:s<0?0:s);e.onUpdateSV(d,c)}function a(){var t;g("mousemove",document,n),g("mouseup",document,a),null===(t=e.onComplete)||void 0===t||t.call(e)}return{palleteRef:t,handleColor:b((()=>{const{rgba:t}=e;return t?`rgb(${t[0]}, ${t[1]}, ${t[2]})`:""})),handleMouseDown:function(e){t.value&&(v("mousemove",document,n),v("mouseup",document,a),n(e))}}},render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-pallete`,onMousedown:this.handleMouseDown,ref:"palleteRef"},o("div",{class:`${e}-color-picker-pallete__layer`,style:{backgroundImage:`linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`}}),o("div",{class:`${e}-color-picker-pallete__layer ${e}-color-picker-pallete__layer--shadowed`,style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))"}}),this.rgba&&o("div",{class:`${e}-color-picker-handle`,style:{width:it,height:it,borderRadius:st,left:`calc(${this.displayedSv[0]}% - ${st})`,bottom:`calc(${this.displayedSv[1]}% - ${st})`}},o("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:this.handleColor,borderRadius:st,width:it,height:it}})))}}),dt=f("n-color-picker");const ct={paddingSmall:"0 4px"},pt=a({name:"ColorInputUnit",props:{label:{type:String,required:!0},value:{type:[Number,String],default:null},showAlpha:Boolean,onUpdateValue:{type:Function,required:!0}},setup(e){const t=m(""),{themeRef:n}=y(dt,null);function a(){const{value:t}=e;if(null===t)return"";const{label:n}=e;return"HEX"===n?t:"A"===n?`${Math.floor(100*t)}%`:String(Math.floor(t))}return x((()=>{t.value=a()})),{mergedTheme:n,inputValue:t,handleInputChange:function(n){let l,r;switch(e.label){case"HEX":r=function(e){const t=e.trim();return!!/^#[0-9a-fA-F]+$/.test(t)&&[4,5,7,9].includes(t.length)}(n),r&&e.onUpdateValue(n),t.value=a();break;case"H":l=function(e){return!!/^\d{1,3}\.?\d*$/.test(e.trim())&&Math.max(0,Math.min(parseInt(e),360))}(n),!1===l?t.value=a():e.onUpdateValue(l);break;case"S":case"L":case"V":l=function(e){return!!/^\d{1,3}\.?\d*$/.test(e.trim())&&Math.max(0,Math.min(parseInt(e),100))}(n),!1===l?t.value=a():e.onUpdateValue(l);break;case"A":l=function(e){return!!/^\d{1,3}\.?\d*%$/.test(e.trim())&&Math.max(0,Math.min(parseInt(e)/100,100))}(n),!1===l?t.value=a():e.onUpdateValue(l);break;case"R":case"G":case"B":l=function(e){return!!/^\d{1,3}\.?\d*$/.test(e.trim())&&Math.max(0,Math.min(parseInt(e),255))}(n),!1===l?t.value=a():e.onUpdateValue(l)}},handleInputUpdateValue:function(e){t.value=e}}},render(){const{mergedTheme:e}=this;return o(w,{size:"small",placeholder:this.label,theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,builtinThemeOverrides:ct,value:this.inputValue,onUpdateValue:this.handleInputUpdateValue,onChange:this.handleInputChange,style:"A"===this.label?"flex-grow: 1.25;":""})}}),ht=a({name:"ColorInput",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},modes:{type:Array,required:!0},showAlpha:{type:Boolean,required:!0},value:{type:String,default:null},valueArr:{type:Array,default:null},onUpdateValue:{type:Function,required:!0},onUpdateMode:{type:Function,required:!0}},setup:e=>({handleUnitUpdateValue(t,n){const{showAlpha:a}=e;if("hex"===e.mode)return void e.onUpdateValue((a?i:k)(n));let l;switch(l=null===e.valueArr?[0,0,0,0]:Array.from(e.valueArr),e.mode){case"hsv":l[t]=n,e.onUpdateValue((a?d:V)(l));break;case"rgb":l[t]=n,e.onUpdateValue((a?c:S)(l));break;case"hsl":l[t]=n,e.onUpdateValue((a?u:C)(l))}}}),render(){const{clsPrefix:e,modes:t}=this;return o("div",{class:`${e}-color-picker-input`},o("div",{class:`${e}-color-picker-input__mode`,onClick:this.onUpdateMode,style:{cursor:1===t.length?"":"pointer"}},this.mode.toUpperCase()+(this.showAlpha?"A":"")),o(Ye,null,{default:()=>{const{mode:e,valueArr:t,showAlpha:n}=this;if("hex"===e){let e=null;try{e=null===t?null:(n?i:k)(t)}catch(a){}return o(pt,{label:"HEX",showAlpha:n,value:e,onUpdateValue:e=>{this.handleUnitUpdateValue(0,e)}})}return(e+(n?"a":"")).split("").map(((e,n)=>o(pt,{label:e.toUpperCase(),value:null===t?null:t[n],onUpdateValue:e=>{this.handleUnitUpdateValue(n,e)}})))}}))}}),mt=a({name:"ColorPickerTrigger",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:null},hsla:{type:Array,default:null},disabled:Boolean,onClick:Function},setup(e){const{colorPickerSlots:t,renderLabelRef:n}=y(dt,null);return()=>{const{hsla:a,value:l,clsPrefix:r,onClick:i,disabled:s}=e,d=t.label||n.value;return o("div",{class:[`${r}-color-picker-trigger`,s&&`${r}-color-picker-trigger--disabled`],onClick:s?void 0:i},o("div",{class:`${r}-color-picker-trigger__fill`},o("div",{class:`${r}-color-picker-checkboard`}),o("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:a?u(a):""}}),l&&a?o("div",{class:`${r}-color-picker-trigger__value`,style:{color:a[2]>50||a[3]<.5?"black":"white"}},d?d(l):l):null))}}});function vt(e,t){if("hsv"===t){const[t,n,a,l]=h(e);return c([...Ke(t,n,a),l])}return e}const gt=a({name:"ColorPickerSwatches",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},swatches:{type:Array,required:!0},onUpdateColor:{type:Function,required:!0}},setup(e){function t(t){const{mode:n}=e;let{value:a,mode:l}=t;return l||(l="hex",/^[a-zA-Z]+$/.test(a)?a=function(e){const t=document.createElement("canvas").getContext("2d");return t?(t.fillStyle=e,t.fillStyle):"#000000"}(a):(U("color-picker",`color ${a} in swatches is invalid.`),a="#000000")),l===n?a:et(a,n,l)}function n(n){e.onUpdateColor(t(n))}return{parsedSwatchesRef:b((()=>e.swatches.map((e=>{const t=Ze(e);return{value:e,mode:t,legalValue:vt(e,t)}})))),handleSwatchSelect:n,handleSwatchKeyDown:function(e,t){"Enter"===e.key&&n(t)}}},render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-swatches`},this.parsedSwatchesRef.map((t=>o("div",{class:`${e}-color-picker-swatch`,tabindex:0,onClick:()=>{this.handleSwatchSelect(t)},onKeydown:e=>{this.handleSwatchKeyDown(e,t)}},o("div",{class:`${e}-color-picker-swatch__fill`,style:{background:t.legalValue}})))))}}),bt=a({name:"ColorPreview",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},color:{type:String,default:null,validator:e=>{const t=Ze(e);return Boolean(!e||t&&"hsv"!==t)}},onUpdateColor:{type:Function,required:!0}},setup:e=>({handleChange:function(t){var n;const a=t.target.value;null===(n=e.onUpdateColor)||void 0===n||n.call(e,et(a.toUpperCase(),e.mode,"hex")),t.stopPropagation()}}),render(){const{clsPrefix:e}=this;return o("div",{class:`${e}-color-picker-preview__preview`},o("span",{class:`${e}-color-picker-preview__fill`,style:{background:this.color||"#000000"}}),o("input",{class:`${e}-color-picker-preview__input`,type:"color",value:this.color,onChange:this.handleChange}))}}),ft=t([e("color-picker","\n display: inline-block;\n box-sizing: border-box;\n height: var(--n-height);\n font-size: var(--n-font-size);\n width: 100%;\n position: relative;\n "),e("color-picker-panel","\n margin: 4px 0;\n width: 240px;\n font-size: var(--n-panel-font-size);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition:\n box-shadow .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n ",[I(),e("input","\n text-align: center;\n ")]),e("color-picker-checkboard","\n background: white; \n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ",[t("&::after",'\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 12px 12px;\n background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n background-repeat: repeat;\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')]),e("color-picker-slider","\n margin-bottom: 8px;\n position: relative;\n box-sizing: border-box;\n ",[n("image","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n "),t("&::after",'\n content: "";\n position: absolute;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n pointer-events: none;\n ')]),e("color-picker-handle","\n z-index: 1;\n box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);\n position: absolute;\n background-color: white;\n overflow: hidden;\n ",[n("fill","\n box-sizing: border-box;\n border: 2px solid white;\n ")]),e("color-picker-pallete","\n height: 180px;\n position: relative;\n margin-bottom: 8px;\n cursor: crosshair;\n ",[n("layer","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ",[A("shadowed","\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n ")])]),e("color-picker-preview","\n display: flex;\n ",[n("sliders","\n flex: 1 0 auto;\n "),n("preview","\n position: relative;\n height: 30px;\n width: 30px;\n margin: 0 0 8px 6px;\n border-radius: 50%;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n overflow: hidden;\n "),n("fill","\n display: block;\n width: 30px;\n height: 30px;\n "),n("input","\n position: absolute;\n top: 0;\n left: 0;\n width: 30px;\n height: 30px;\n opacity: 0;\n z-index: 1;\n ")]),e("color-picker-input","\n display: flex;\n align-items: center;\n ",[e("input","\n flex-grow: 1;\n flex-basis: 0;\n "),n("mode","\n width: 72px;\n text-align: center;\n ")]),e("color-picker-control","\n padding: 12px;\n "),e("color-picker-action","\n display: flex;\n margin-top: -4px;\n border-top: 1px solid var(--n-divider-color);\n padding: 8px 12px;\n justify-content: flex-end;\n ",[e("button","margin-left: 8px;")]),e("color-picker-trigger","\n border: var(--n-border);\n height: 100%;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n transition: border-color .3s var(--n-bezier);\n cursor: pointer;\n ",[n("value","\n white-space: nowrap;\n position: relative;\n "),n("fill","\n border-radius: var(--n-border-radius);\n position: absolute;\n display: flex;\n align-items: center;\n justify-content: center;\n left: 4px;\n right: 4px;\n top: 4px;\n bottom: 4px;\n "),A("disabled","cursor: not-allowed"),e("color-picker-checkboard","\n border-radius: var(--n-border-radius);\n ",[t("&::after","\n --n-block-size: calc((var(--n-height) - 8px) / 3);\n background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);\n background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; \n ")])]),e("color-picker-swatches","\n display: grid;\n grid-gap: 8px;\n flex-wrap: wrap;\n position: relative;\n grid-template-columns: repeat(auto-fill, 18px);\n margin-top: 10px;\n ",[e("color-picker-swatch","\n width: 18px;\n height: 18px;\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 8px 8px;\n background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;\n background-repeat: repeat;\n ",[n("fill","\n position: relative;\n width: 100%;\n height: 100%;\n border-radius: 3px;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n cursor: pointer;\n "),t("&:focus","\n outline: none;\n ",[n("fill",[t("&::after",'\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n background: inherit;\n filter: blur(2px);\n content: "";\n ')])])])])]),yt=a({name:"ColorPicker",props:Object.assign(Object.assign({},T.props),{value:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,defaultValue:String,modes:{type:Array,default:()=>["rgb","hex","hsl"]},placement:{type:String,default:"bottom-start"},to:E.propTo,showAlpha:{type:Boolean,default:!0},showPreview:Boolean,swatches:Array,disabled:{type:Boolean,default:void 0},actions:{type:Array,default:null},internalActions:Array,size:String,renderLabel:Function,onComplete:Function,onConfirm:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),setup(e,{slots:t}){const n=m(null);let a=null;const r=$(e),{mergedSizeRef:v,mergedDisabledRef:g}=r,{localeRef:f}=O("global"),{mergedClsPrefixRef:y,namespaceRef:w,inlineThemeDisabled:U}=l(e),I=T("ColorPicker","-color-picker",ft,z,e,y);R(dt,{themeRef:I,renderLabelRef:_(e,"renderLabel"),colorPickerSlots:t});const A=m(e.defaultShow),q=D(_(e,"show"),A);function N(t){const{onUpdateShow:n,"onUpdate:show":a}=e;n&&G(n,t),a&&G(a,t),A.value=t}const{defaultValue:j}=e,H=m(void 0===j?function(e,t){switch(e[0]){case"hex":return t?"#000000FF":"#000000";case"rgb":return t?"rgba(0, 0, 0, 1)":"rgb(0, 0, 0)";case"hsl":return t?"hsla(0, 0%, 0%, 1)":"hsl(0, 0%, 0%)";case"hsv":return t?"hsva(0, 0%, 0%, 1)":"hsv(0, 0%, 0%)"}return"#000000"}(e.modes,e.showAlpha):j),K=D(_(e,"value"),H),W=m([K.value]),Y=m(0),Z=b((()=>Ze(K.value))),{modes:Q}=e,ee=m(Ze(K.value)||Q[0]||"rgb");function te(){const{modes:t}=e,{value:n}=ee,a=t.findIndex((e=>e===n));ee.value=~a?t[(a+1)%t.length]:"rgb"}let ne,ae,le,re,oe,ie,se,ue;const de=b((()=>{const{value:e}=K;if(!e)return null;switch(Z.value){case"hsv":return h(e);case"hsl":return[ne,ae,le,ue]=p(e),[...je(ne,ae,le),ue];case"rgb":case"hex":return[oe,ie,se,ue]=s(e),[...We(oe,ie,se),ue]}})),ce=b((()=>{const{value:e}=K;if(!e)return null;switch(Z.value){case"rgb":case"hex":return s(e);case"hsv":return[ne,ae,re,ue]=h(e),[...Ke(ne,ae,re),ue];case"hsl":return[ne,ae,le,ue]=p(e),[...Xe(ne,ae,le),ue]}})),pe=b((()=>{const{value:e}=K;if(!e)return null;switch(Z.value){case"hsl":return p(e);case"hsv":return[ne,ae,re,ue]=h(e),[...He(ne,ae,re),ue];case"rgb":case"hex":return[oe,ie,se,ue]=s(e),[...Ge(oe,ie,se),ue]}})),he=b((()=>{switch(ee.value){case"rgb":case"hex":return ce.value;case"hsv":return de.value;case"hsl":return pe.value}})),me=m(0),ve=m(1),ge=m([0,0]);function be(t,n){const{value:a}=de,l=me.value,r=a?a[3]:1;ge.value=[t,n];const{showAlpha:o}=e;switch(ee.value){case"hsv":xe((o?d:V)([l,t,n,r]),"cursor");break;case"hsl":xe((o?u:C)([...He(l,t,n),r]),"cursor");break;case"rgb":xe((o?c:S)([...Ke(l,t,n),r]),"cursor");break;case"hex":xe((o?i:k)([...Ke(l,t,n),r]),"cursor")}}function fe(t){me.value=t;const{value:n}=de;if(!n)return;const[,a,l,r]=n,{showAlpha:o}=e;switch(ee.value){case"hsv":xe((o?d:V)([t,a,l,r]),"cursor");break;case"rgb":xe((o?c:S)([...Ke(t,a,l),r]),"cursor");break;case"hex":xe((o?i:k)([...Ke(t,a,l),r]),"cursor");break;case"hsl":xe((o?u:C)([...He(t,a,l),r]),"cursor")}}function ye(e){switch(ee.value){case"hsv":[ne,ae,re]=de.value,xe(d([ne,ae,re,e]),"cursor");break;case"rgb":[oe,ie,se]=ce.value,xe(c([oe,ie,se,e]),"cursor");break;case"hex":[oe,ie,se]=ce.value,xe(i([oe,ie,se,e]),"cursor");break;case"hsl":[ne,ae,le]=pe.value,xe(u([ne,ae,le,e]),"cursor")}ve.value=e}function xe(t,n){a="cursor"===n?t:null;const{nTriggerFormChange:l,nTriggerFormInput:o}=r,{onUpdateValue:i,"onUpdate:value":s}=e;i&&G(i,t),s&&G(s,t),l(),o(),H.value=t}function we(e){xe(e,"input"),J(ke)}function ke(t=!0){const{value:n}=K;if(n){const{nTriggerFormChange:a,nTriggerFormInput:l}=r,{onComplete:o}=e;o&&o(n);const{value:i}=W,{value:s}=Y;t&&(i.splice(s+1,i.length,n),Y.value=s+1),a(),l()}}function Ce(){const{value:e}=Y;e-1<0||(xe(W.value[e-1],"input"),ke(!1),Y.value=e-1)}function Se(){const{value:e}=Y;e<0||e+1>=W.value.length||(xe(W.value[e+1],"input"),ke(!1),Y.value=e+1)}function Ve(){xe(null,"input"),N(!1)}function Ue(){const{value:t}=K,{onConfirm:n}=e;n&&n(t),N(!1)}const Ie=b((()=>Y.value>=1)),Ae=b((()=>{const{value:e}=W;return e.length>1&&Y.value<e.length-1}));F(q,(e=>{e||(W.value=[K.value],Y.value=0)})),x((()=>{if(a&&a===K.value);else{const{value:e}=de;e&&(me.value=e[0],ve.value=e[3],ge.value=[e[1],e[2]])}a=null}));const $e=b((()=>{const{value:e}=v,{common:{cubicBezierEaseInOut:t},self:{textColor:n,color:a,panelFontSize:l,boxShadow:r,border:o,borderRadius:i,dividerColor:s,[M("height",e)]:u,[M("fontSize",e)]:d}}=I.value;return{"--n-bezier":t,"--n-text-color":n,"--n-color":a,"--n-panel-font-size":l,"--n-font-size":d,"--n-box-shadow":r,"--n-border":o,"--n-border-radius":i,"--n-height":u,"--n-divider-color":s}})),Oe=U?P("color-picker",b((()=>v.value[0])),$e,e):void 0;return{mergedClsPrefix:y,namespace:w,selfRef:n,hsla:pe,rgba:ce,mergedShow:q,mergedDisabled:g,isMounted:B(),adjustedTo:E(e),mergedValue:K,handleTriggerClick(){N(!0)},handleClickOutside(e){var t;(null===(t=n.value)||void 0===t?void 0:t.contains(L(e)))||N(!1)},renderPanel:function(){var n;const{value:a}=ce,{value:l}=me,{internalActions:r,modes:i,actions:s}=e,{value:u}=I,{value:d}=y;return o("div",{class:[`${d}-color-picker-panel`,null==Oe?void 0:Oe.themeClass.value],onDragstart:e=>{e.preventDefault()},style:U?void 0:$e.value},o("div",{class:`${d}-color-picker-control`},o(ut,{clsPrefix:d,rgba:a,displayedHue:l,displayedSv:ge.value,onUpdateSV:be,onComplete:ke}),o("div",{class:`${d}-color-picker-preview`},o("div",{class:`${d}-color-picker-preview__sliders`},o(at,{clsPrefix:d,hue:l,onUpdateHue:fe,onComplete:ke}),e.showAlpha?o(ot,{clsPrefix:d,rgba:a,alpha:ve.value,onUpdateAlpha:ye,onComplete:ke}):null),e.showPreview?o(bt,{clsPrefix:d,mode:ee.value,color:ce.value&&k(ce.value),onUpdateColor:e=>{xe(e,"input")}}):null),o(ht,{clsPrefix:d,showAlpha:e.showAlpha,mode:ee.value,modes:i,onUpdateMode:te,value:K.value,valueArr:he.value,onUpdateValue:we}),(null===(n=e.swatches)||void 0===n?void 0:n.length)&&o(gt,{clsPrefix:d,mode:ee.value,swatches:e.swatches,onUpdateColor:e=>{xe(e,"input")}})),(null==s?void 0:s.length)?o("div",{class:`${d}-color-picker-action`},s.includes("confirm")&&o(X,{size:"small",onClick:Ue,theme:u.peers.Button,themeOverrides:u.peerOverrides.Button},{default:()=>f.value.confirm}),s.includes("clear")&&o(X,{size:"small",onClick:Ve,disabled:!K.value,theme:u.peers.Button,themeOverrides:u.peerOverrides.Button},{default:()=>f.value.clear})):null,t.action?o("div",{class:`${d}-color-picker-action`},{default:t.action}):r?o("div",{class:`${d}-color-picker-action`},r.includes("undo")&&o(X,{size:"small",onClick:Ce,disabled:!Ie.value,theme:u.peers.Button,themeOverrides:u.peerOverrides.Button},{default:()=>f.value.undo}),r.includes("redo")&&o(X,{size:"small",onClick:Se,disabled:!Ae.value,theme:u.peers.Button,themeOverrides:u.peerOverrides.Button},{default:()=>f.value.redo})):null)},cssVars:U?void 0:$e,themeClass:null==Oe?void 0:Oe.themeClass,onRender:null==Oe?void 0:Oe.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:n}=this;return null==n||n(),o("div",{class:[this.themeClass,`${t}-color-picker`],ref:"selfRef",style:this.cssVars},o(q,null,{default:()=>[o(N,null,{default:()=>o(mt,{clsPrefix:t,value:this.mergedValue,hsla:this.hsla,disabled:this.mergedDisabled,onClick:this.handleTriggerClick},{label:e.label})}),o(j,{placement:this.placement,show:this.mergedShow,containerClass:this.namespace,teleportDisabled:this.adjustedTo===E.tdkey,to:this.adjustedTo},{default:()=>o(H,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?K(this.renderPanel(),[[W,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),xt=Y({name:"DynamicTags",common:Z,peers:{Input:Q,Button:ee,Tag:te,Space:ne},self:()=>({inputWidth:"64px"})}),wt=e("dynamic-tags",[e("input",{minWidth:"var(--n-input-width)"})]),kt=a({name:"DynamicTags",props:Object.assign(Object.assign(Object.assign({},T.props),oe),{size:{type:String,default:"medium"},closable:{type:Boolean,default:!0},defaultValue:{type:Array,default:()=>[]},value:Array,inputClass:String,inputStyle:[String,Object],inputProps:Object,max:Number,tagClass:String,tagStyle:[String,Object],renderTag:Function,onCreate:{type:Function,default:e=>e},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=l(e),{localeRef:a}=O("DynamicTags"),r=$(e),{mergedDisabledRef:o}=r,i=m(""),s=m(!1),u=m(!0),d=m(null),c=T("DynamicTags","-dynamic-tags",wt,xt,e,t),p=m(e.defaultValue),h=_(e,"value"),v=D(h,p),g=b((()=>a.value.add)),f=b((()=>function(e){switch(e){case"tiny":return"mini";case"small":return"tiny";case"medium":return"small";case"large":return"medium";case"huge":return"large"}throw Error(`${e} has no smaller size.`)}(e.size))),y=b((()=>o.value||!!e.max&&v.value.length>=e.max));function x(t){const{onChange:n,"onUpdate:value":a,onUpdateValue:l}=e,{nTriggerFormInput:o,nTriggerFormChange:i}=r;n&&G(n,t),l&&G(l,t),a&&G(a,t),p.value=t,o(),i()}function w(t){const n=null!=t?t:i.value;if(n){const t=v.value.slice(0);t.push(e.onCreate(n)),x(t)}s.value=!1,u.value=!0,i.value=""}const k=b((()=>{const{self:{inputWidth:e}}=c.value;return{"--n-input-width":e}})),C=n?P("dynamic-tags",void 0,k,e):void 0;return{mergedClsPrefix:t,inputInstRef:d,localizedAdd:g,inputSize:f,inputValue:i,showInput:s,inputForceFocused:u,mergedValue:v,mergedDisabled:o,triggerDisabled:y,handleInputKeyDown:function(e){if("Enter"===e.key)w()},handleAddClick:function(){s.value=!0,J((()=>{var e;null===(e=d.value)||void 0===e||e.focus(),u.value=!1}))},handleInputBlur:function(){w()},handleCloseClick:function(e){const t=v.value.slice(0);t.splice(e,1),x(t)},handleInputConfirm:w,mergedTheme:c,cssVars:n?void 0:k,themeClass:null==C?void 0:C.themeClass,onRender:null==C?void 0:C.onRender}},render(){const{mergedTheme:e,cssVars:t,mergedClsPrefix:n,onRender:a,renderTag:l}=this;return null==a||a(),o(re,{class:[`${n}-dynamic-tags`,this.themeClass],size:"small",style:t,theme:e.peers.Space,themeOverrides:e.peerOverrides.Space,itemStyle:"display: flex;"},{default:()=>{const{mergedTheme:e,tagClass:t,tagStyle:a,type:r,round:i,size:s,color:u,closable:d,mergedDisabled:c,showInput:p,inputValue:h,inputClass:m,inputStyle:v,inputSize:g,inputForceFocused:b,triggerDisabled:f,handleInputKeyDown:y,handleInputBlur:x,handleAddClick:k,handleCloseClick:C,handleInputConfirm:S,$slots:V}=this;return this.mergedValue.map(((n,p)=>l?l(n,p):o(ae,{key:p,theme:e.peers.Tag,themeOverrides:e.peerOverrides.Tag,class:t,style:a,type:r,round:i,size:s,color:u,closable:d,disabled:c,onClose:()=>{C(p)}},{default:()=>"string"==typeof n?n:n.label}))).concat(p?V.input?V.input({submit:S,deactivate:x}):o(w,Object.assign({placeholder:"",size:g,style:v,class:m,autosize:!0},this.inputProps,{ref:"inputInstRef",value:h,onUpdateValue:e=>{this.inputValue=e},theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,onKeydown:y,onBlur:x,internalForceFocus:b})):V.trigger?V.trigger({activate:k,disabled:f}):o(X,{dashed:!0,disabled:f,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:g,onClick:k},{icon:()=>o(le,{clsPrefix:n},{default:()=>o(Ne,null)})}))}})}}),Ct={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},St=[ue("g",{fill:"none"},[ue("path",{d:"M1.91 7.383a8.491 8.491 0 0 1 1.78-3.08a.5.5 0 0 1 .54-.135l1.918.686a1 1 0 0 0 1.32-.762l.366-2.006a.5.5 0 0 1 .388-.4a8.532 8.532 0 0 1 3.555 0a.5.5 0 0 1 .387.4l.367 2.006a1 1 0 0 0 1.32.762l1.918-.686a.5.5 0 0 1 .54.136a8.491 8.491 0 0 1 1.78 3.079a.5.5 0 0 1-.152.535l-1.555 1.32a1 1 0 0 0 0 1.524l1.555 1.32a.5.5 0 0 1 .152.535a8.491 8.491 0 0 1-1.78 3.08a.5.5 0 0 1-.54.135l-1.918-.686a1 1 0 0 0-1.32.762l-.367 2.007a.5.5 0 0 1-.387.399a8.53 8.53 0 0 1-3.555 0a.5.5 0 0 1-.388-.4l-.365-2.006a1 1 0 0 0-1.32-.762l-1.919.686a.5.5 0 0 1-.54-.136a8.49 8.49 0 0 1-1.78-3.079a.5.5 0 0 1 .153-.535l1.554-1.32a1 1 0 0 0 0-1.524l-1.554-1.32a.5.5 0 0 1-.153-.535zM8 10a2 2 0 1 0 4 0a2 2 0 0 0-4 0z",fill:"currentColor"})],-1)],Vt=a({name:"Settings20Filled",render:function(e,t){return ie(),se("svg",Ct,St)}}),Ut=a({name:"RectSwitch",props:{modelValue:{type:[Boolean,String,Number],default:!1},options:{type:Array,default:()=>[]}},setup:(e,{emit:t})=>({mValue:de(e,t)})}),It={class:"rect-switch"},At=["onClick"];const $t=ce(Ut,[["render",function(e,t,n,a,l,r){return ie(),se("div",It,[(ie(!0),se(pe,null,he(e.options,(t=>(ie(),se("div",{key:t.value,class:me(["r-item",{active:t.value===e.mValue}]),onClick:n=>e.mValue=t.value},ve(t.label),11,At)))),128))])}]]);const Ot=a({name:"AdvancedNumberInput",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},isDebug:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:Number,max:Number,step:{type:Number,default:1},format:Function,parse:Function,marks:{type:Object}},setup(e,{emit:t}){const{marks:n,step:a,min:l,max:r,modelValue:o,readonly:i,disabled:s}=ge(e),u=b({get:()=>e.modelValue,set:e=>t("update:modelValue",e)}),d=b((()=>{if(!n.value)return null;const e=[];return Object.keys(n.value).forEach((t=>{e.push(Number(t))})),e.sort(((e,t)=>e-t))})),c=e=>{const t=d.value;if(t){let n=t.findIndex((e=>e===u.value));if(n<0){n=function(e,t){let n=-1,a=t[0],l=Math.abs(e-t[0]);for(let r=1;r<t.length;r++){const o=Math.abs(e-t[r]);o<l&&(n=r,a=t[r],l=o)}return{index:n,value:a}}(u.value,t).index,n<0&&(console.error("number not found!",{idx:n,numbers:t,mValue:u.value,isNext:e}),n=0)}if(e){if(void 0!==t[n+1])return t[n+1]}else if(void 0!==t[n-1])return t[n-1]}return null},p=b((()=>{if(d.value)return c(!0);const e=r.value,t=(n=u.value,l=a.value,n+l);var n,l;return void 0!==e?t<=e?t:null:t})),h=b((()=>null!==p.value)),v=b((()=>{if(d.value)return c(!1);const e=l.value,t=(n=u.value,r=a.value,n-r);var n,r;return void 0!==e?t>=e?t:null:t})),g=b((()=>null!==v.value)),f=m(""),y=t=>e.format?e.format(t):String(t);F(o,(e=>{f.value=y(e)}),{immediate:!0});const x=()=>{if(i.value||s.value)return;let t;t=e.parse?e.parse(String(f.value))||0:Number(f.value)||0,void 0!==e.max&&t>e.max&&(t=e.max),void 0!==e.min&&t<e.min&&(t=e.min),e.step&&(t=Math.round(t/e.step)*e.step),u.value=t,f.value=y(t)},w=m(!1);return{mValue:u,handleUp:()=>{h.value&&!e.disabled&&(u.value=p.value)},handleDown:()=>{g.value&&!e.disabled&&(u.value=v.value)},isAllowUp:h,isAllowDown:g,nextUpValue:p,nextDownValue:v,marksNumberArray:d,inputValue:f,handleBlur:()=>{x(),w.value=!1},handleEnter:x,handleFocus:()=>{w.value=!0},isFocused:w}}}),Tt=e=>(xe("data-v-53d0ee47"),e=e(),we(),e),zt=["readonly","disabled"],Rt={key:0,class:"debug-val"},_t={class:"toggle-wrap"},Dt=["disabled"],Ft=[Tt((()=>ue("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[ue("g",{fill:"none"},[ue("path",{d:"M2.146 7.354a.5.5 0 0 0 .708 0L6 4.207l3.146 3.147a.5.5 0 1 0 .708-.708l-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 0 .708z",fill:"currentColor"})])],-1)))],Mt=["disabled"],Pt=[Tt((()=>ue("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[ue("g",{fill:"none"},[ue("path",{d:"M2.146 4.646a.5.5 0 0 1 .708 0L6 7.793l3.146-3.147a.5.5 0 1 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708z",fill:"currentColor"})])],-1)))];const Bt=["#258292","#3A6EA5","#F0C869","#E81123","#e91e63","#FFFFFF","#000000","#007aff","#a2845e","#8e8e93","#28cd41","#5856d6","#ff9500","#ff2d55","#af52de","#ff3b30","#5ac8fa","#ffcc00"],Et=a({name:"ItemAction",components:{AdvancedNumberInput:ce(Ot,[["render",function(e,t,n,a,l,r){return ie(),se("div",{class:me(["advanced-number-input",{disabled:e.disabled,focused:e.isFocused}])},[K(ue("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.inputValue=t),type:"text",class:"text-input",readonly:e.readonly,onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:[t[3]||(t[3]=fe(((...t)=>e.handleEnter&&e.handleEnter(...t)),["enter"])),t[4]||(t[4]=fe(((...t)=>e.handleUp&&e.handleUp(...t)),["up"])),t[5]||(t[5]=fe(((...t)=>e.handleDown&&e.handleDown(...t)),["down"]))],disabled:e.disabled},null,40,zt),[[be,e.inputValue]]),e.isDebug?(ie(),se("div",Rt,ve(e.modelValue),1)):ye("",!0),ue("div",_t,[ue("button",{onClick:t[6]||(t[6]=(...t)=>e.handleUp&&e.handleUp(...t)),class:"btn-no-style btn-up",disabled:!e.isAllowUp||e.disabled},Ft,8,Dt),ue("button",{onClick:t[7]||(t[7]=(...t)=>e.handleDown&&e.handleDown(...t)),class:"btn-no-style btn-down",disabled:!e.isAllowDown||e.disabled},Pt,8,Mt)])],2)}],["__scopeId","data-v-53d0ee47"]]),VueRender:ke,RectSwitch:$t},props:{item:{type:Object,required:!0}},setup(e,{emit:t}){const{item:n}=ge(e),a=b({get:()=>n.value.store?n.value.store[n.value.key]:n.value.value,set(e){n.value.store?n.value.store[n.value.key]=e:n.value.value=e}});return{StOptionType:Le,dynamicValue:a,swatches:Bt}}}),Lt={key:2,class:"option-slider-wrap"};const qt=a({name:"OptionItem",components:{ItemAction:ce(Et,[["render",function(e,t,n,a,l,r){const o=Ie,i=Ce("RectSwitch"),s=Ae,u=$e,d=w,c=yt,p=kt,h=Ce("AdvancedNumberInput"),m=Ce("VueRender"),v=re;return ie(),Se(v,{class:"option-item-action",size:"small",align:"center"},{default:Ve((()=>[e.item.type===e.StOptionType.SWITCH?(ie(),Se(o,{key:0,value:e.dynamicValue,"onUpdate:value":t[0]||(t[0]=t=>e.dynamicValue=t)},null,8,["value"])):e.item.type===e.StOptionType.MULTIPLE_SWITCH?(ie(),Se(i,{key:1,options:e.item.selectOptions,modelValue:e.dynamicValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dynamicValue=t)},null,8,["options","modelValue"])):e.item.type===e.StOptionType.SLIDER?(ie(),se("div",Lt,[Ue(s,{class:"option-slider",value:e.dynamicValue,"onUpdate:value":t[2]||(t[2]=t=>e.dynamicValue=t)},null,8,["value"])])):e.item.type===e.StOptionType.SELECT?(ie(),Se(u,{key:3,class:"option-select",value:e.dynamicValue,"onUpdate:value":t[3]||(t[3]=t=>e.dynamicValue=t),options:e.item.selectOptions,"value-field":"value","label-field":"label",size:"small"},null,8,["value","options"])):e.item.type===e.StOptionType.INPUT?(ie(),Se(d,{key:4,class:"option-select option-input",value:e.dynamicValue,"onUpdate:value":t[4]||(t[4]=t=>e.dynamicValue=t),size:"small",type:"text",clearable:"",placeholder:e.item.placeholder||""},null,8,["value","placeholder"])):e.item.type===e.StOptionType.COLOR_PICKER?(ie(),Se(c,{key:5,class:"option-select",value:e.dynamicValue,"onUpdate:value":t[5]||(t[5]=t=>e.dynamicValue=t),size:"small",swatches:e.swatches,"show-alpha":!1,actions:["clear"],modes:["hex"]},null,8,["value","swatches"])):e.item.type===e.StOptionType.DYNAMIC_TAGS?(ie(),Se(p,{key:6,class:"dynamic-tags",value:e.dynamicValue,"onUpdate:value":t[6]||(t[6]=t=>e.dynamicValue=t),size:"small"},null,8,["value"])):e.item.type===e.StOptionType.INPUT_NUMBER?(ie(),Se(h,{key:7,modelValue:e.dynamicValue,"onUpdate:modelValue":t[7]||(t[7]=t=>e.dynamicValue=t),max:e.item.max,min:e.item.min,step:e.item.step,format:e.item.formatFn,parse:e.item.parseFn,marks:e.item.marks,disabled:e.item.disabled},null,8,["modelValue","max","min","step","format","parse","marks","disabled"])):ye("",!0),e.item.actionRender?(ie(),Se(m,{key:8,"render-fn":e.item.actionRender},null,8,["render-fn"])):ye("",!0)])),_:1})}]]),VueRender:ke},props:{item:{type:Object,required:!0},foldedKeyMap:{type:Object,default:()=>({})}},setup(e,{emit:t}){const{item:n,foldedKeyMap:a}=ge(e);return{isExpanded:b((()=>!a.value[n.value.key])),StOptionType:Le,handleItemClick:(e,t)=>{"function"==typeof t&&t(e,n.value)}}}}),Nt={class:"panel-header vp-bg"},jt={class:"p-left"},Ht={class:"item-label"},Kt={class:"p-right"},Wt={style:{width:"20px",height:"20px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Gt=[ue("g",{fill:"none"},[ue("path",{d:"M15.794 7.733a.75.75 0 0 1-.026 1.06l-5.25 5.001a.75.75 0 0 1-1.035 0l-5.25-5a.75.75 0 0 1 1.034-1.087l4.734 4.509l4.733-4.51a.75.75 0 0 1 1.06.027z",fill:"currentColor"})],-1)],Xt={key:0,class:"panel-body"},Jt=["onClick"],Yt={class:"o-left"},Zt={key:0,class:"item-icon"},Qt={key:1,class:"item-icon"},en=["src"],tn={class:"item-title-wrap"},nn={class:"item-label-wrap"},an={class:"item-label"},ln={style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},rn=[ue("g",{fill:"none"},[ue("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 1a7 7 0 1 0 0 14a7 7 0 0 0 0-14zm0 10.5a.75.75 0 1 1 0 1.5a.75.75 0 0 1 0-1.5zm0-8a2.5 2.5 0 0 1 1.651 4.377l-.154.125l-.219.163l-.087.072a1.968 1.968 0 0 0-.156.149c-.339.36-.535.856-.535 1.614a.5.5 0 0 1-1 0c0-1.012.293-1.752.805-2.298a3.11 3.11 0 0 1 .356-.323l.247-.185l.118-.1A1.5 1.5 0 1 0 8.5 8a.5.5 0 0 1-1 .001A2.5 2.5 0 0 1 10 5.5z",fill:"currentColor"})],-1)],on=["innerHTML"],sn=["innerHTML"],un={class:"o-right"};const dn="option_ui_folded_key_map",cn=a({name:"OptionUI",components:{OptionItem:ce(qt,[["render",function(e,t,n,a,l,r){const o=Ce("ItemAction"),i=Ce("VueRender"),s=Te;return ie(),se("div",{class:me(["c-panel-item",[e.item.cls]])},[ue("div",Nt,[ue("div",jt,[ue("div",Ht,ve(e.item.label),1)]),ue("div",Kt,[e.item.children&&e.item.children.length?(ie(),se("div",{key:0,class:me(["btn-no-style btn-toggle-expand",{expanded:e.isExpanded}]),onClick:t[0]||(t[0]=t=>e.$emit("onToggleExpand",e.item))},[(ie(),se("svg",Wt,Gt))],2)):(ie(),Se(o,{key:1,item:e.item},null,8,["item"]))])]),e.item.children&&e.item.children.length?K((ie(),se("div",Xt,[(ie(!0),se(pe,null,he(e.item.children,(t=>(ie(),se("div",{key:t.key,class:me(["sub-item",{clickable:t.clickFn}]),onClick:n=>e.handleItemClick(n,t.clickFn)},[ue("div",Yt,[t.iconRender?(ie(),se("div",Zt,[Ue(i,{"render-fn":t.iconRender},null,8,["render-fn"])])):t.icon?(ie(),se("div",Qt,[ue("img",{src:t.icon,alt:"icon"},null,8,en)])):ye("",!0),ue("div",tn,[ue("div",nn,[ue("span",an,ve(t.label),1),t.tips?(ie(),Se(s,{key:0,trigger:"hover"},{trigger:Ve((()=>[(ie(),se("svg",ln,rn))])),default:Ve((()=>[ue("span",{innerHTML:t.tips},null,8,on)])),_:2},1024)):ye("",!0)]),t.subtitle?(ie(),se("div",{key:0,class:"item-subtitle",innerHTML:t.subtitle},null,8,sn)):ye("",!0)])]),ue("div",un,[Ue(o,{item:t},null,8,["item"])])],10,Jt)))),128))],512)),[[Oe,e.isExpanded]]):ye("",!0)],2)}]])},props:{optionList:{type:Array,default:()=>[]},expandId:{type:String,default:""}},setup(e,{emit:t}){const{expandId:n}=ge(e),a=m(JSON.parse(localStorage.getItem(dn+n.value)||"null")||{});return{StOptionType:Le,foldedKeyMap:a,handleToggleExpand:e=>{a.value[e.key]?delete a.value[e.key]:a.value[e.key]=!0,localStorage.setItem(dn+n.value,JSON.stringify(a.value))}}}}),pn={class:"option-ui"};const hn=ce(cn,[["render",function(e,t,n,a,l,r){const o=Ce("OptionItem");return ie(),se("div",pn,[(ie(!0),se(pe,null,he(e.optionList,(t=>K((ie(),Se(o,{item:t,key:t.key,"folded-key-map":e.foldedKeyMap,onOnToggleExpand:e.handleToggleExpand},null,8,["item","folded-key-map","onOnToggleExpand"])),[[Oe,!t.hidden]]))),128))])}]]);const mn=ce(a({name:"LanguageChooser",setup(){const{t:e}=ze();return{languages:Re,handleLanguageSelect(t){_e(t),window.$dialog.warning({title:e("msgs.refresh_page"),positiveText:e("actions.ok"),negativeText:e("actions.cancel"),onPositiveClick:()=>{location.reload()},onNegativeClick:()=>{}})}}}}),[["render",function(e,t,n,a,l,r){const o=$e;return ie(),Se(o,{class:"language-chooser",size:"small",value:e.$i18n.locale,"onUpdate:value":[t[0]||(t[0]=t=>e.$i18n.locale=t),e.handleLanguageSelect],options:e.languages,"value-field":"locale","label-field":"name"},null,8,["value","options","onUpdate:value"])}],["__scopeId","data-v-4fd58792"]]),vn=()=>{let e='<b><a style="color: inherit" href="https://www.dujin.org/12142.html" target="_blank">随机壁纸API</a></b>';return[{label:"Bing",url:"https://api.dujin.org/bing/1920.php"}].forEach((t=>{e+=`<br>${t.label}: <a style="color: inherit" href="${t.url}" target="_blank">${t.url}</a>`})),e};const gn=ce(a({name:"SystemSettings",components:{OptionUI:hn},props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:t}){const{t:n}=ze(),a=de(e,t,"visible"),l=De(),r=Fe(),{commonSettingsOptions:i}=qe(),{themeOptions:s}=Me();return{mVisible:a,optionList:b((()=>[{label:n("common.personalization"),key:"personalization",children:[{label:n("common.theme_color"),key:"themeColor",store:l,type:Le.COLOR_PICKER},{label:n("common.wallpaper"),key:"desktopWallpaper",store:l,type:Le.INPUT,tips:vn(),placeholder:"optional"},!l.desktopWallpaper&&{label:n("common.bg_color"),key:"desktopBgColor",store:l,type:Le.COLOR_PICKER},{label:n("actions.toggle_ld_theme"),key:"ldTheme",store:l,type:Le.MULTIPLE_SWITCH,selectOptions:Pe},{label:n("common.theme"),key:"customTheme",store:l,type:Le.SELECT,selectOptions:s.value},{label:n("common.disable_animation"),subtitle:n("common.eink_optimization"),key:"disableAnimation",store:l,type:Le.SWITCH}].filter(Boolean)},{label:"PageCraft",key:"pagecraft",children:[{label:n("common.top_layout"),key:"enableTopLayout",store:l,type:Le.SWITCH},{label:n("common.sound_fx"),key:"enableSoundFx",store:l,type:Le.SWITCH}]},...i.value,{label:n("common.system"),key:"system",children:[{label:"Language",key:"language",actionRender:o(mn)},window.__TAURI__&&{label:n("msgs.auto_check_update"),key:"autoCheckUpdate",subtitle:r.upgradeInfo,store:l,type:Le.SWITCH},{label:Be(),subtitle:`Copyright © 2022-${(new Date).getFullYear()} canwdev`,actionRender:o("a",{style:"color: inherit;",href:"https://github.com/canwdev/page-craft-vite",target:"_blank",rel:"noopener noreferrer"},"Github")}].filter(Boolean)}])),dialogIconRender:()=>o(Vt)}}}),[["render",function(e,t,n,a,l,r){const o=Ce("OptionUI"),i=Ee;return ie(),Se(i,{show:e.mVisible,"onUpdate:show":t[0]||(t[0]=t=>e.mVisible=t),preset:"dialog",title:e.$t("common.settings"),style:{"padding-left":"10px","padding-right":"10px"},icon:e.dialogIconRender,class:"system-settings"},{default:Ve((()=>[Ue(o,{"option-list":e.optionList},null,8,["option-list"])])),_:1},8,["show","title","icon"])}],["__scopeId","data-v-8a8cfa34"]]);export{gn as default};

import{V as e}from"./index-Byyymg_I.js";import{d as t,o as a,c as l,a as i,t as s,e as n,w as o,f as r,z as c,h as d,C as p,_ as m,r as u,N as v,O as h,Q as b,k as f,l as C,g as w,T as g,p as k,R as x,F as y,m as D,S as _,c9 as z,U as M,V as A,s as S,W as L,X as F,a1 as P,ak as j}from"./index-B_8g2bxo.js";import{d as R,f as T}from"./index-BWzdhM7Z.js";import{Q as H}from"./index-Bi2kEi3J.js";import{u as $,a as O,b as I,_ as Y,F as N,C as B,R as V,D as U,c as E,A as K,S as G,d as W,e as Q,f as q,g as X,h as J,i as Z,j as ee}from"./use-local-dir-D7_ExQWw.js";import{f as te,n as ae,g as le}from"./humanfs-api-DpvoJ6Sz.js";import{C as ie,a as se}from"./Copy20Regular-sZkODe5h.js";import{_ as ne}from"./Spin-DKTdphx2.js";import{N as oe}from"./Icon-CMxllykI.js";import{_ as re}from"./Popover-BKGBJvpF.js";import{O as ce,S as de}from"./index-DnfHVQfd.js";import{C as pe}from"./CommonNavbar-DInEh-4t.js";import"./VueRender.vue_vue_type_script_lang-B7jagunM.js";import"./Dropdown-CsBF2fzf.js";import"./file-history-B7sFIa91.js";import"./useIDBKeyval-CyjVMSV3.js";import"./use-model-wrapper-C3eqSSDB.js";import"./AdvancedNumberInput-CDufGYGU.js";import"./Select-B9LExM5-.js";import"./Tag-DZeuv2Mx.js";import"./Add-BNHsnCDy.js";import"./utils-vFQznSBh.js";const me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ue=[i("g",{fill:"none"},[i("path",{d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h1A1.5 1.5 0 0 1 6 3.5v1A1.5 1.5 0 0 1 4.5 6h-1A1.5 1.5 0 0 1 2 4.5v-1zM3.5 3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zM2 9.5A1.5 1.5 0 0 1 3.5 8h1A1.5 1.5 0 0 1 6 9.5v1A1.5 1.5 0 0 1 4.5 12h-1A1.5 1.5 0 0 1 2 10.5v-1zM3.5 9a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zM2 15.5A1.5 1.5 0 0 1 3.5 14h1A1.5 1.5 0 0 1 6 15.5v1A1.5 1.5 0 0 1 4.5 18h-1A1.5 1.5 0 0 1 2 16.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zM8 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z",fill:"currentColor"})],-1)],ve=t({name:"AppsList20Regular",render:function(e,t){return a(),l("svg",me,ue)}}),he={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},be=[i("g",{fill:"none"},[i("path",{d:"M6 1a2 2 0 0 0-2 2v2.207a5.48 5.48 0 0 1 1-.185V3a1 1 0 0 1 1-1h3v2.5A1.5 1.5 0 0 0 10.5 6H13v7a1 1 0 0 1-1 1H9.743c-.314.38-.677.716-1.08 1H12a2 2 0 0 0 2-2V5.414a1.5 1.5 0 0 0-.44-1.06l-2.914-2.915A1.5 1.5 0 0 0 9.586 1H6zm6.793 4H10.5a.5.5 0 0 1-.5-.5V2.207L12.793 5zM10 10.5a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0zm-4-2a.5.5 0 0 0-1 0V10H3.5a.5.5 0 0 0 0 1H5v1.5a.5.5 0 0 0 1 0V11h1.5a.5.5 0 0 0 0-1H6V8.5z",fill:"currentColor"})],-1)],fe=t({name:"DocumentAdd16Regular",render:function(e,t){return a(),l("svg",he,be)}}),Ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},we=[i("g",{fill:"none"},[i("path",{d:"M3.5 2A1.5 1.5 0 0 0 2 3.5v2A1.5 1.5 0 0 0 3.5 7h2A1.5 1.5 0 0 0 7 5.5v-2A1.5 1.5 0 0 0 5.5 2h-2zM3 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2zM10.5 2A1.5 1.5 0 0 0 9 3.5v2A1.5 1.5 0 0 0 10.5 7h2A1.5 1.5 0 0 0 14 5.5v-2A1.5 1.5 0 0 0 12.5 2h-2zM10 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2zm-8 7A1.5 1.5 0 0 1 3.5 9h2A1.5 1.5 0 0 1 7 10.5v2A1.5 1.5 0 0 1 5.5 14h-2A1.5 1.5 0 0 1 2 12.5v-2zm1.5-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2zm7-1A1.5 1.5 0 0 0 9 10.5v2a1.5 1.5 0 0 0 1.5 1.5h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 12.5 9h-2zm-.5 1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2z",fill:"currentColor"})],-1)],ge=t({name:"Grid16Regular",render:function(e,t){return a(),l("svg",Ce,we)}}),ke=e=>{const{item:t}=s(e);return{iconName:n((()=>t.value.isDirectory?"folder":"text-x-preview")),titleDesc:n((()=>`Name: ${t.value.name}\nSize: ${R(t.value.size)}\nType: ${t.value.mimeType||"-"}\nLast Modified: ${T(t.value.lastModified,"YYYY-MM-DD HH:mm:ss")}\nCreated: ${T(t.value.birthtime,"YYYY-MM-DD HH:mm:ss")}\n`))}},xe=["title"],ye={class:"list-col c-filename"},De=["checked"],_e={class:"list-col c-size"},ze={class:"list-col c-time"},Me={class:"list-col c-time"},Ae=m(t({__name:"FileListItem",props:{item:{},active:{type:Boolean}},emits:["open","select"],setup(e,{emit:t}){const s=e,{iconName:n,titleDesc:m}=ke(s);return(e,t)=>(a(),l("button",{class:d(["btn-no-style file-list-item file-list-row",{active:e.active,hidden:e.item.hidden}]),onClick:t[4]||(t[4]=o((t=>e.$emit("select",{item:e.item,event:t})),["stop"])),onKeyup:t[5]||(t[5]=p((t=>e.$emit("open",e.item)),["enter"])),onDblclick:t[6]||(t[6]=o((t=>e.$emit("open",e.item)),["stop"])),title:c(m)},[i("div",ye,[i("input",{class:"file-checkbox",type:"checkbox",checked:e.active,onClick:t[0]||(t[0]=o((t=>e.$emit("select",{item:e.item,event:t,toggle:!0})),["stop"])),onDblclick:t[1]||(t[1]=o((()=>{}),["stop"]))},null,40,De),i("span",{class:"text-overflow filename-text",onClick:t[2]||(t[2]=o((t=>e.$emit("open",e.item)),["stop"])),onDblclick:t[3]||(t[3]=o((()=>{}),["stop"]))},r(e.item.isDirectory?"📁":"📄")+" "+r(e.item.name),33)]),i("div",_e,r(c(R)(e.item.size)),1),i("div",ze,r(c(T)(e.item.lastModified)),1),i("div",Me,r(c(T)(e.item.birthtime)),1)],42,xe))}}),[["__scopeId","data-v-2aacd2c5"]]),Se=["title"],Le=["checked"],Fe={class:"desktop-icon-image"},Pe=m(t({__name:"FileGridItem",props:{item:{},active:{type:Boolean}},emits:["open","select"],setup(e,{emit:t}){const s=e,{iconName:n,titleDesc:m}=ke(s);return(e,t)=>(a(),l("button",{class:d(["file-grid-item btn-no-style",{active:e.active,hidden:e.item.hidden}]),onClick:t[4]||(t[4]=o((t=>e.$emit("select",{item:e.item,event:t})),["stop"])),onKeyup:t[5]||(t[5]=p((t=>e.$emit("open",e.item)),["enter"])),onDblclick:t[6]||(t[6]=o((t=>e.$emit("open",e.item)),["stop"])),title:c(m)},[i("input",{class:"file-checkbox",type:"checkbox",checked:e.active,onClick:t[0]||(t[0]=o((t=>e.$emit("select",{item:e.item,event:t,toggle:!0})),["stop"])),onDblclick:t[1]||(t[1]=o((()=>{}),["stop"]))},null,40,Le),i("span",Fe,r(e.item.isDirectory?"📁":"📄"),1),i("span",{class:"desktop-icon-name",onClick:t[2]||(t[2]=o((t=>e.$emit("open",e.item)),["stop"])),onDblclick:t[3]||(t[3]=o((()=>{}),["stop"]))},r(e.item.name),33)],42,Se))}}),[["__scopeId","data-v-15426e57"]]);var je=(e=>(e.default="default",e.name="name",e.nameDesc="nameDesc",e.size="size",e.sizeDesc="sizeDesc",e.extension="extension",e.extensionDesc="extensionDesc",e.lastModified="lastModified",e.lastModifiedDesc="lastModifiedDesc",e.birthTime="birthTime",e.birthTimeDesc="birthTimeDesc",e))(je||{});const Re={default:(e,t)=>{const a=(e.isDirectory?1:2)-(t.isDirectory?1:2);return 0!==a?a:e.name.toLowerCase().localeCompare(t.name.toLowerCase())},name:(e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()),nameDesc:(e,t)=>-e.name.toLowerCase().localeCompare(t.name.toLowerCase()),size:(e,t)=>(e.size||0)-(t.size||0),sizeDesc:(e,t)=>-((e.size||0)-(t.size||0)),extension:(e,t)=>e.ext.toLowerCase().localeCompare(t.ext.toLowerCase()),extensionDesc:(e,t)=>-e.ext.toLowerCase().localeCompare(t.ext.toLowerCase()),lastModified:(e,t)=>e.lastModified-t.lastModified,lastModifiedDesc:(e,t)=>-(e.lastModified-t.lastModified),birthTime:(e,t)=>e.birthtime-t.birthtime,birthTimeDesc:(e,t)=>-(e.birthtime-t.birthtime)},Te=e=>(M("data-v-15c8ad28"),e=e(),A(),e),He={key:0,class:"os-loading-container _absolute"},$e={class:"explorer-actions vp-panel"},Oe={class:"action-group"},Ie=Te((()=>i("div",{class:"split-line"},null,-1))),Ye=["disabled"],Ne=["disabled"],Be=["disabled"],Ve=["disabled"],Ue=["disabled"],Ee=Te((()=>i("div",{class:"split-line"},null,-1))),Ke={class:"action-group"},Ge={class:"action-button-wrap"},We={key:0,class:"explorer-list-view"},Qe=z('<div class="vp-bg file-list-header file-list-row" data-v-15c8ad28><div class="list-col c-filename" style="padding-left:24px;" data-v-15c8ad28>Name</div><div class="list-col c-size" data-v-15c8ad28>Size</div><div class="list-col c-time" data-v-15c8ad28>Last Modified</div><div class="list-col c-time" data-v-15c8ad28>Created</div></div>',1),qe={key:1,class:"explorer-grid-view"},Xe=m(t({__name:"FileList",props:{files:{},isLoading:{type:Boolean},basePath:{}},emits:["open","update:isLoading","refresh"],setup(e,{emit:t}){const r=t,d=e,{basePath:p,files:m}=s(d),z=b(d,"isLoading",r),{isGridView:M,showSortMenu:A,sortOptions:S,filteredFiles:L}=(e=>{const t=u(!1),a=u(je.default);return{isGridView:t,showSortMenu:u(!1),sortOptions:n((()=>[{label:"Default",value:je.default},{label:"Name ▲",value:je.name},{label:"Name ▼",value:je.nameDesc},{label:"Size ▲",value:je.size},{label:"Size ▼",value:je.sizeDesc},{label:"Extension ▲",value:je.extension},{label:"Extension ▼",value:je.extensionDesc},{label:"Last Modified ▲",value:je.lastModified},{label:"Last Modified ▼",value:je.lastModifiedDesc},{label:"Created Time ▲",value:je.birthTime},{label:"Created Time ▼",value:je.birthTimeDesc}].map((e=>({label:e.label,props:{class:a.value===e.value?"active":"",onClick:()=>{a.value=e.value}}}))))),filteredFiles:n((()=>e.value.sort(Re[a.value])))}})(m),{selectedItems:F,selectedItemsSet:P,explorerContentRef:j,toggleSelect:R,toggleSelectAll:T,selectedPaths:W}=$({filteredFiles:L,basePath:p}),{enablePaste:Q,handleCut:q,handleCopy:X,handlePaste:J}=O({selectedPaths:W,basePath:p,isLoading:z,emit:r}),{handleCreateFile:Z,handleCreateFolder:ee,handleRename:le,confirmDelete:ce,ctxMenuOptions:de,ctxMenuRef:pe,handleShowCtxMenu:me,enableAction:ue}=(({isLoading:e,selectedPaths:t,basePath:a,selectedItems:l,enablePaste:i,handlePaste:s,handleCut:o,handleCopy:r,selectedItemsSet:c,emit:d})=>{const p=async()=>{try{const t=l.value[0],i=await v({title:"Rename",value:t.name});e.value=!0,await te.renameEntry({fromPath:ae(a.value+"/"+t.name),toPath:ae(a.value+"/"+i)}),d("refresh")}finally{e.value=!1}},m=async()=>{try{e.value=!0,await te.deleteEntry({path:t.value})}finally{e.value=!1,d("refresh")}},b=()=>{window.$dialog.warning({title:"Confirm Delete",content:"确认删除？此操作不可撤销",positiveText:"OK",negativeText:"Cancel",onPositiveClick:()=>{m()},onNegativeClick:()=>{}})},f=n((()=>{if(!l.value.length)return[{label:"Refresh",props:{onClick:()=>d("refresh")}},{label:"Paste",props:{onClick:s},disabled:!i.value}];const e=1===l.value.length;return[e&&{label:"Open",props:{onClick:()=>d("open",l.value[0])}},{split:!0},{label:"Cut",props:{onClick:o}},{label:"Copy",props:{onClick:r}},{split:!0},e&&{label:"Rename",props:{onClick:p}},{label:"Delete",props:{onClick:b}}].filter(Boolean)})),C=u(),w=n((()=>l.value.length>0));return{handleCreateFile:async()=>{try{const t=await v({title:"Create File",value:`file_${h(new Date).format("YYYYMMDD_HHmmss")}.txt`});e.value=!0,await te.createFile({path:ae(a.value+"/"+t),file:""}),d("refresh")}finally{e.value=!1}},handleCreateFolder:async()=>{try{const t=await v({title:"Create Folder",value:`folder_${h(new Date).format("YYYYMMDD_HHmmss")}`});e.value=!0,await te.createDir({path:ae(a.value+"/"+t)}),d("refresh")}finally{e.value=!1}},handleRename:p,doDeleteSelected:m,confirmDelete:b,ctxMenuOptions:f,ctxMenuRef:C,handleShowCtxMenu:(e,t)=>{e?c.value.has(e)||(l.value=[e]):l.value=[],C.value.isShow=!1,setTimeout((()=>{C.value.showMenu(t)}))},enableAction:w}})({isLoading:z,selectedPaths:W,basePath:p,selectedItems:F,enablePaste:Q,handlePaste:J,handleCut:q,handleCopy:X,selectedItemsSet:P,emit:r}),{handleOpenLocalDir:he,localDirHistoryOptions:be,isShowDirHistory:Ce}=I({emit:r});return(e,t)=>{const s=ne,n=oe,d=re;return a(),l("div",{class:"explorer-list-wrap",onContextmenu:t[16]||(t[16]=o((()=>{}),["prevent"]))},[f(g,{name:"fade"},{default:C((()=>[c(z)?(a(),l("div",He,[f(s)])):w("",!0)])),_:1}),i("div",$e,[i("div",Oe,[i("button",{class:"vp-button",onClick:t[0]||(t[0]=e=>c(Z)()),title:"Create Document"},[f(n,{size:"16"},{default:C((()=>[f(c(fe))])),_:1})]),i("button",{class:"vp-button",onClick:t[1]||(t[1]=(...e)=>c(ee)&&c(ee)(...e)),title:"Create Folder"},[f(n,{size:"16"},{default:C((()=>[f(c(N))])),_:1})]),Ie,i("button",{class:"vp-button",disabled:!c(ue),onClick:t[2]||(t[2]=(...e)=>c(q)&&c(q)(...e)),title:"Cut"},[f(n,{size:"16"},{default:C((()=>[f(c(B))])),_:1})],8,Ye),i("button",{class:"vp-button",disabled:!c(ue),onClick:t[3]||(t[3]=(...e)=>c(X)&&c(X)(...e)),title:"Copy"},[f(n,{size:"16"},{default:C((()=>[f(c(ie))])),_:1})],8,Ne),i("button",{class:"vp-button",disabled:!c(Q),onClick:t[4]||(t[4]=(...e)=>c(J)&&c(J)(...e)),title:"Paste"},[f(n,{size:"16"},{default:C((()=>[f(c(se))])),_:1})],8,Be),i("button",{class:"vp-button",disabled:1!==c(F).length,onClick:t[5]||(t[5]=(...e)=>c(le)&&c(le)(...e)),title:"Rename"},[f(n,{size:"16"},{default:C((()=>[f(c(V))])),_:1})],8,Ve),i("button",{class:"vp-button",disabled:!c(ue),onClick:t[6]||(t[6]=(...e)=>c(ce)&&c(ce)(...e)),title:"Delete"},[f(n,{size:"16"},{default:C((()=>[f(c(U))])),_:1})],8,Ue),Ee,f(d,{trigger:"hover",placement:"bottom-start",style:{padding:"0"}},{trigger:C((()=>[i("button",{class:"vp-button",title:"Open Local Folder",onClick:t[7]||(t[7]=(...e)=>c(he)&&c(he)(...e))},[f(n,{size:"16"},{default:C((()=>[f(c(E))])),_:1})])])),default:C((()=>[c(be).length?(a(),k(H,{key:0,options:c(be),"is-static":"",class:"vp-panel"},null,8,["options"])):w("",!0)])),_:1})]),i("div",Ke,[i("button",{onClick:t[8]||(t[8]=e=>M.value=!c(M)),class:"vp-button",title:"Toggle grid view"},[f(n,{size:"16"},{default:C((()=>[c(M)?(a(),k(c(ge),{key:0})):(a(),k(c(ve),{key:1}))])),_:1})]),i("div",Ge,[i("button",{class:"vp-button",title:"Toggle Sort",onClick:t[9]||(t[9]=e=>A.value=!0)},[f(n,{size:"16"},{default:C((()=>[f(c(K))])),_:1})]),f(g,{name:"fade-scale"},{default:C((()=>[f(H,{visible:c(A),"onUpdate:visible":t[10]||(t[10]=e=>x(A)?A.value=e:null),options:c(S)},null,8,["visible","options"])])),_:1})]),i("button",{class:"vp-button",onClick:t[11]||(t[11]=(...e)=>c(T)&&c(T)(...e)),title:"Toggle Select All"},[f(n,{size:"16"},{default:C((()=>[f(c(G))])),_:1})])])]),i("div",{ref_key:"explorerContentRef",ref:j,class:"explorer-content",onClick:t[14]||(t[14]=e=>F.value=[]),onContextmenu:t[15]||(t[15]=o((e=>c(me)(null,e)),["prevent","stop"]))},[c(M)?(a(),l("div",qe,[(a(!0),l(y,null,D(c(L),(e=>(a(),k(Pe,{class:"selectable",item:e,key:e.name,"data-name":e.name,active:c(P).has(e),onOpen:t[13]||(t[13]=e=>r("open",e)),onSelect:c(R),onContextmenu:o((t=>c(me)(e,t)),["prevent","stop"])},null,8,["item","data-name","active","onSelect","onContextmenu"])))),128))])):(a(),l("div",We,[Qe,(a(!0),l(y,null,D(c(L),(e=>(a(),k(Ae,{class:"selectable",item:e,key:e.name,"data-name":e.name,active:c(P).has(e),onOpen:t[12]||(t[12]=e=>r("open",e)),onSelect:c(R),onContextmenu:o((t=>c(me)(e,t)),["prevent","stop"])},null,8,["item","data-name","active","onSelect","onContextmenu"])))),128))])),(a(),k(_,{to:"body"},[f(g,{name:"fade"},{default:C((()=>[f(Y,{options:c(de),ref_key:"ctxMenuRef",ref:pe},null,8,["options"])])),_:1})]))],544)],32)}}}),[["__scopeId","data-v-15c8ad28"]]),Je={class:"explorer-wrap"},Ze={class:"explorer-header vp-panel"},et={class:"nav-address"},tt={class:"nav-wrap"},at=["disabled"],lt=["disabled"],it=["disabled"],st={class:"input-wrap"},nt={key:0,class:"star-list"},ot=["onClick","title","onContextmenu"],rt={class:"explorer-content-wrap _scrollbar_mini"},ct=t({__name:"index",setup(e){const{isLoading:t,filteredFiles:s,handleOpen:n,handleRefresh:d,basePathNormalized:p,starList:m,handleOpenPath:u,backHistory:v,goBack:h,forwardHistory:b,goForward:g,allowUp:_,goUp:z,basePath:M,toggleStar:A,isStared:P,filterText:j}=W({getListFn:async()=>await te.getList({path:M.value,isStat:!0}),openEntryFn:async({item:e,path:t})=>{if(console.log({item:e,path:t}),Number(e.size)>1048576)return void console.error("文件大于1MB，不支持预览");const a=await te.getFile({path:t});console.log(a)}});return S((()=>{d()})),(e,S)=>{const R=oe;return a(),l("div",Je,[i("div",Ze,[i("div",et,[i("div",tt,[i("button",{disabled:c(v).length<=1,class:"btn-action vp-button",onClick:S[0]||(S[0]=(...e)=>c(h)&&c(h)(...e)),title:"Back"},[f(R,{size:"16"},{default:C((()=>[f(c(Q))])),_:1})],8,at),i("button",{disabled:c(b).length<=0,class:"btn-action vp-button",onClick:S[1]||(S[1]=(...e)=>c(g)&&c(g)(...e)),title:"Forward"},[f(R,{size:"16"},{default:C((()=>[f(c(q))])),_:1})],8,lt),i("button",{class:"btn-action vp-button",disabled:!c(_),onClick:S[2]||(S[2]=(...e)=>c(z)&&c(z)(...e)),title:"Up"},[f(R,{size:"16"},{default:C((()=>[f(c(X))])),_:1})],8,it)]),i("div",st,[L(i("input",{placeholder:"Path","onUpdate:modelValue":S[3]||(S[3]=e=>x(M)?M.value=e:null),class:"input-addr vp-input",onChange:S[4]||(S[4]=(...e)=>c(d)&&c(d)(...e))},null,544),[[F,c(M)]]),i("button",{class:"vp-button btn-action",onClick:S[5]||(S[5]=(...e)=>c(d)&&c(d)(...e))},[f(R,{size:"16"},{default:C((()=>[f(c(J))])),_:1})]),i("button",{class:"vp-button btn-action",onClick:S[6]||(S[6]=(...e)=>c(A)&&c(A)(...e))},[f(R,{size:"16"},{default:C((()=>[c(P)?(a(),k(c(Z),{key:0})):(a(),k(c(ee),{key:1}))])),_:1})]),L(i("input",{placeholder:"Filter name","onUpdate:modelValue":S[7]||(S[7]=e=>x(j)?j.value=e:null),class:"input-filter vp-input"},null,512),[[F,c(j)]])])]),c(m).length?(a(),l("div",nt,[(a(!0),l(y,null,D(c(m),((e,t)=>(a(),l("div",{key:e},[i("button",{onClick:t=>c(u)(e),class:"vp-button",title:e,onContextmenu:o((()=>c(m).splice(t,1)),["prevent"])},r(c(le)(e)),41,ot)])))),128))])):w("",!0)]),i("div",rt,[f(Xe,{"is-loading":c(t),"onUpdate:isLoading":S[8]||(S[8]=e=>x(t)?t.value=e:null),files:c(s),onOpen:c(n),onRefresh:c(d),"base-path":c(p)},null,8,["is-loading","files","onOpen","onRefresh","base-path"])])])}}}),dt=t({__name:"FileManagerWindow",props:{visible:{type:Boolean,default:!0}},emits:["update:visible"],setup(t,{emit:l}){const i=b(t,"visible",l);return(t,l)=>(a(),k(e,{ref:"iframeWinRef",class:"iframe-browser-vp-window",visible:c(i),"onUpdate:visible":l[0]||(l[0]=e=>x(i)?i.value=e:null),wid:"iframe_browser","allow-maximum":"","init-win-options":{width:"600px",height:"500px"}},{titleBarLeft:C((()=>[P("🗃️ "+r(t.$t("common.file_explorer")),1)])),default:C((()=>[c(i)?(a(),k(ct,{key:0})):w("",!0)])),_:1},8,["visible"]))}}),pt={class:"dev-page _scrollbar_mini"},mt={class:"container"},ut=m(t({__name:"DevPage",setup(e){const t=j({isShowFileManager:!1}),s=n((()=>[{label:"isShowFileManager",key:"isShowFileManager",store:t,type:de.SWITCH}]));return(e,n)=>(a(),l("div",pt,[f(pe),i("div",mt,[f(ce,{"option-list":c(s)},null,8,["option-list"])]),f(dt,{visible:c(t).isShowFileManager,"onUpdate:visible":n[0]||(n[0]=e=>c(t).isShowFileManager=e)},null,8,["visible"])]))}}),[["__scopeId","data-v-579e069d"]]);export{ut as default};

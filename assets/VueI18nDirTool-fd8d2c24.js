import{a as cn,_ as un,i as _o}from"./translate-c621a7fc.js";import{d as Y,U as $,V as fn,W as Co,X as Mt,Y as Ve,Z as hn,r as F,$ as _e,a0 as z,a1 as Se,a2 as Z,a3 as Ue,a4 as H,a5 as P,a6 as L,a7 as O,a8 as ee,a9 as xe,aa as ve,ab as tt,ac as gn,ad as V,ae as Vt,af as nt,ag as ko,ah as xo,ai as So,aj as wo,ak as Ro,al as Ut,am as vn,an as kt,ao as bn,ap as $o,aq as ft,ar as To,as as No,B as Do,at as ht,au as Fo,o as xt,av as Po,aw as Ht,ax as Io,ay as Eo,az as Gt,aA as gt,aB as Ao,aC as Oo,aD as Le,w as me,aE as ge,aF as qt,aG as Ko,aH as Bo,aI as zo,aJ as Yt,aK as Lo,aL as jo,i as te,q as j,l as oe,aM as Qe,aN as pn,aO as Mo,aP as Vo,aQ as yn,s as mn,aR as Wt,M as _n,g as St,O as vt,A as ie,k as A,n as Cn,y as he,x as Q,F as we,P as Re,j as B,aS as yt,aT as Uo,D as kn,aU as Ho,G as xn,aV as mt,aW as _t,aX as Go,z as Ct,aY as Sn,a as wn,aZ as qo,a_ as Yo,u as Wo,b as Jo,L as Xo,N as Zo,K as Qo,T as er,m as bt,t as tr,v as nr,a$ as or,S as rr,b0 as ar,Q as lr,R as ir}from"./index-01d6e322.js";import{_ as Rn,d as Jt,u as sr,a as dr,b as cr}from"./use-file-drop-1088622e.js";function $n(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const ur=Y({name:"Switcher",render(){return $("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},$("path",{d:"M12 8l10 8l-10 8z"}))}}),fr=e=>{const{borderColor:t,primaryColor:n,baseColor:r,textColorDisabled:a,inputColorDisabled:i,textColor2:c,opacityDisabled:h,borderRadius:s,fontSizeSmall:g,fontSizeMedium:u,fontSizeLarge:k,heightSmall:m,heightMedium:f,heightLarge:y,lineHeight:b}=e;return Object.assign(Object.assign({},Co),{labelLineHeight:b,buttonHeightSmall:m,buttonHeightMedium:f,buttonHeightLarge:y,fontSizeSmall:g,fontSizeMedium:u,fontSizeLarge:k,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Mt(n,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:r,colorDisabled:i,colorActive:"#0000",textColor:c,textColorDisabled:a,dotColorActive:n,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:n,buttonBorderColorHover:t,buttonColor:r,buttonColorActive:r,buttonTextColor:c,buttonTextColorActive:n,buttonTextColorHover:n,opacityDisabled:h,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Mt(n,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:s})},hr={name:"Radio",common:fn,self:fr},gr=hr,vr={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},Tn=Ve("n-radio-group");function br(e){const t=hn(e,{mergedSize(T){const{size:S}=e;if(S!==void 0)return S;if(c){const{mergedSizeRef:{value:C}}=c;if(C!==void 0)return C}return T?T.mergedSize.value:"medium"},mergedDisabled(T){return!!(e.disabled||c!=null&&c.disabledRef.value||T!=null&&T.disabled.value)}}),{mergedSizeRef:n,mergedDisabledRef:r}=t,a=F(null),i=F(null),c=_e(Tn,null),h=F(e.defaultChecked),s=z(e,"checked"),g=Se(s,h),u=Z(()=>c?c.valueRef.value===e.value:g.value),k=Z(()=>{const{name:T}=e;if(T!==void 0)return T;if(c)return c.nameRef.value}),m=F(!1);function f(){if(c){const{doUpdateValue:T}=c,{value:S}=e;H(T,S)}else{const{onUpdateChecked:T,"onUpdate:checked":S}=e,{nTriggerFormInput:C,nTriggerFormChange:d}=t;T&&H(T,!0),S&&H(S,!0),C(),d(),h.value=!0}}function y(){r.value||u.value||f()}function b(){y()}function R(){m.value=!1}function D(){m.value=!0}return{mergedClsPrefix:c?c.mergedClsPrefixRef:Ue(e).mergedClsPrefixRef,inputRef:a,labelRef:i,mergedName:k,mergedDisabled:r,uncontrolledChecked:h,renderSafeChecked:u,focus:m,mergedSize:n,handleRadioInputChange:b,handleRadioInputBlur:R,handleRadioInputFocus:D}}const pr=P("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[L("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[O("checked",{backgroundColor:"var(--n-button-border-color-active)"}),O("disabled",{opacity:"var(--n-opacity-disabled)"})]),O("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[P("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),L("splitor",{height:"var(--n-height)"})]),P("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[P("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),L("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),ee("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[L("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),ee("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[L("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),xe("disabled",`
 cursor: pointer;
 `,[ee("&:hover",[L("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),xe("checked",{color:"var(--n-button-text-color-hover)"})]),O("focus",[ee("&:not(:active)",[L("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),O("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),O("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function yr(e,t,n){var r;const a=[];let i=!1;for(let c=0;c<e.length;++c){const h=e[c],s=(r=h.type)===null||r===void 0?void 0:r.name;s==="RadioButton"&&(i=!0);const g=h.props;if(s!=="RadioButton"){a.push(h);continue}if(c===0)a.push(h);else{const u=a[a.length-1].props,k=t===u.value,m=u.disabled,f=t===g.value,y=g.disabled,b=(k?2:0)+(m?0:1),R=(f?2:0)+(y?0:1),D={[`${n}-radio-group__splitor--disabled`]:m,[`${n}-radio-group__splitor--checked`]:k},T={[`${n}-radio-group__splitor--disabled`]:y,[`${n}-radio-group__splitor--checked`]:f},S=b<R?T:D;a.push($("div",{class:[`${n}-radio-group__splitor`,S]}),h)}}return{children:a,isButtonGroup:i}}const mr=Object.assign(Object.assign({},ve.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),_r=Y({name:"RadioGroup",props:mr,setup(e){const t=F(null),{mergedSizeRef:n,mergedDisabledRef:r,nTriggerFormChange:a,nTriggerFormInput:i,nTriggerFormBlur:c,nTriggerFormFocus:h}=hn(e),{mergedClsPrefixRef:s,inlineThemeDisabled:g,mergedRtlRef:u}=Ue(e),k=ve("Radio","-radio-group",pr,gr,e,s),m=F(e.defaultValue),f=z(e,"value"),y=Se(f,m);function b(d){const{onUpdateValue:v,"onUpdate:value":N}=e;v&&H(v,d),N&&H(N,d),m.value=d,a(),i()}function R(d){const{value:v}=t;v&&(v.contains(d.relatedTarget)||h())}function D(d){const{value:v}=t;v&&(v.contains(d.relatedTarget)||c())}tt(Tn,{mergedClsPrefixRef:s,nameRef:z(e,"name"),valueRef:y,disabledRef:r,mergedSizeRef:n,doUpdateValue:b});const T=gn("Radio",u,s),S=V(()=>{const{value:d}=n,{common:{cubicBezierEaseInOut:v},self:{buttonBorderColor:N,buttonBorderColorActive:E,buttonBorderRadius:I,buttonBoxShadow:ne,buttonBoxShadowFocus:U,buttonBoxShadowHover:se,buttonColorActive:Ae,buttonTextColor:re,buttonTextColorActive:de,buttonTextColorHover:ce,opacityDisabled:Oe,[Vt("buttonHeight",d)]:_,[Vt("fontSize",d)]:K}}=k.value;return{"--n-font-size":K,"--n-bezier":v,"--n-button-border-color":N,"--n-button-border-color-active":E,"--n-button-border-radius":I,"--n-button-box-shadow":ne,"--n-button-box-shadow-focus":U,"--n-button-box-shadow-hover":se,"--n-button-color-active":Ae,"--n-button-text-color":re,"--n-button-text-color-hover":ce,"--n-button-text-color-active":de,"--n-height":_,"--n-opacity-disabled":Oe}}),C=g?nt("radio-group",V(()=>n.value[0]),S,e):void 0;return{selfElRef:t,rtlEnabled:T,mergedClsPrefix:s,mergedValue:y,handleFocusout:D,handleFocusin:R,cssVars:g?void 0:S,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender}},render(){var e;const{mergedValue:t,mergedClsPrefix:n,handleFocusin:r,handleFocusout:a}=this,{children:i,isButtonGroup:c}=yr(ko(xo(this)),t,n);return(e=this.onRender)===null||e===void 0||e.call(this),$("div",{onFocusin:r,onFocusout:a,ref:"selfElRef",class:[`${n}-radio-group`,this.rtlEnabled&&`${n}-radio-group--rtl`,this.themeClass,c&&`${n}-radio-group--button-group`],style:this.cssVars},i)}}),Cr=Y({name:"RadioButton",props:vr,setup:br,render(){const{mergedClsPrefix:e}=this;return $("label",{class:[`${e}-radio-button`,this.mergedDisabled&&`${e}-radio-button--disabled`,this.renderSafeChecked&&`${e}-radio-button--checked`,this.focus&&[`${e}-radio-button--focus`]]},$("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),$("div",{class:`${e}-radio-button__state-border`}),So(this.$slots.default,t=>!t&&!this.label?null:$("div",{ref:"labelRef",class:`${e}-radio__label`},t||this.label)))}}),kr=e=>{const{baseColor:t,textColor2:n,bodyColor:r,cardColor:a,dividerColor:i,actionColor:c,scrollbarColor:h,scrollbarColorHover:s,invertedColor:g}=e;return{textColor:n,textColorInverted:"#FFF",color:r,colorEmbedded:c,headerColor:a,headerColorInverted:g,footerColor:c,footerColorInverted:g,headerBorderColor:i,headerBorderColorInverted:g,footerBorderColor:i,footerBorderColorInverted:g,siderBorderColor:i,siderBorderColorInverted:g,siderColor:a,siderColorInverted:g,siderToggleButtonBorder:`1px solid ${i}`,siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:Ut(r,h),siderToggleBarColorHover:Ut(r,s),__invertScrollbar:"true"}},xr=wo({name:"Layout",common:fn,peers:{Scrollbar:Ro},self:kr}),Nn=xr,Sr=Ve("n-layout-sider"),Dn={type:String,default:"static"},wr=P("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[P("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),O("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),Rr={embedded:Boolean,position:Dn,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},Fn=Ve("n-layout");function Pn(e){return Y({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},ve.props),Rr),setup(t){const n=F(null),r=F(null),{mergedClsPrefixRef:a,inlineThemeDisabled:i}=Ue(t),c=ve("Layout","-layout",wr,Nn,t,a);function h(b,R){if(t.nativeScrollbar){const{value:D}=n;D&&(R===void 0?D.scrollTo(b):D.scrollTo(b,R))}else{const{value:D}=r;D&&D.scrollTo(b,R)}}tt(Fn,t);let s=0,g=0;const u=b=>{var R;const D=b.target;s=D.scrollLeft,g=D.scrollTop,(R=t.onScroll)===null||R===void 0||R.call(t,b)};vn(()=>{if(t.nativeScrollbar){const b=n.value;b&&(b.scrollTop=g,b.scrollLeft=s)}});const k={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},m={scrollTo:h},f=V(()=>{const{common:{cubicBezierEaseInOut:b},self:R}=c.value;return{"--n-bezier":b,"--n-color":t.embedded?R.colorEmbedded:R.color,"--n-text-color":R.textColor}}),y=i?nt("layout",V(()=>t.embedded?"e":""),f,t):void 0;return Object.assign({mergedClsPrefix:a,scrollableElRef:n,scrollbarInstRef:r,hasSiderStyle:k,mergedTheme:c,handleNativeElScroll:u,cssVars:i?void 0:f,themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender},m)},render(){var t;const{mergedClsPrefix:n,hasSider:r}=this;(t=this.onRender)===null||t===void 0||t.call(this);const a=r?this.hasSiderStyle:void 0,i=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return $("div",{class:i,style:this.cssVars},this.nativeScrollbar?$("div",{ref:"scrollableElRef",class:`${n}-layout-scroll-container`,style:[this.contentStyle,a],onScroll:this.handleNativeElScroll},this.$slots):$(kt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,a]}),this.$slots))}})}const $r=Pn(!1),Tr=Pn(!0),Nr=P("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[O("bordered",[L("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),L("left-placement",[O("bordered",[L("border",`
 right: 0;
 `)])]),O("right-placement",`
 justify-content: flex-start;
 `,[O("bordered",[L("border",`
 left: 0;
 `)]),O("collapsed",[P("layout-toggle-button",[P("base-icon",`
 transform: rotate(180deg);
 `)]),P("layout-toggle-bar",[ee("&:hover",[L("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),L("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),P("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[P("base-icon",`
 transform: rotate(0);
 `)]),P("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[ee("&:hover",[L("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),L("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),O("collapsed",[P("layout-toggle-bar",[ee("&:hover",[L("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),L("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),P("layout-toggle-button",[P("base-icon",`
 transform: rotate(0);
 `)])]),P("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[P("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),P("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[L("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),L("bottom",`
 position: absolute;
 top: 34px;
 `),ee("&:hover",[L("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),L("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),L("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),ee("&:hover",[L("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),L("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),P("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),O("show-content",[P("layout-sider-scroll-container",{opacity:1})]),O("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),Dr=Y({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return $("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},$(bn,{clsPrefix:e},{default:()=>$($o,null)}))}}),Fr=Y({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return $("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},$("div",{class:`${e}-layout-toggle-bar__top`}),$("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),Pr={position:Dn,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},Ir=Y({name:"LayoutSider",props:Object.assign(Object.assign({},ve.props),Pr),setup(e){const t=_e(Fn),n=F(null),r=F(null),a=V(()=>ft(s.value?e.collapsedWidth:e.width)),i=V(()=>e.collapseMode!=="transform"?{}:{minWidth:ft(e.width)}),c=V(()=>t?t.siderPlacement:"left"),h=F(e.defaultCollapsed),s=Se(z(e,"collapsed"),h);function g(d,v){if(e.nativeScrollbar){const{value:N}=n;N&&(v===void 0?N.scrollTo(d):N.scrollTo(d,v))}else{const{value:N}=r;N&&N.scrollTo(d,v)}}function u(){const{"onUpdate:collapsed":d,onUpdateCollapsed:v,onExpand:N,onCollapse:E}=e,{value:I}=s;v&&H(v,!I),d&&H(d,!I),h.value=!I,I?N&&H(N):E&&H(E)}let k=0,m=0;const f=d=>{var v;const N=d.target;k=N.scrollLeft,m=N.scrollTop,(v=e.onScroll)===null||v===void 0||v.call(e,d)};vn(()=>{if(e.nativeScrollbar){const d=n.value;d&&(d.scrollTop=m,d.scrollLeft=k)}}),tt(Sr,{collapsedRef:s,collapseModeRef:z(e,"collapseMode")});const{mergedClsPrefixRef:y,inlineThemeDisabled:b}=Ue(e),R=ve("Layout","-layout-sider",Nr,Nn,e,y);function D(d){var v,N;d.propertyName==="max-width"&&(s.value?(v=e.onAfterLeave)===null||v===void 0||v.call(e):(N=e.onAfterEnter)===null||N===void 0||N.call(e))}const T={scrollTo:g},S=V(()=>{const{common:{cubicBezierEaseInOut:d},self:v}=R.value,{siderToggleButtonColor:N,siderToggleButtonBorder:E,siderToggleBarColor:I,siderToggleBarColorHover:ne}=v,U={"--n-bezier":d,"--n-toggle-button-color":N,"--n-toggle-button-border":E,"--n-toggle-bar-color":I,"--n-toggle-bar-color-hover":ne};return e.inverted?(U["--n-color"]=v.siderColorInverted,U["--n-text-color"]=v.textColorInverted,U["--n-border-color"]=v.siderBorderColorInverted,U["--n-toggle-button-icon-color"]=v.siderToggleButtonIconColorInverted,U.__invertScrollbar=v.__invertScrollbar):(U["--n-color"]=v.siderColor,U["--n-text-color"]=v.textColor,U["--n-border-color"]=v.siderBorderColor,U["--n-toggle-button-icon-color"]=v.siderToggleButtonIconColor),U}),C=b?nt("layout-sider",V(()=>e.inverted?"a":"b"),S,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:r,mergedClsPrefix:y,mergedTheme:R,styleMaxWidth:a,mergedCollapsed:s,scrollContainerStyle:i,siderPlacement:c,handleNativeElScroll:f,handleTransitionend:D,handleTriggerClick:u,inlineThemeDisabled:b,cssVars:S,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender},T)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:r}=this;return(e=this.onRender)===null||e===void 0||e.call(this),$("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:ft(this.width)}]},this.nativeScrollbar?$("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):$(kt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),r?r==="bar"?$(Fr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):$(Dr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?$("div",{class:`${t}-layout-sider__border`}):null)}}),Er=Object.assign(Object.assign({},ve.props),{trigger:String,xScrollable:Boolean,onScroll:Function,size:Number}),Ar=Y({name:"Scrollbar",props:Er,setup(){const e=F(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollBy(n[0],n[1])}}),{scrollbarInstRef:e})},render(){return $(kt,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),Or=Ar,In=Ve("n-tree-select"),He=Ve("n-tree"),Kr=Y({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=_e(He,null);return()=>{const{clsPrefix:n}=e;return $("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,e.expanded&&`${n}-tree-node-switcher--expanded`,e.hide&&`${n}-tree-node-switcher--hide`],onClick:e.onClick},$("div",{class:`${n}-tree-node-switcher__icon`},$(To,null,{default:()=>{if(e.loading)return $(No,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:r}=t;return r?r({expanded:e.expanded,selected:e.selected}):$(bn,{clsPrefix:n,key:"switcher"},{default:()=>$(ur,null)})}})))}}}),Br=Y({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=_e(He);function n(a){const{onCheck:i}=e;i&&i(a)}function r(a){e.indeterminate?n(!1):n(a)}return{handleUpdateValue:r,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:r,disabled:a,focusable:i,handleUpdateValue:c}=this;return $("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},$(Do,{focusable:i,disabled:a,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:r,onUpdateChecked:c}))}}),zr=Y({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:r,labelFieldRef:a}=_e(He),i=F(null);function c(s){const{onClick:g}=e;g&&g(s)}function h(s){c(s)}return{selfRef:i,renderLabel:t,renderPrefix:n,renderSuffix:r,labelField:a,handleClick:h}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:r=!1,selected:a=!1,renderLabel:i,renderPrefix:c,renderSuffix:h,handleClick:s,onDragstart:g,tmNode:{rawNode:u,rawNode:{prefix:k,suffix:m,[t]:f}}}=this;return $("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:s,draggable:g===void 0?void 0:!0,onDragstart:g}),c||k?$("div",{class:`${e}-tree-node-content__prefix`},c?c({option:u,selected:a,checked:r}):ht(k)):null,$("div",{class:`${e}-tree-node-content__text`},i?i({option:u,selected:a,checked:r}):ht(f)),h||m?$("div",{class:`${e}-tree-node-content__suffix`},h?h({option:u,selected:a,checked:r}):ht(m)):null)}});function Xt({position:e,offsetLevel:t,indent:n,el:r}){const a={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")a.left=0,a.top=0,a.bottom=0,a.borderRadius="inherit",a.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const i=e==="before"?"top":"bottom";a[i]=0,a.left=`${r.offsetLeft+6-t*n}px`,a.height="2px",a.backgroundColor="var(--n-drop-mark-color)",a.transformOrigin=i,a.borderRadius="1px",a.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return $("div",{style:a})}function Lr({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}function jr(e){return V(()=>e.leafOnly?"child":e.checkStrategy)}function ye(e,t){return!!e.rawNode[t]}function En(e,t,n,r){e==null||e.forEach(a=>{n(a),En(a[t],t,n,r),r(a)})}function Mr(e,t,n,r,a){const i=new Set,c=new Set,h=[];return En(e,r,s=>{if(h.push(s),a(t,s)){c.add(s[n]);for(let g=h.length-2;g>=0;--g)if(!i.has(h[g][n]))i.add(h[g][n]);else return}},()=>{h.pop()}),{expandedKeys:Array.from(i),highlightKeySet:c}}if(Fo&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Vr(e,t,n,r,a){const i=new Set,c=new Set,h=new Set,s=[],g=[],u=[];function k(f){f.forEach(y=>{if(u.push(y),t(n,y)){i.add(y[r]),h.add(y[r]);for(let R=u.length-2;R>=0;--R){const D=u[R][r];if(!c.has(D))c.add(D),i.has(D)&&i.delete(D);else break}}const b=y[a];b&&k(b),u.pop()})}k(e);function m(f,y){f.forEach(b=>{const R=b[r],D=i.has(R),T=c.has(R);if(!D&&!T)return;const S=b[a];if(S)if(D)y.push(b);else{s.push(R);const C=Object.assign(Object.assign({},b),{[a]:[]});y.push(C),m(S,C[a])}else y.push(b)})}return m(e,g),{filteredTree:g,highlightKeySet:h,expandedKeys:s}}const Ur=Y({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=_e(He),{droppingNodeParentRef:n,droppingMouseNodeRef:r,draggingNodeRef:a,droppingPositionRef:i,droppingOffsetLevelRef:c,nodePropsRef:h,indentRef:s,blockLineRef:g,checkboxPlacementRef:u,checkOnClickRef:k,disabledFieldRef:m}=t,f=Z(()=>!!e.tmNode.rawNode.checkboxDisabled),y=Z(()=>ye(e.tmNode,m.value)),b=Z(()=>t.disabledRef.value||y.value),R=V(()=>{const{value:_}=h;if(_)return _({option:e.tmNode.rawNode})}),D=F(null),T={value:null};xt(()=>{T.value=D.value.$el});function S(){const{tmNode:_}=e;if(!_.isLeaf&&!_.shallowLoaded){if(!t.loadingKeysRef.value.has(_.key))t.loadingKeysRef.value.add(_.key);else return;const{onLoadRef:{value:K}}=t;K&&K(_.rawNode).then(G=>{G!==!1&&t.handleSwitcherClick(_)}).finally(()=>{t.loadingKeysRef.value.delete(_.key)})}else t.handleSwitcherClick(_)}const C=Z(()=>!y.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),d=Z(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),v=Z(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),N=Z(()=>{const{value:_}=d;if(!_)return!1;const{value:K}=k;return typeof K=="boolean"?K:K(e.tmNode.rawNode)});function E(_){const{value:K}=t.expandOnClickRef,{value:G}=C,{value:$e}=N;if(!G&&!K&&!$e||Ht(_,"checkbox")||Ht(_,"switcher"))return;const{tmNode:Ge}=e;G&&t.handleSelect(Ge),K&&!Ge.isLeaf&&S(),$e&&U(!v.value)}function I(_){var K,G;g.value||(b.value||E(_),(G=(K=R.value)===null||K===void 0?void 0:K.onClick)===null||G===void 0||G.call(K,_))}function ne(_){var K,G;g.value&&(b.value||E(_),(G=(K=R.value)===null||K===void 0?void 0:K.onClick)===null||G===void 0||G.call(K,_))}function U(_){t.handleCheck(e.tmNode,_)}function se(_){t.handleDragStart({event:_,node:e.tmNode})}function Ae(_){_.currentTarget===_.target&&t.handleDragEnter({event:_,node:e.tmNode})}function re(_){_.preventDefault(),t.handleDragOver({event:_,node:e.tmNode})}function de(_){t.handleDragEnd({event:_,node:e.tmNode})}function ce(_){_.currentTarget===_.target&&t.handleDragLeave({event:_,node:e.tmNode})}function Oe(_){_.preventDefault(),i.value!==null&&t.handleDrop({event:_,node:e.tmNode,dropPosition:i.value})}return{showDropMark:Z(()=>{const{value:_}=a;if(!_)return;const{value:K}=i;if(!K)return;const{value:G}=r;if(!G)return;const{tmNode:$e}=e;return $e.key===G.key}),showDropMarkAsParent:Z(()=>{const{value:_}=n;if(!_)return!1;const{tmNode:K}=e,{value:G}=i;return G==="before"||G==="after"?_.key===K.key:!1}),pending:Z(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:Z(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:Z(()=>{var _;return(_=t.highlightKeySetRef.value)===null||_===void 0?void 0:_.has(e.tmNode.key)}),checked:v,indeterminate:Z(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:Z(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:Z(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:b,checkable:d,mergedCheckOnClick:N,checkboxDisabled:f,selectable:C,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:g,nodeProps:R,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:i,droppingOffsetLevel:c,indent:s,checkboxPlacement:u,contentInstRef:D,contentElRef:T,handleCheck:U,handleDrop:Oe,handleDragStart:se,handleDragEnter:Ae,handleDragOver:re,handleDragEnd:de,handleDragLeave:ce,handleLineClick:ne,handleContentClick:I,handleSwitcherClick:S}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:r,selectable:a,selected:i,checked:c,highlight:h,draggable:s,blockLine:g,indent:u,disabled:k,pending:m,internalScrollable:f,nodeProps:y,checkboxPlacement:b}=this,R=s&&!k?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,D=f?$n(e.key):void 0,T=b==="right",S=n?$(Br,{right:T,focusable:this.checkboxFocusable,disabled:k||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return $("div",Object.assign({class:`${t}-tree-node-wrapper`},R),$("div",Object.assign({},g?y:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:i,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:h,[`${t}-tree-node--pending`]:m,[`${t}-tree-node--disabled`]:k,[`${t}-tree-node--selectable`]:a,[`${t}-tree-node--clickable`]:a||r||this.mergedCheckOnClick},y==null?void 0:y.class],"data-key":D,draggable:s&&g,onClick:this.handleLineClick,onDragstart:s&&g&&!k?this.handleDragStart:void 0}),Po(e.level,$("div",{class:`${t}-tree-node-indent`},$("div",{style:{width:`${u}px`}}))),$(Kr,{clsPrefix:t,expanded:this.expanded,selected:i,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),T?null:S,$(zr,{ref:"contentInstRef",clsPrefix:t,checked:c,selected:i,onClick:this.handleContentClick,nodeProps:g?void 0:y,onDragstart:s&&!g&&!k?this.handleDragStart:void 0,tmNode:e}),s?this.showDropMark?Xt({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:u}):this.showDropMarkAsParent?Xt({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:u}):null:null,T?S:null))}}),An=Ur;function Hr({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:r,handleSelect:a,handleSwitcherClick:i}){const{value:c}=r,h=_e(In,null),s=h?h.pendingNodeKeyRef:F(c.length?c[c.length-1]:null);function g(u){if(!e.keyboard)return;const{value:k}=s;if(k===null){if((u.key==="ArrowDown"||u.key==="ArrowUp")&&u.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(u.key)&&k===null){const{value:m}=t;let f=0;for(;f<m.length;){if(!m[f].disabled){s.value=m[f].key;break}f+=1}}}else{const{value:m}=t;let f=m.findIndex(y=>y.key===k);if(!~f)return;if(u.key==="Enter")a(m[f]);else if(u.key==="ArrowDown")for(u.preventDefault(),f+=1;f<m.length;){if(!m[f].disabled){s.value=m[f].key;break}f+=1}else if(u.key==="ArrowUp")for(u.preventDefault(),f-=1;f>=0;){if(!m[f].disabled){s.value=m[f].key;break}f-=1}else if(u.key==="ArrowLeft"){const y=m[f];if(y.isLeaf||!n.value.includes(k)){const b=y.getParent();b&&(s.value=b.key)}else i(y)}else if(u.key==="ArrowRight"){const y=m[f];if(y.isLeaf)return;if(!n.value.includes(k))i(y);else for(f+=1;f<m.length;){if(!m[f].disabled){s.value=m[f].key;break}f+=1}}}}return{pendingNodeKeyRef:s,handleKeydown:g}}const Gr=Y({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return $(Eo,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>$("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:Io(this.height)}},this.nodes.map(t=>$(An,{clsPrefix:e,tmNode:t})))})}}),qr=P("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[ee("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),ee(">",[P("tree-node",[ee("&:first-child",{marginTop:0})])]),P("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),P("tree-motion-wrapper",[O("expand",[Gt({duration:"0.2s"})]),O("collapse",[Gt({duration:"0.2s",reverse:!0})])]),P("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),P("tree-node",`
 transform: translate3d(0,0,0);
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[O("highlight",[P("tree-node-content",[L("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),O("disabled",[P("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),xe("disabled",[O("clickable",[P("tree-node-content",`
 cursor: pointer;
 `)])])]),O("block-node",[P("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),xe("block-line",[P("tree-node",[xe("disabled",[P("tree-node-content",[ee("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),O("selectable",[P("tree-node-content",[ee("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),O("pending",[P("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),O("selected",[P("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),O("block-line",[P("tree-node",[xe("disabled",[ee("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),O("pending",`
 background-color: var(--n-node-color-hover);
 `),O("selectable",[xe("selected",[ee("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),O("selected",{backgroundColor:"var(--n-node-color-active)"})]),O("disabled",`
 cursor: not-allowed;
 `)])]),P("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[L("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[P("icon",[gt()]),P("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[gt()]),P("base-icon",[gt()])]),O("hide",{visibility:"hidden"}),O("expanded",{transform:"rotate(90deg)"})]),P("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[O("right","margin-left: 4px;")]),O("checkable",[P("tree-node-content",`
 padding: 0 6px;
 `)]),P("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[ee("&:last-child",{marginBottom:0}),L("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),L("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),L("suffix",`
 display: inline-flex;
 `)]),L("empty","margin: auto;")]);var Yr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function h(u){try{g(r.next(u))}catch(k){c(k)}}function s(u){try{g(r.throw(u))}catch(k){c(k)}}function g(u){u.done?i(u.value):a(u.value).then(h,s)}g((r=r.apply(e,t||[])).next())})};const et=30;function Wr(e,t,n,r){return{getIsGroup(){return!1},getKey(i){return i[e]},getChildren:r||(i=>i[t]),getDisabled(i){return!!(i[n]||i.checkboxDisabled)}}}const Jr={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Xr=Object.assign(Object.assign(Object.assign(Object.assign({},ve.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:Lr},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Jr),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Zr=Y({name:"Tree",props:Xr,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=Ue(e),a=gn("Tree",r,t),i=ve("Tree","-tree",qr,Ao,e,t),c=F(null),h=F(null),s=F(null);function g(){var o;return(o=s.value)===null||o===void 0?void 0:o.listElRef}function u(){var o;return(o=s.value)===null||o===void 0?void 0:o.itemsElRef}const k=V(()=>{const{filter:o}=e;if(o)return o;const{labelField:l}=e;return(p,x)=>{if(!p.length)return!0;const w=x[l];return typeof w=="string"?w.toLowerCase().includes(p.toLowerCase()):!1}}),m=V(()=>{const{pattern:o}=e;return o?!o.length||!k.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Vr(e.data,k.value,o,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),f=V(()=>Oo(e.showIrrelevantNodes?e.data:m.value.filteredTree,Wr(e.keyField,e.childrenField,e.disabledField,e.getChildren))),y=_e(In,null),b=e.internalTreeSelect?y.dataTreeMate:f,{watchProps:R}=e,D=F([]);R!=null&&R.includes("defaultCheckedKeys")?Le(()=>{D.value=e.defaultCheckedKeys}):D.value=e.defaultCheckedKeys;const T=z(e,"checkedKeys"),S=Se(T,D),C=V(()=>b.value.getCheckedKeys(S.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),d=jr(e),v=V(()=>C.value.checkedKeys),N=V(()=>{const{indeterminateKeys:o}=e;return o!==void 0?o:C.value.indeterminateKeys}),E=F([]);R!=null&&R.includes("defaultSelectedKeys")?Le(()=>{E.value=e.defaultSelectedKeys}):E.value=e.defaultSelectedKeys;const I=z(e,"selectedKeys"),ne=Se(I,E),U=F([]),se=o=>{U.value=e.defaultExpandAll?b.value.getNonLeafKeys():o===void 0?e.defaultExpandedKeys:o};R!=null&&R.includes("defaultExpandedKeys")?Le(()=>{se(void 0)}):Le(()=>{se(e.defaultExpandedKeys)});const Ae=z(e,"expandedKeys"),re=Se(Ae,U),de=V(()=>f.value.getFlattenedNodes(re.value)),{pendingNodeKeyRef:ce,handleKeydown:Oe}=Hr({props:e,mergedSelectedKeysRef:ne,fNodesRef:de,mergedExpandedKeysRef:re,handleSelect:dt,handleSwitcherClick:Ot});let _=null,K=null;const G=F(new Set),$e=V(()=>e.internalHighlightKeySet||m.value.highlightKeySet),Ge=Se($e,G),qe=F(new Set),Gn=V(()=>re.value.filter(o=>!qe.value.has(o)));let Pt=0;const Ke=F(null),Ye=F(null),We=F(null),Je=F(null),Xe=F(0),qn=V(()=>{const{value:o}=Ye;return o?o.parent:null});me(z(e,"data"),()=>{qe.value.clear(),ce.value=null,ze()},{deep:!1});let lt=!1;const it=()=>{lt=!0,ge(()=>{lt=!1})};let Be;me(z(e,"pattern"),(o,l)=>{if(e.showIrrelevantNodes)if(Be=void 0,o){const{expandedKeys:p,highlightKeySet:x}=Mr(e.data,e.pattern,e.keyField,e.childrenField,k.value);G.value=x,it(),Ne(p,le(p),{node:null,action:"filter"})}else G.value=new Set;else if(!o.length)Be!==void 0&&(it(),Ne(Be,le(Be),{node:null,action:"filter"}));else{l.length||(Be=re.value);const{expandedKeys:p}=m.value;p!==void 0&&(it(),Ne(p,le(p),{node:null,action:"filter"}))}});function It(o){return Yr(this,void 0,void 0,function*(){const{onLoad:l}=e;if(!l){yield Promise.resolve();return}const{value:p}=qe;if(!p.has(o.key)){p.add(o.key);try{(yield l(o.rawNode))===!1&&De()}catch(x){console.error(x),De()}p.delete(o.key)}})}Le(()=>{var o;const{value:l}=f;if(!l)return;const{getNode:p}=l;(o=re.value)===null||o===void 0||o.forEach(x=>{const w=p(x);w&&!w.shallowLoaded&&It(w)})});const Te=F(!1),be=F([]);me(Gn,(o,l)=>{if(!e.animated||lt){ge(Ze);return}const p=new Set(l);let x=null,w=null;for(const q of o)if(!p.has(q)){if(x!==null)return;x=q}const J=new Set(o);for(const q of l)if(!J.has(q)){if(w!==null)return;w=q}if(x===null&&w===null)return;const{virtualScroll:W}=e,fe=(W?s.value.listElRef:c.value).offsetHeight,ke=Math.ceil(fe/et)+1;let ue;if(x!==null&&(ue=l),w!==null&&(ue===void 0?ue=o:ue=ue.filter(q=>q!==w)),Te.value=!0,be.value=f.value.getFlattenedNodes(ue),x!==null){const q=be.value.findIndex(X=>X.key===x);if(~q){const X=be.value[q].children;if(X){const pe=qt(X,o);be.value.splice(q+1,0,{__motion:!0,mode:"expand",height:W?pe.length*et:void 0,nodes:W?pe.slice(0,ke):pe})}}}if(w!==null){const q=be.value.findIndex(X=>X.key===w);if(~q){const X=be.value[q].children;if(!X)return;Te.value=!0;const pe=qt(X,o);be.value.splice(q+1,0,{__motion:!0,mode:"collapse",height:W?pe.length*et:void 0,nodes:W?pe.slice(0,ke):pe})}}});const Yn=V(()=>Ko(de.value)),Wn=V(()=>Te.value?be.value:de.value);function Ze(){const{value:o}=h;o&&o.sync()}function Jn(){Te.value=!1,e.virtualScroll&&ge(Ze)}function le(o){const{getNode:l}=b.value;return o.map(p=>{var x;return((x=l(p))===null||x===void 0?void 0:x.rawNode)||null})}function Ne(o,l,p){const{"onUpdate:expandedKeys":x,onUpdateExpandedKeys:w}=e;U.value=o,x&&H(x,o,l,p),w&&H(w,o,l,p)}function Et(o,l,p){const{"onUpdate:checkedKeys":x,onUpdateCheckedKeys:w}=e;D.value=o,w&&H(w,o,l,p),x&&H(x,o,l,p)}function Xn(o,l){const{"onUpdate:indeterminateKeys":p,onUpdateIndeterminateKeys:x}=e;p&&H(p,o,l),x&&H(x,o,l)}function st(o,l,p){const{"onUpdate:selectedKeys":x,onUpdateSelectedKeys:w}=e;E.value=o,w&&H(w,o,l,p),x&&H(x,o,l,p)}function Zn(o){const{onDragenter:l}=e;l&&H(l,o)}function Qn(o){const{onDragleave:l}=e;l&&H(l,o)}function eo(o){const{onDragend:l}=e;l&&H(l,o)}function to(o){const{onDragstart:l}=e;l&&H(l,o)}function no(o){const{onDragover:l}=e;l&&H(l,o)}function oo(o){const{onDrop:l}=e;l&&H(l,o)}function ze(){ro(),Ce()}function ro(){Ke.value=null}function Ce(){Xe.value=0,Ye.value=null,We.value=null,Je.value=null,De()}function De(){_&&(window.clearTimeout(_),_=null),K=null}function At(o,l){if(e.disabled||ye(o,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){dt(o);return}const p=l?"check":"uncheck",{checkedKeys:x,indeterminateKeys:w}=b.value[p](o.key,v.value,{cascade:e.cascade,checkStrategy:d.value,allowNotLoaded:e.allowCheckingNotLoaded});Et(x,le(x),{node:o.rawNode,action:p}),Xn(w,le(w))}function ao(o){if(e.disabled)return;const{key:l}=o,{value:p}=re,x=p.findIndex(w=>w===l);if(~x){const w=Array.from(p);w.splice(x,1),Ne(w,le(w),{node:o.rawNode,action:"collapse"})}else{const w=f.value.getNode(l);if(!w||w.isLeaf)return;let J;if(e.accordion){const W=new Set(o.siblings.map(({key:fe})=>fe));J=p.filter(fe=>!W.has(fe)),J.push(l)}else J=p.concat(l);Ne(J,le(J),{node:o.rawNode,action:"expand"})}}function Ot(o){e.disabled||Te.value||ao(o)}function dt(o){if(!(e.disabled||!e.selectable)){if(ce.value=o.key,e.internalUnifySelectCheck){const{value:{checkedKeys:l,indeterminateKeys:p}}=C;e.multiple?At(o,!(l.includes(o.key)||p.includes(o.key))):Et([o.key],le([o.key]),{node:o.rawNode,action:"check"})}if(e.multiple){const l=Array.from(ne.value),p=l.findIndex(x=>x===o.key);~p?e.cancelable&&l.splice(p,1):~p||l.push(o.key),st(l,le(l),{node:o.rawNode,action:~p?"unselect":"select"})}else ne.value.includes(o.key)?e.cancelable&&st([],[],{node:o.rawNode,action:"unselect"}):st([o.key],le([o.key]),{node:o.rawNode,action:"select"})}}function lo(o){if(_&&(window.clearTimeout(_),_=null),o.isLeaf)return;K=o.key;const l=()=>{if(K!==o.key)return;const{value:p}=We;if(p&&p.key===o.key&&!re.value.includes(o.key)){const x=re.value.concat(o.key);Ne(x,le(x),{node:o.rawNode,action:"expand"})}_=null,K=null};o.shallowLoaded?_=window.setTimeout(()=>{l()},1e3):_=window.setTimeout(()=>{It(o).then(()=>{l()})},1e3)}function io({event:o,node:l}){!e.draggable||e.disabled||ye(l,e.disabledField)||(Kt({event:o,node:l},!1),Zn({event:o,node:l.rawNode}))}function so({event:o,node:l}){!e.draggable||e.disabled||ye(l,e.disabledField)||Qn({event:o,node:l.rawNode})}function co(o){o.target===o.currentTarget&&Ce()}function uo({event:o,node:l}){ze(),!(!e.draggable||e.disabled||ye(l,e.disabledField))&&eo({event:o,node:l.rawNode})}function fo({event:o,node:l}){!e.draggable||e.disabled||ye(l,e.disabledField)||(Pt=o.clientX,Ke.value=l,to({event:o,node:l.rawNode}))}function Kt({event:o,node:l},p=!0){var x;if(!e.draggable||e.disabled||ye(l,e.disabledField))return;const{value:w}=Ke;if(!w)return;const{allowDrop:J,indent:W}=e;p&&no({event:o,node:l.rawNode});const fe=o.currentTarget,{height:ke,top:ue}=fe.getBoundingClientRect(),q=o.clientY-ue;let X;J({node:l.rawNode,dropPosition:"inside",phase:"drag"})?q<=8?X="before":q>=ke-8?X="after":X="inside":q<=ke/2?X="before":X="after";const{value:mo}=Yn;let M,ae;const ct=mo(l.key);if(ct===null){Ce();return}let zt=!1;X==="inside"?(M=l,ae="inside"):X==="before"?l.isFirstChild?(M=l,ae="before"):(M=de.value[ct-1],ae="after"):(M=l,ae="after"),!M.isLeaf&&re.value.includes(M.key)&&(zt=!0,ae==="after"&&(M=de.value[ct+1],M?ae="before":(M=l,ae="inside")));const Lt=M;if(We.value=Lt,!zt&&w.isLastChild&&w.key===M.key&&(ae="after"),ae==="after"){let jt=Pt-o.clientX,ut=0;for(;jt>=W/2&&M.parent!==null&&M.isLastChild&&ut<1;)jt-=W,ut+=1,M=M.parent;Xe.value=ut}else Xe.value=0;if((w.contains(M)||ae==="inside"&&((x=w.parent)===null||x===void 0?void 0:x.key)===M.key)&&!(w.key===Lt.key&&w.key===M.key)){Ce();return}if(!J({node:M.rawNode,dropPosition:ae,phase:"drag"})){Ce();return}if(w.key===M.key)De();else if(K!==M.key)if(ae==="inside"){if(e.expandOnDragenter){if(lo(M),!M.shallowLoaded&&K!==M.key){ze();return}}else if(!M.shallowLoaded){ze();return}}else De();else ae!=="inside"&&De();Je.value=ae,Ye.value=M}function ho({event:o,node:l,dropPosition:p}){if(!e.draggable||e.disabled||ye(l,e.disabledField))return;const{value:x}=Ke,{value:w}=Ye,{value:J}=Je;if(!(!x||!w||!J)&&e.allowDrop({node:w.rawNode,dropPosition:J,phase:"drag"})&&x.key!==w.key){if(J==="before"){const W=x.getNext({includeDisabled:!0});if(W&&W.key===w.key){Ce();return}}if(J==="after"){const W=x.getPrev({includeDisabled:!0});if(W&&W.key===w.key){Ce();return}}oo({event:o,node:w.rawNode,dragNode:x.rawNode,dropPosition:p}),ze()}}function go(){Ze()}function vo(){Ze()}function bo(o){var l;if(e.virtualScroll||e.internalScrollable){const{value:p}=h;if(!((l=p==null?void 0:p.containerRef)===null||l===void 0)&&l.contains(o.relatedTarget))return;ce.value=null}else{const{value:p}=c;if(p!=null&&p.contains(o.relatedTarget))return;ce.value=null}}me(ce,o=>{var l,p;if(o!==null){if(e.virtualScroll)(l=s.value)===null||l===void 0||l.scrollTo({key:o});else if(e.internalScrollable){const{value:x}=h;if(x===null)return;const w=(p=x.contentRef)===null||p===void 0?void 0:p.querySelector(`[data-key="${$n(o)}"]`);if(!w)return;x.scrollTo({el:w})}}}),tt(He,{loadingKeysRef:qe,highlightKeySetRef:Ge,displayedCheckedKeysRef:v,displayedIndeterminateKeysRef:N,mergedSelectedKeysRef:ne,mergedExpandedKeysRef:re,mergedThemeRef:i,mergedCheckStrategyRef:d,nodePropsRef:z(e,"nodeProps"),disabledRef:z(e,"disabled"),checkableRef:z(e,"checkable"),selectableRef:z(e,"selectable"),expandOnClickRef:z(e,"expandOnClick"),onLoadRef:z(e,"onLoad"),draggableRef:z(e,"draggable"),blockLineRef:z(e,"blockLine"),indentRef:z(e,"indent"),cascadeRef:z(e,"cascade"),checkOnClickRef:z(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:We,droppingNodeParentRef:qn,draggingNodeRef:Ke,droppingPositionRef:Je,droppingOffsetLevelRef:Xe,fNodesRef:de,pendingNodeKeyRef:ce,disabledFieldRef:z(e,"disabledField"),internalScrollableRef:z(e,"internalScrollable"),internalCheckboxFocusableRef:z(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:z(e,"renderLabel"),renderPrefixRef:z(e,"renderPrefix"),renderSuffixRef:z(e,"renderSuffix"),renderSwitcherIconRef:z(e,"renderSwitcherIcon"),labelFieldRef:z(e,"labelField"),multipleRef:z(e,"multiple"),handleSwitcherClick:Ot,handleDragEnd:uo,handleDragEnter:io,handleDragLeave:so,handleDragStart:fo,handleDrop:ho,handleDragOver:Kt,handleSelect:dt,handleCheck:At});function po(o){var l;(l=s.value)===null||l===void 0||l.scrollTo(o)}const yo={handleKeydown:Oe,scrollTo:po,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:o}=C.value;return{keys:o,options:le(o)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:o}=C.value;return{keys:o,options:le(o)}}},Bt=V(()=>{const{common:{cubicBezierEaseInOut:o},self:{fontSize:l,nodeBorderRadius:p,nodeColorHover:x,nodeColorPressed:w,nodeColorActive:J,arrowColor:W,loadingColor:fe,nodeTextColor:ke,nodeTextColorDisabled:ue,dropMarkColor:q}}=i.value;return{"--n-arrow-color":W,"--n-loading-color":fe,"--n-bezier":o,"--n-font-size":l,"--n-node-border-radius":p,"--n-node-color-active":J,"--n-node-color-hover":x,"--n-node-color-pressed":w,"--n-node-text-color":ke,"--n-node-text-color-disabled":ue,"--n-drop-mark-color":q}}),Fe=n?nt("tree",void 0,Bt,e):void 0;return Object.assign(Object.assign({},yo),{mergedClsPrefix:t,mergedTheme:i,rtlEnabled:a,fNodes:Wn,aip:Te,selfElRef:c,virtualListInstRef:s,scrollbarInstRef:h,handleFocusout:bo,handleDragLeaveTree:co,handleScroll:go,getScrollContainer:g,getScrollContent:u,handleAfterEnter:Jn,handleResize:vo,cssVars:n?void 0:Bt,themeClass:Fe==null?void 0:Fe.themeClass,onRender:Fe==null?void 0:Fe.onRender})},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:r,blockNode:a,blockLine:i,draggable:c,disabled:h,internalFocusable:s,checkable:g,handleKeydown:u,rtlEnabled:k,handleFocusout:m}=this,f=s&&!h,y=f?"0":void 0,b=[`${r}-tree`,k&&`${r}-tree--rtl`,g&&`${r}-tree--checkable`,(i||a)&&`${r}-tree--block-node`,i&&`${r}-tree--block-line`],R=T=>"__motion"in T?$(Gr,{height:T.height,nodes:T.nodes,clsPrefix:r,mode:T.mode,onAfterEnter:this.handleAfterEnter}):$(An,{key:T.key,tmNode:T,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:T,internalScrollablePadding:S}=this,C=Bo(S||"0");return $(Yt,{ref:"scrollbarInstRef",onDragleave:c?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:b,theme:T.peers.Scrollbar,themeOverrides:T.peerOverrides.Scrollbar,tabindex:y,onKeydown:f?u:void 0,onFocusout:f?m:void 0},{default:()=>{var d;return(d=this.onRender)===null||d===void 0||d.call(this),$(zo,{ref:"virtualListInstRef",items:this.fNodes,itemSize:et,ignoreItemResize:this.aip,paddingTop:C.top,paddingBottom:C.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:C.left,paddingRight:C.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:v})=>R(v)})}})}const{internalScrollable:D}=this;return b.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),D?$(Yt,{class:b,tabindex:y,onKeydown:f?u:void 0,onFocusout:f?m:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>$("div",{onDragleave:c?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(R))}):$("div",{class:b,tabindex:y,ref:"selfElRef",style:this.cssVars,onKeydown:f?u:void 0,onFocusout:f?m:void 0,onDragleave:c?this.handleDragLeaveTree:void 0},t.length?t.map(R):Lo(this.$slots.empty,()=>[$(jo,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),Qr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ea=oe("g",{fill:"none"},[oe("path",{d:"M11.5 8H16v-.586a1.496 1.496 0 0 0-.057-.41L15.942 7a1.5 1.5 0 0 0-.381-.646l-3.915-3.915A1.5 1.5 0 0 0 10.586 2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h2.221l-.013-.026A1.856 1.856 0 0 1 8.003 17H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4v3.5A1.5 1.5 0 0 0 11.5 8zm0-1a.5.5 0 0 1-.5-.5V3.207L14.793 7H11.5zm3.31 2.548a1.87 1.87 0 1 1 2.644 2.645l-4.83 4.829a2.197 2.197 0 0 1-1.02.578l-1.498.374a.89.89 0 0 1-1.079-1.078l.375-1.498c.096-.386.296-.74.578-1.02l4.83-4.83z",fill:"currentColor"})],-1),ta=[ea],na=Y({name:"DocumentEdit20Regular",render:function(t,n){return j(),te("svg",Qr,ta)}}),oa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ra=oe("g",{fill:"none"},[oe("path",{d:"M5 3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.621a2 2 0 0 0-.586-1.414l-1.621-1.621A2 2 0 0 0 11.379 3H5zM4 5a1 1 0 0 1 1-1h1v1.5A1.5 1.5 0 0 0 7.5 7h2A1.5 1.5 0 0 0 11 5.5V4h.379a1 1 0 0 1 .707.293l1.621 1.621a1 1 0 0 1 .293.707V13a1 1 0 0 1-1 1v-3.5A1.5 1.5 0 0 0 11.5 9h-5A1.5 1.5 0 0 0 5 10.5V14a1 1 0 0 1-1-1V5zm3 .5V4h3v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5zm5 5V14H6v-3.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5zM8.5 17a3.489 3.489 0 0 1-2.45-1h7.45a2.5 2.5 0 0 0 2.5-2.5V6.05c.618.632 1 1.497 1 2.45v5a3.5 3.5 0 0 1-3.5 3.5h-5z",fill:"currentColor"})],-1),aa=[ra],la=Y({name:"SaveMultiple20Regular",render:function(t,n){return j(),te("svg",oa,aa)}});var ia=Array.isArray,wt=ia,sa=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,da=sa,ca=da,ua=typeof self=="object"&&self&&self.Object===Object&&self,fa=ca||ua||Function("return this")(),Rt=fa,ha=Rt,ga=ha.Symbol,$t=ga,Zt=$t,On=Object.prototype,va=On.hasOwnProperty,ba=On.toString,je=Zt?Zt.toStringTag:void 0;function pa(e){var t=va.call(e,je),n=e[je];try{e[je]=void 0;var r=!0}catch{}var a=ba.call(e);return r&&(t?e[je]=n:delete e[je]),a}var ya=pa,ma=Object.prototype,_a=ma.toString;function Ca(e){return _a.call(e)}var ka=Ca,Qt=$t,xa=ya,Sa=ka,wa="[object Null]",Ra="[object Undefined]",en=Qt?Qt.toStringTag:void 0;function $a(e){return e==null?e===void 0?Ra:wa:en&&en in Object(e)?xa(e):Sa(e)}var Kn=$a;function Ta(e){return e!=null&&typeof e=="object"}var Na=Ta,Da=Kn,Fa=Na,Pa="[object Symbol]";function Ia(e){return typeof e=="symbol"||Fa(e)&&Da(e)==Pa}var Tt=Ia,Ea=wt,Aa=Tt,Oa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ka=/^\w*$/;function Ba(e,t){if(Ea(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Aa(e)?!0:Ka.test(e)||!Oa.test(e)||t!=null&&e in Object(t)}var za=Ba;function La(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nt=La,ja=Kn,Ma=Nt,Va="[object AsyncFunction]",Ua="[object Function]",Ha="[object GeneratorFunction]",Ga="[object Proxy]";function qa(e){if(!Ma(e))return!1;var t=ja(e);return t==Ua||t==Ha||t==Va||t==Ga}var Ya=qa,Wa=Rt,Ja=Wa["__core-js_shared__"],Xa=Ja,pt=Xa,tn=function(){var e=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Za(e){return!!tn&&tn in e}var Qa=Za,el=Function.prototype,tl=el.toString;function nl(e){if(e!=null){try{return tl.call(e)}catch{}try{return e+""}catch{}}return""}var ol=nl,rl=Ya,al=Qa,ll=Nt,il=ol,sl=/[\\^$.*+?()[\]{}|]/g,dl=/^\[object .+?Constructor\]$/,cl=Function.prototype,ul=Object.prototype,fl=cl.toString,hl=ul.hasOwnProperty,gl=RegExp("^"+fl.call(hl).replace(sl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vl(e){if(!ll(e)||al(e))return!1;var t=rl(e)?gl:dl;return t.test(il(e))}var bl=vl;function pl(e,t){return e==null?void 0:e[t]}var yl=pl,ml=bl,_l=yl;function Cl(e,t){var n=_l(e,t);return ml(n)?n:void 0}var Dt=Cl,kl=Dt,xl=kl(Object,"create"),ot=xl,nn=ot;function Sl(){this.__data__=nn?nn(null):{},this.size=0}var wl=Sl;function Rl(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $l=Rl,Tl=ot,Nl="__lodash_hash_undefined__",Dl=Object.prototype,Fl=Dl.hasOwnProperty;function Pl(e){var t=this.__data__;if(Tl){var n=t[e];return n===Nl?void 0:n}return Fl.call(t,e)?t[e]:void 0}var Il=Pl,El=ot,Al=Object.prototype,Ol=Al.hasOwnProperty;function Kl(e){var t=this.__data__;return El?t[e]!==void 0:Ol.call(t,e)}var Bl=Kl,zl=ot,Ll="__lodash_hash_undefined__";function jl(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zl&&t===void 0?Ll:t,this}var Ml=jl,Vl=wl,Ul=$l,Hl=Il,Gl=Bl,ql=Ml;function Pe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pe.prototype.clear=Vl;Pe.prototype.delete=Ul;Pe.prototype.get=Hl;Pe.prototype.has=Gl;Pe.prototype.set=ql;var Yl=Pe;function Wl(){this.__data__=[],this.size=0}var Jl=Wl;function Xl(e,t){return e===t||e!==e&&t!==t}var Bn=Xl,Zl=Bn;function Ql(e,t){for(var n=e.length;n--;)if(Zl(e[n][0],t))return n;return-1}var rt=Ql,ei=rt,ti=Array.prototype,ni=ti.splice;function oi(e){var t=this.__data__,n=ei(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ni.call(t,n,1),--this.size,!0}var ri=oi,ai=rt;function li(e){var t=this.__data__,n=ai(t,e);return n<0?void 0:t[n][1]}var ii=li,si=rt;function di(e){return si(this.__data__,e)>-1}var ci=di,ui=rt;function fi(e,t){var n=this.__data__,r=ui(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var hi=fi,gi=Jl,vi=ri,bi=ii,pi=ci,yi=hi;function Ie(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ie.prototype.clear=gi;Ie.prototype.delete=vi;Ie.prototype.get=bi;Ie.prototype.has=pi;Ie.prototype.set=yi;var mi=Ie,_i=Dt,Ci=Rt,ki=_i(Ci,"Map"),xi=ki,on=Yl,Si=mi,wi=xi;function Ri(){this.size=0,this.__data__={hash:new on,map:new(wi||Si),string:new on}}var $i=Ri;function Ti(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ni=Ti,Di=Ni;function Fi(e,t){var n=e.__data__;return Di(t)?n[typeof t=="string"?"string":"hash"]:n.map}var at=Fi,Pi=at;function Ii(e){var t=Pi(this,e).delete(e);return this.size-=t?1:0,t}var Ei=Ii,Ai=at;function Oi(e){return Ai(this,e).get(e)}var Ki=Oi,Bi=at;function zi(e){return Bi(this,e).has(e)}var Li=zi,ji=at;function Mi(e,t){var n=ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Vi=Mi,Ui=$i,Hi=Ei,Gi=Ki,qi=Li,Yi=Vi;function Ee(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ee.prototype.clear=Ui;Ee.prototype.delete=Hi;Ee.prototype.get=Gi;Ee.prototype.has=qi;Ee.prototype.set=Yi;var Wi=Ee,zn=Wi,Ji="Expected a function";function Ft(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ji);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var c=e.apply(this,r);return n.cache=i.set(a,c)||i,c};return n.cache=new(Ft.Cache||zn),n}Ft.Cache=zn;var Xi=Ft,Zi=Xi,Qi=500;function es(e){var t=Zi(e,function(r){return n.size===Qi&&n.clear(),r}),n=t.cache;return t}var ts=es,ns=ts,os=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rs=/\\(\\)?/g,as=ns(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(os,function(n,r,a,i){t.push(a?i.replace(rs,"$1"):r||n)}),t}),ls=as;function is(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var ss=is,rn=$t,ds=ss,cs=wt,us=Tt,fs=1/0,an=rn?rn.prototype:void 0,ln=an?an.toString:void 0;function Ln(e){if(typeof e=="string")return e;if(cs(e))return ds(e,Ln)+"";if(us(e))return ln?ln.call(e):"";var t=e+"";return t=="0"&&1/e==-fs?"-0":t}var hs=Ln,gs=hs;function vs(e){return e==null?"":gs(e)}var bs=vs,ps=wt,ys=za,ms=ls,_s=bs;function Cs(e,t){return ps(e)?e:ys(e,t)?[e]:ms(_s(e))}var jn=Cs,ks=Tt,xs=1/0;function Ss(e){if(typeof e=="string"||ks(e))return e;var t=e+"";return t=="0"&&1/e==-xs?"-0":t}var Mn=Ss,ws=jn,Rs=Mn;function $s(e,t){t=ws(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Rs(t[n++])];return n&&n==r?e:void 0}var Ts=$s,Ns=Ts;function Ds(e,t,n){var r=e==null?void 0:Ns(e,t);return r===void 0?n:r}var Fs=Ds;const Ps=pn(Fs);var Is=Dt,Es=function(){try{var e=Is(Object,"defineProperty");return e({},"",{}),e}catch{}}(),As=Es,sn=As;function Os(e,t,n){t=="__proto__"&&sn?sn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Ks=Os,Bs=Ks,zs=Bn,Ls=Object.prototype,js=Ls.hasOwnProperty;function Ms(e,t,n){var r=e[t];(!(js.call(e,t)&&zs(r,n))||n===void 0&&!(t in e))&&Bs(e,t,n)}var Vs=Ms,Us=9007199254740991,Hs=/^(?:0|[1-9]\d*)$/;function Gs(e,t){var n=typeof e;return t=t??Us,!!t&&(n=="number"||n!="symbol"&&Hs.test(e))&&e>-1&&e%1==0&&e<t}var qs=Gs,Ys=Vs,Ws=jn,Js=qs,dn=Nt,Xs=Mn;function Zs(e,t,n,r){if(!dn(e))return e;t=Ws(t,e);for(var a=-1,i=t.length,c=i-1,h=e;h!=null&&++a<i;){var s=Xs(t[a]),g=n;if(s==="__proto__"||s==="constructor"||s==="prototype")return e;if(a!=c){var u=h[s];g=r?r(u,s,h):void 0,g===void 0&&(g=dn(u)?u:Js(t[a+1])?[]:{})}Ys(h,s,g),h=h[s]}return e}var Qs=Zs,ed=Qs;function td(e,t,n){return e==null?e:ed(e,t,n)}var nd=td;const od=pn(nd),rd=Y({name:"BatchTranslateItem",components:{DialogTextEdit:cn,DocumentEdit20Regular:na,SaveMultiple20Regular:la,ClipboardPaste20Regular:Mo},props:{dirItem:{type:Object,required:!0},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""},isFoldersMode:{type:Boolean,default:!0}},emits:["saveChanged"],setup(e,{emit:t}){const{t:n}=Vo(),{dirItem:r,filePathArr:a,translatePath:i,isFoldersMode:c}=yn(e),h=()=>{let d=null;const v=(N,E,I=0)=>{const ne=E[I];if(N)for(let U=0;U<N.length;U++){const se=N[U];if(se.label===ne&&I===E.length-1)throw d=se,new Error("item found");se.children&&v(se.children,E,I+1)}};try{v(r.value.children,a.value)}catch{}return d},s=V(()=>c.value?h():r.value),g=mn(null),u=F(null),k=F(!1),m=F(!1),f=()=>{const d=Ps(g.value,i.value,null);return Array.isArray(d)?(m.value=!0,JSON.stringify(d,null,2)):(m.value=!1,d)},y=(d=u.value)=>{try{m.value&&d&&(d=JSON.parse(d)),od(g.value,i.value,d)}catch(v){throw console.error(v),window.$message.error(v.message),v}};me(s,async d=>{if(!d){g.value=null,u.value=null,m.value=!1,ge(()=>{k.value=!1});return}const v=await d.entry.getFile(),N=await _n(v);g.value=JSON.parse(N),u.value=f(),ge(()=>{k.value=!1})},{immediate:!0}),me(u,()=>{k.value=!0}),me(i,d=>{u.value=f(),ge(()=>{k.value=!1})});const b=async()=>{try{if(!s.value)return;const d=s.value.entry;if(!d)return;const v=await d.getFile(),N=await d.createWritable(),E=JSON.stringify(g.value,null,2);await N.write(E),await N.close(),window.$message.success(n("msgs.saved"))}catch(d){throw console.error(d),window.$message.error(n("msgs.error")+d.message),d}},R=F(),D=F(!1),T=d=>{y(""),u.value=d,m.value=Array.isArray(d),ge(()=>{R.value.focus()})};return{currentItem:s,translateObj:g,translateText:u,isChanged:k,createField:T,handlePaste:async()=>{u.value=await Wt()},pasteCreatePField:async()=>{const d=await Wt();T(d)},async saveChange({isEmit:d=!1}={}){k.value&&(y(),await b(),ge(()=>{k.value=!1}),d&&t("saveChanged"))},cancelChange(){u.value=f(),ge(()=>{k.value=!1})},isFieldArray:m,inputRef:R,isShowArrayEdit:D,handleSaveArray(d){try{JSON.parse(d),u.value=d,D.value=!1}catch(v){console.error(v),window.$message.error(v.message)}}}}});const ad={class:"card-header"},ld={class:"card-title"},id={class:"text-red"},sd={class:"translate-path"},dd={key:0,style:{color:"hotpink","margin-bottom":"10px"}},cd={key:2,style:{color:"gray"}};function ud(e,t,n,r,a,i){const c=Uo,h=vt("ClipboardPaste20Regular"),s=kn,g=vt("DocumentEdit20Regular"),u=Ho,k=vt("SaveMultiple20Regular"),m=xn,f=cn,y=Cn;return j(),ie(y,{size:"small",class:"batch-translate-item"},{default:A(()=>[oe("div",ad,[oe("span",ld,[oe("span",id,he(e.dirItem.label),1),e.isFoldersMode?(j(),te(we,{key:0},[Q(he("/"+e.filePathArr.join("/")),1)],64)):Re("",!0)]),oe("span",sd,he(e.translatePath),1)]),e.currentItem?e.translatePath?(j(),te(we,{key:1},[e.translateText!==null?(j(),ie(m,{key:0,align:"center",size:"small"},{default:A(()=>[B(c,{ref:"inputRef",type:"textarea",size:"small",value:e.translateText,"onUpdate:value":t[0]||(t[0]=b=>e.translateText=b),placeholder:e.isFieldArray?e.$t("msgs.input_array"):e.$t("msgs.input_text"),rows:e.isFieldArray?2:1,style:{width:"450px"},class:yt({"font-code":e.isFieldArray}),clearable:""},null,8,["value","placeholder","rows","class"]),B(u,null,{default:A(()=>[B(s,{onClick:e.handlePaste,secondary:"",size:"small",type:"primary",title:"Paste"},{icon:A(()=>[B(h)]),_:1},8,["onClick"]),e.isFieldArray?(j(),ie(s,{key:0,secondary:"",onClick:t[1]||(t[1]=b=>e.isShowArrayEdit=!0),size:"small",title:e.$t("actions.edit")},{icon:A(()=>[B(g)]),_:1},8,["title"])):Re("",!0)]),_:1}),e.isChanged?(j(),ie(u,{key:0},{default:A(()=>[B(s,{size:"small",type:"primary",onClick:t[2]||(t[2]=b=>e.saveChange({isEmit:!0})),title:"Batch save"},{icon:A(()=>[B(k)]),_:1}),B(s,{secondary:"",size:"small",onClick:e.cancelChange},{default:A(()=>[Q(he(e.$t("actions.cancel")),1)]),_:1},8,["onClick"])]),_:1})):Re("",!0)]),_:1})):(j(),ie(u,{key:1},{default:A(()=>[B(s,{size:"small",onClick:t[3]||(t[3]=b=>e.pasteCreatePField()),type:"primary"},{icon:A(()=>[B(h)]),_:1}),B(s,{size:"small",onClick:t[4]||(t[4]=b=>e.createField("")),type:"primary"},{default:A(()=>[Q(he(e.$t("actions.create_text")),1)]),_:1}),B(s,{size:"small",onClick:t[5]||(t[5]=b=>e.createField([]))},{default:A(()=>[Q(he(e.$t("actions.create_array")),1)]),_:1})]),_:1}))],64)):(j(),te("div",cd,he(e.$t("msgs.please_select_a_tran")),1)):(j(),te("div",dd," File does not exist, please create it on your local file system ")),B(f,{"is-textarea":"",title:e.$t("common.array_detail"),placeholder:e.$t("common.array_json_string"),visible:e.isShowArrayEdit,"onUpdate:visible":t[6]||(t[6]=b=>e.isShowArrayEdit=b),text:e.translateText,onOnSave:e.handleSaveArray},null,8,["title","placeholder","visible","text","onOnSave"])]),_:1})}const Vn=St(rd,[["render",ud],["__scopeId","data-v-daa06f43"]]),fd=Y({name:"BatchTranslate",components:{BatchTranslateItem:Vn},props:{dirTree:{type:Array,default(){return[]}},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""},isFoldersMode:{type:Boolean,default:!0}},setup(e,{emit:t}){const{dirTree:n,isFoldersMode:r}=yn(e),a=F(),i=async()=>{for(let c=0;c<a.value.length;c++)await a.value[c].saveChange()};return xt(()=>{mt.on(_t.ON_I18N_SAVE_ALL_CHANGES,i)}),Go(()=>{mt.off(_t.ON_I18N_SAVE_ALL_CHANGES,i)}),{handleSaveChanged:i,itemsRef:a,filePathArrFiltered:V(()=>r.value?n.value.filter(c=>c.kind==="directory"):n.value)}}});const hd={class:"batch-translate"};function gd(e,t,n,r,a,i){const c=Vn;return j(),te("div",hd,[(j(!0),te(we,null,Ct(e.filePathArrFiltered,h=>(j(),ie(c,{ref_for:!0,ref:"itemsRef",key:h.key,"dir-item":h,"file-path-arr":e.isFoldersMode?e.filePathArr.slice(1):e.filePathArr,"translate-path":e.translatePath,onSaveChanged:e.handleSaveChanged,"is-folders-mode":e.isFoldersMode},null,8,["dir-item","file-path-arr","translate-path","onSaveChanged","is-folders-mode"]))),128))])}const Un=St(fd,[["render",gd],["__scopeId","data-v-dc132e71"]]);let Me=0;const vd=Y({name:"VueI18nBatchTool",components:{TranslateTreeItem:un,VueMonaco:Sn,BatchTranslate:Un,DropZone:Rn,DialogTextTransformer:wn},setup(){const e=qo(),t=F([]),n=async(S,C=0,d=[],v=[])=>{Me++;let N=0;for await(const E of S.values())if(N++,E.kind==="directory"){let I=[];d.push({key:`${Me}-D-${C}-${N}`,kind:E.kind,label:E.name,entry:E,parentDirs:v,children:I}),await n(E,C+1,I,[...v,E.name])}else/\.json$/gi.test(E.name)&&d.push({key:`${Me}-F-${C}-${N}`,kind:E.kind,label:E.name,entry:E,parentDirs:v,children:null});return console.log("[recursiveReadDir]",d),d},r=async(S,C=[])=>{Me++;let d=0;for await(const v of S.values())d++,v.kind!=="directory"&&/\.json$/gi.test(v.name)&&C.push({key:`${Me}-FILE-${d}`,kind:v.kind,label:v.name,entry:v,parentDirs:[],children:null});return console.log("[readJsonFiles]",C),C},a=mn(),i=async()=>{a.value=await window.showDirectoryPicker(),await c()},c=async()=>{const S=a.value;let C=[];e.isFoldersMode?C=await n(S):C=await r(S),C.length||window.$message.error("The content is empty, please check the folder directory structure!"),t.value=C},h=F(null),s=F(null),g=F([]),u=F(""),k=async()=>{try{const S=h.value;if(!S)return;const C=await S.getFile(),d=await S.createWritable();if(f.value!=="text"&&(s.value=JSON.stringify(Zo(y.value),null,2)),!s.value)throw new Error("currentEditText is empty!");await d.write(s.value),await d.close(),await c(),window.$message.success("Saved!")}catch(S){console.error(S),window.$message.error("Save Failed!"+S.message)}},m=["text","gui","batch"],f=F("batch"),y=F([Yo()]),b=()=>{if(f.value!=="text"){if(!s.value){y.value=[];return}const S=JSON.parse(s.value);y.value=Qo.parseWithRoot(S)}};me(f,S=>{b()});const{metaTitle:R}=Wo(),D=F(!1);Jo(()=>{if(h.value&&f.value!=="batch"){k();return}mt.emit(_t.ON_I18N_SAVE_ALL_CHANGES)});const T=F();return xt(async()=>{await Jt("./lib/pinyinjs/pinyin_dict_notone.min.js"),await Jt("./lib/pinyinjs/pinyinUtil.js")}),Xo(()=>!!a.value),{metaTitle:R,iconTranslate:_o,handlePickDir:i,dirTree:t,dirHandle:a,reloadPickedDir:c,vueMonacoRef:T,nodeProps:({option:S})=>({async onClick(){if(S.kind==="file"){const C=S.entry;h.value=C;const d=await _n(await C.getFile());s.value=d,T.value&&T.value.updateValue(d),g.value=[...S.parentDirs,S.label],u.value="",b()}}}),currentEditText:s,currentEditEntry:h,handleSaveFile:k,editMode:f,editModeList:m,translateTreeRoot:y,currentFilePathArr:g,translatePath:u,handleKeyClick(S,C){const d=".translate-item";u.value=S,Array.from(document.querySelectorAll(d)).forEach(N=>{N.classList.remove("active")}),C.target.closest(d).classList.add("active")},...sr({cb:async S=>{for(const C of S.dataTransfer.items)if(C.kind==="file"){const d=await C.getAsFileSystemHandle();if(d.kind==="directory"){a.value=d,await c();break}else window.$message.error("Please drag and drop a folder here!")}}}),isShowCopyDialog:D,settingsStore:e}}});const Hn=e=>(lr("data-v-c6030ad4"),e=e(),ir(),e),bd={class:"_container"},pd={class:"main-edit-wrap"};const yd={key:1,class:"null-intro"},md={key:0,class:"intro-title"},_d=Hn(()=>oe("br",null,null,-1)),Cd={key:1,class:"font-code"},kd={class:"intro-title"},xd=Hn(()=>oe("br",null,null,-1)),Sd=["value"];function wd(e,t,n,r,a,i){const c=Rn,h=dr,s=kn,g=Cr,u=_r,k=rr,m=xn,f=cr,y=wn,b=Cn,R=Zr,D=Or,T=Ir,S=Sn,C=un,d=Un,v=ar,N=Tr,E=$r;return j(),te("div",{class:"vue-i18n-copy-tool",onDragover:t[7]||(t[7]=bt((...I)=>e.fileDragover&&e.fileDragover(...I),["prevent","stop"])),onDragleave:t[8]||(t[8]=bt(I=>e.showDropzone=!1,["prevent","stop"])),onDrop:t[9]||(t[9]=bt((...I)=>e.fileDrop&&e.fileDrop(...I),["prevent","stop"]))},[B(er,{name:"mc-fade"},{default:A(()=>[tr(B(c,{text:"Drop locale folder here"},null,512),[[nr,e.showDropzone]])]),_:1}),B(b,{size:"small"},{default:A(()=>[B(f,{subtitle:"",onBack:t[3]||(t[3]=I=>e.$router.push({name:"HomeView"}))},{title:A(()=>[Q(he(e.metaTitle),1)]),avatar:A(()=>[B(h,{src:e.iconTranslate,style:{background:"none"}},null,8,["src"])]),extra:A(()=>[B(m,{align:"center"},{default:A(()=>[B(s,{secondary:"",size:"small",onClick:t[0]||(t[0]=I=>e.isShowCopyDialog=!0)},{default:A(()=>[Q(he(e.$t("common.text_transformer")),1)]),_:1}),e.currentEditEntry&&e.editMode!=="batch"?(j(),ie(s,{key:0,secondary:"",type:"primary",onClick:e.handleSaveFile},{default:A(()=>[Q("Save Changes")]),_:1},8,["onClick"])):Re("",!0),Q(" Edit Mode:"),B(u,{size:"small",value:e.editMode,"onUpdate:value":t[1]||(t[1]=I=>e.editMode=I)},{default:A(()=>[(j(!0),te(we,null,Ct(e.editModeList,I=>(j(),ie(g,{key:I,value:I,label:I.toUpperCase()},null,8,["value","label"]))),128))]),_:1},8,["value"]),B(s,{type:"primary",size:"small",onClick:e.handlePickDir},{default:A(()=>[Q(" Pick i18n Directory ")]),_:1},8,["onClick"]),e.dirHandle?(j(),ie(k,{key:1,onPositiveClick:t[2]||(t[2]=I=>e.reloadPickedDir())},{trigger:A(()=>[B(s,{secondary:"",size:"small"},{default:A(()=>[Q(" Reload ")]),_:1})]),default:A(()=>[Q(" Confirm reload files content? Unsaved contents will be lost. ")]),_:1})):Re("",!0)]),_:1})]),_:1}),B(y,{visible:e.isShowCopyDialog,"onUpdate:visible":t[4]||(t[4]=I=>e.isShowCopyDialog=I)},null,8,["visible"])]),_:1}),oe("div",bd,[B(E,{style:{height:"100%"},"has-sider":""},{default:A(()=>[B(T,{"collapse-mode":"width","collapsed-width":0,width:300,"show-trigger":"arrow-circle","content-style":"padding: 10px;",bordered:""},{default:A(()=>[B(D,{style:{height:"100%"}},{default:A(()=>[B(R,{"block-line":"",data:e.dirTree,"node-props":e.nodeProps,"default-expand-all":"","expand-on-click":"",selectable:""},null,8,["data","node-props"])]),_:1})]),_:1}),B(N,null,{default:A(()=>[oe("div",pd,[e.currentEditEntry?(j(),te(we,{key:0},[Re("",!0),oe("div",{class:yt(["edit-content-wrap",{"batch-mode":e.editMode==="batch"}])},[e.editMode==="text"?(j(),ie(S,{key:0,ref:"vueMonacoRef",modelValue:e.currentEditText,"onUpdate:modelValue":t[5]||(t[5]=I=>e.currentEditText=I),language:"json","show-line-numbers":""},null,8,["modelValue"])):(j(),te(we,{key:1},[B(D,{style:or([{height:"100%"},{width:e.editMode==="batch"?"500px":"100%"}])},{default:A(()=>[(j(!0),te(we,null,Ct(e.translateTreeRoot,(I,ne)=>(j(),ie(C,{key:ne,index:ne,item:I,"is-lite":e.editMode==="batch",onOnKeyClick:e.handleKeyClick},null,8,["index","item","is-lite","onOnKeyClick"]))),128))]),_:1},8,["style"]),e.editMode==="batch"?(j(),ie(D,{key:0,style:{height:"100%"}},{default:A(()=>[B(d,{"dir-tree":e.dirTree,"file-path-arr":e.currentFilePathArr,"translate-path":e.translatePath,"is-folders-mode":e.settingsStore.isFoldersMode},null,8,["dir-tree","file-path-arr","translate-path","is-folders-mode"])]),_:1})):Re("",!0)],64))],2)],64)):(j(),te("div",yd,[e.dirTree.length?(j(),te("div",md,[Q(" 👈 请先选择一个json文件 "),_d,Q("Please select a json file first ")])):(j(),te("div",Cd,[oe("div",kd,[Q(" 📁 推荐的i18n目录结构： "),B(v,{value:e.settingsStore.isFoldersMode,"onUpdate:value":t[6]||(t[6]=I=>e.settingsStore.isFoldersMode=I)},{checked:A(()=>[Q("Folders Mode")]),unchecked:A(()=>[Q("Files Mode")]),_:1},8,["value"]),xd,Q("Recommended i18n folder structure example: ")]),oe("textarea",{class:yt(["font-code",{_alt:!e.settingsStore.isFoldersMode}]),readonly:"",cols:"50",rows:"20",value:e.settingsStore.isFoldersMode?`└─[locales]    --> Drag folder here! 拖拽文件夹到此
   ├─de-DE
   │  └─index.json
   ├─en-US
   │  └─index.json
   ├─es-ES
   │  └─index.json
   ├─fr-FR
   │  └─index.json
   ├─ja-JP
   │  └─index.json
   ├─kr-KR
   │  └─index.json
   ├─zh-CN
   │  └─index.json
   └─zh-TW
      └─index.json`:`└─[locales]    --> Drag folder here! 拖拽文件夹到此
   ├─ ar.json
   ├─ cn.json
   ├─ de.json
   ├─ en.json
   ├─ es.json
   ├─ fr.json
   ├─ it.json
   ├─ jp.json
   └─ kr.json
`},null,10,Sd)]))]))])]),_:1})]),_:1})])],32)}const Nd=St(vd,[["render",wd],["__scopeId","data-v-c6030ad4"]]);export{Nd as default};

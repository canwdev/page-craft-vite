import{d as B,U as $,a5 as he,az as mt,a3 as be,aa as Q,b1 as vt,ac as Pe,ad as J,af as gt,b2 as ht,ay as yt,aj as Be,V as xe,b3 as bt,b4 as _t,al as wt,r as I,b5 as kt,b6 as Rt,b7 as Ct,b8 as It,a8 as $t,b9 as Tt,Z as At,a0 as Vt,a1 as St,a2 as G,w as oe,ba as Ot,aT as ie,ai as Re,bb as Ce,aK as Ie,ao as $e,bc as Te,bd as Pt,a4 as W,aE as Bt,i as D,q as d,l as P,aY as Me,aQ as _e,be as xt,g as we,A as b,k as i,bf as Mt,F as ee,P as T,aO as Ne,aP as Nt,bg as De,o as ze,bh as Dt,bi as zt,bj as se,e as Le,bk as Lt,aR as Ee,O as F,aS as Fe,bl as Et,j as v,x as N,y as H,z as ye,D as je,bm as Ft,aU as Ke,S as He,G as Ue,Q as Ge,R as Je,bn as jt,s as Kt,N as Ht,a_ as Ut,bo as Ae,bp as Gt,n as Jt,bq as qt,br as Wt}from"./index-01d6e322.js";const Qt=B({name:"Remove",render(){return $("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),Yt=he("collapse-transition",{width:"100%"},[mt()]),Xt=Object.assign(Object.assign({},Q.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),Zt=B({name:"CollapseTransition",props:Xt,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:p,mergedRtlRef:u}=be(e),o=Q("CollapseTransition","-collapse-transition",Yt,vt,e,t),y=Pe("CollapseTransition",u,t),k=J(()=>e.collapsed!==void 0?e.collapsed:e.show),w=J(()=>{const{self:{bezier:g}}=o.value;return{"--n-bezier":g}}),f=p?gt("collapse-transition",void 0,w,e):void 0;return{rtlEnabled:y,mergedShow:k,mergedClsPrefix:t,cssVars:p?void 0:w,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){return $(yt,{appear:this.appear},{default:()=>{var e;if(this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),$("div",ht({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),en=e=>{const{borderRadius:t,boxShadow2:p,baseColor:u}=e;return Object.assign(Object.assign({},_t),{borderRadius:t,boxShadow:p,color:wt(u,"rgba(0, 0, 0, .85)"),textColor:u})},tn=Be({name:"Tooltip",common:xe,peers:{Popover:bt},self:en}),nn=tn,an=Object.assign(Object.assign({},Rt),Q.props),qe=B({name:"Tooltip",props:an,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=be(e),p=Q("Tooltip","-tooltip",void 0,nn,e,t),u=I(null);return Object.assign(Object.assign({},{syncPosition(){u.value.syncPosition()},setShow(y){u.value.setShow(y)}}),{popoverRef:u,mergedTheme:p,popoverThemeOverrides:J(()=>p.value.self)})},render(){const{mergedTheme:e,internalExtraClass:t}=this;return $(kt,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),ln=e=>{const{textColorDisabled:t}=e;return{iconColorDisabled:t}},sn=Be({name:"InputNumber",common:xe,peers:{Button:Ct,Input:It},self:ln}),on=sn;function rn(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function un(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function ve(e){return e==null?!0:!Number.isNaN(e)}function Ve(e,t){return e==null?"":t===void 0?String(e):e.toFixed(t)}function ge(e){if(e===null)return null;if(typeof e=="number")return e;{const t=Number(e);return Number.isNaN(t)?null:t}}const dn=$t([he("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),he("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),Se=800,Oe=100,cn=Object.assign(Object.assign({},Q.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),pn=B({name:"InputNumber",props:cn,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:p,mergedRtlRef:u}=be(e),o=Q("InputNumber","-input-number",dn,on,e,p),{localeRef:y}=Tt("InputNumber"),k=At(e),{mergedSizeRef:w,mergedDisabledRef:f,mergedStatusRef:g}=k,h=I(null),R=I(null),V=I(null),S=I(e.defaultValue),A=Vt(e,"value"),s=St(A,S),c=I(""),a=n=>{const l=String(n).split(".")[1];return l?l.length:0},m=n=>{const l=[e.min,e.max,e.step,n].map(r=>r===void 0?0:a(r));return Math.max(...l)},x=G(()=>{const{placeholder:n}=e;return n!==void 0?n:y.value.placeholder}),j=G(()=>{const n=ge(e.step);return n!==null?n===0?1:Math.abs(n):1}),te=G(()=>{const n=ge(e.min);return n!==null?n:null}),ne=G(()=>{const n=ge(e.max);return n!==null?n:null}),U=n=>{const{value:l}=s;if(n===l){C();return}const{"onUpdate:value":r,onUpdateValue:_,onChange:M}=e,{nTriggerFormInput:E,nTriggerFormChange:q}=k;M&&W(M,n),_&&W(_,n),r&&W(r,n),S.value=n,E(),q()},O=({offset:n,doUpdateIfValid:l,fixPrecision:r,isInputing:_})=>{const{value:M}=c;if(_&&un(M))return!1;const E=(e.parse||rn)(M);if(E===null)return l&&U(null),null;if(ve(E)){const q=a(E),{precision:Z}=e;if(Z!==void 0&&Z<q&&!r)return!1;let K=parseFloat((E+n).toFixed(Z??m(E)));if(ve(K)){const{value:fe}=ne,{value:me}=te;if(fe!==null&&K>fe){if(!l||_)return!1;K=fe}if(me!==null&&K<me){if(!l||_)return!1;K=me}return e.validator&&!e.validator(K)?!1:(l&&U(K),K)}}return!1},C=()=>{const{value:n}=s;if(ve(n)){const{format:l,precision:r}=e;l?c.value=l(n):n===null||r===void 0||a(n)>r?c.value=Ve(n,void 0):c.value=Ve(n,r)}else c.value=String(n)};C();const z=G(()=>O({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),L=G(()=>{const{value:n}=s;if(e.validator&&n===null)return!1;const{value:l}=j;return O({offset:-l,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),re=G(()=>{const{value:n}=s;if(e.validator&&n===null)return!1;const{value:l}=j;return O({offset:+l,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function Ze(n){const{onFocus:l}=e,{nTriggerFormFocus:r}=k;l&&W(l,n),r()}function et(n){var l,r;if(n.target===((l=h.value)===null||l===void 0?void 0:l.wrapperElRef))return;const _=O({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(_!==!1){const q=(r=h.value)===null||r===void 0?void 0:r.inputElRef;q&&(q.value=String(_||"")),s.value===_&&C()}else C();const{onBlur:M}=e,{nTriggerFormBlur:E}=k;M&&W(M,n),E(),Bt(()=>{C()})}function tt(n){const{onClear:l}=e;l&&W(l,n)}function ue(){const{value:n}=re;if(!n){pe();return}const{value:l}=s;if(l===null)e.validator||U(ke());else{const{value:r}=j;O({offset:r,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function de(){const{value:n}=L;if(!n){ce();return}const{value:l}=s;if(l===null)e.validator||U(ke());else{const{value:r}=j;O({offset:-r,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const nt=Ze,at=et;function ke(){if(e.validator)return null;const{value:n}=te,{value:l}=ne;return n!==null?Math.max(0,n):l!==null?Math.min(0,l):0}function lt(n){tt(n),U(null)}function st(n){var l,r,_;!((l=V.value)===null||l===void 0)&&l.$el.contains(n.target)&&n.preventDefault(),!((r=R.value)===null||r===void 0)&&r.$el.contains(n.target)&&n.preventDefault(),(_=h.value)===null||_===void 0||_.activate()}let Y=null,X=null,ae=null;function ce(){ae&&(window.clearTimeout(ae),ae=null),Y&&(window.clearInterval(Y),Y=null)}function pe(){le&&(window.clearTimeout(le),le=null),X&&(window.clearInterval(X),X=null)}function ot(){ce(),ae=window.setTimeout(()=>{Y=window.setInterval(()=>{de()},Oe)},Se),Ce("mouseup",document,ce,{once:!0})}let le=null;function it(){pe(),le=window.setTimeout(()=>{X=window.setInterval(()=>{ue()},Oe)},Se),Ce("mouseup",document,pe,{once:!0})}const rt=()=>{X||ue()},ut=()=>{Y||de()};function dt(n){var l,r;if(n.key==="Enter"){if(n.target===((l=h.value)===null||l===void 0?void 0:l.wrapperElRef))return;O({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((r=h.value)===null||r===void 0||r.deactivate())}else if(n.key==="ArrowUp"){if(!re.value||e.keyboard.ArrowUp===!1)return;n.preventDefault(),O({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&ue()}else if(n.key==="ArrowDown"){if(!L.value||e.keyboard.ArrowDown===!1)return;n.preventDefault(),O({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&de()}}function ct(n){c.value=n,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&O({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}oe(s,()=>{C()});const pt={focus:()=>{var n;return(n=h.value)===null||n===void 0?void 0:n.focus()},blur:()=>{var n;return(n=h.value)===null||n===void 0?void 0:n.blur()}},ft=Pe("InputNumber",u,p);return Object.assign(Object.assign({},pt),{rtlEnabled:ft,inputInstRef:h,minusButtonInstRef:R,addButtonInstRef:V,mergedClsPrefix:p,mergedBordered:t,uncontrolledValue:S,mergedValue:s,mergedPlaceholder:x,displayedValueInvalid:z,mergedSize:w,mergedDisabled:f,displayedValue:c,addable:re,minusable:L,mergedStatus:g,handleFocus:nt,handleBlur:at,handleClear:lt,handleMouseDown:st,handleAddClick:rt,handleMinusClick:ut,handleAddMousedown:it,handleMinusMousedown:ot,handleKeyDown:dt,handleUpdateDisplayedValue:ct,mergedTheme:o,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:J(()=>{const{self:{iconColorDisabled:n}}=o.value,[l,r,_,M]=Ot(n);return{textColorTextDisabled:`rgb(${l}, ${r}, ${_})`,opacityDisabled:`${M}`}})})},render(){const{mergedClsPrefix:e,$slots:t}=this,p=()=>$(Te,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>Ie(t["minus-icon"],()=>[$($e,{clsPrefix:e},{default:()=>$(Qt,null)})])}),u=()=>$(Te,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>Ie(t["add-icon"],()=>[$($e,{clsPrefix:e},{default:()=>$(Pt,null)})])});return $("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},$(ie,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var o;return this.showButton&&this.buttonPlacement==="both"?[p(),Re(t.prefix,y=>y?$("span",{class:`${e}-input-number-prefix`},y):null)]:(o=t.prefix)===null||o===void 0?void 0:o.call(t)},suffix:()=>{var o;return this.showButton?[Re(t.suffix,y=>y?$("span",{class:`${e}-input-number-suffix`},y):null),this.buttonPlacement==="right"?p():null,u()]:(o=t.suffix)===null||o===void 0?void 0:o.call(t)}}))}}),fn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},mn=P("g",{fill:"none"},[P("path",{d:"M10 2.5a.5.5 0 0 0-1 0V9H2.5a.5.5 0 0 0 0 1H9v6.5a.5.5 0 0 0 1 0V10h6.5a.5.5 0 0 0 0-1H10V2.5z",fill:"currentColor"})],-1),vn=[mn],gn=B({name:"Add20Regular",render:function(t,p){return d(),D("svg",fn,vn)}}),hn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},yn=P("g",{fill:"none"},[P("path",{d:"M3 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5zm2-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5zm5 2a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 10 6z",fill:"currentColor"})],-1),bn=[yn],_n=B({name:"AddSquare20Regular",render:function(t,p){return d(),D("svg",hn,bn)}}),wn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},kn=P("g",{fill:"none"},[P("path",{d:"M11.5 4a1.5 1.5 0 0 0-3 0h-1a2.5 2.5 0 0 1 5 0H17a.5.5 0 0 1 0 1h-.554L15.15 16.23A2 2 0 0 1 13.163 18H6.837a2 2 0 0 1-1.987-1.77L3.553 5H3a.5.5 0 0 1-.492-.41L2.5 4.5A.5.5 0 0 1 3 4h8.5zm3.938 1H4.561l1.282 11.115a1 1 0 0 0 .994.885h6.326a1 1 0 0 0 .993-.885L15.438 5zM8.5 7.5c.245 0 .45.155.492.359L9 7.938v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L8 14.062V7.939c0-.242.224-.438.5-.438zm3 0c.245 0 .45.155.492.359l.008.079v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L11 14.062V7.939c0-.242.224-.438.5-.438z",fill:"currentColor"})],-1),Rn=[kn],We=B({name:"Delete20Regular",render:function(t,p){return d(),D("svg",wn,Rn)}}),Cn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},In=P("g",{fill:"none"},[P("path",{d:"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM8 3c.374 0 .875.356 1.313 1.318c.094.208.181.436.26.682H6.427a6.19 6.19 0 0 1 .26-.682C7.125 3.356 7.627 3 8 3zm-2.223.904c-.15.332-.283.7-.393 1.096H4a5.017 5.017 0 0 1 2.038-1.6a5.45 5.45 0 0 0-.261.504zM5.163 6A12.055 12.055 0 0 0 5 8c0 .699.057 1.373.163 2H3.416A4.983 4.983 0 0 1 3 8c0-.711.148-1.388.416-2h1.747zm.221 5c.11.396.242.764.393 1.096c.079.174.166.343.26.504A5.017 5.017 0 0 1 4 11h1.384zm1.043 0h3.146a6.195 6.195 0 0 1-.26.682C8.875 12.644 8.373 13 8 13c-.374 0-.875-.356-1.313-1.318a6.195 6.195 0 0 1-.26-.682zm3.394-1H6.18A10.936 10.936 0 0 1 6 8c0-.714.064-1.39.179-2H9.82c.115.61.179 1.286.179 2s-.064 1.39-.179 2zm.795 1H12a5.018 5.018 0 0 1-2.038 1.6c.095-.161.182-.33.26-.504c.152-.332.284-.7.394-1.096zm1.968-1h-1.747A12.05 12.05 0 0 0 11 8c0-.699-.057-1.372-.163-2h1.747c.268.612.416 1.289.416 2c0 .711-.148 1.388-.416 2zM9.962 3.4A5.018 5.018 0 0 1 12 5h-1.384a7.526 7.526 0 0 0-.393-1.096a5.454 5.454 0 0 0-.26-.504z",fill:"currentColor"})],-1),$n=[In],Tn=B({name:"Globe16Regular",render:function(t,p){return d(),D("svg",Cn,$n)}}),An=B({name:"DialogTextEdit",components:{VueMonaco:Me},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Text edit"},placeholder:{type:String,default:"Input text"},text:{type:String,default:""},isTextarea:{type:Boolean,default:!1},type:{type:String,default:"text"}},emits:["onSave"],setup(e,{emit:t}){const{text:p}=_e(e),u=xt(e,t,"visible"),o=I("");return oe(p,y=>{o.value=y},{immediate:!0}),{mVisible:u,editingText:o,handleSave(){t("onSave",o.value)}}}});function Vn(e,t,p,u,o,y){const k=Me,w=ie,f=Mt;return d(),b(f,{style:{width:"700px"},preset:"dialog","negative-text":e.$t("actions.cancel"),"positive-text":e.$t("actions.done"),title:e.title,onPositiveClick:e.handleSave,onNegativeClick:t[2]||(t[2]=g=>e.mVisible=!1),onClose:t[3]||(t[3]=g=>e.mVisible=!1),show:e.mVisible},{default:i(()=>[e.mVisible?(d(),D(ee,{key:0},[e.isTextarea?(d(),b(k,{key:0,modelValue:e.editingText,"onUpdate:modelValue":t[0]||(t[0]=g=>e.editingText=g),language:"json",style:{height:"500px"}},null,8,["modelValue"])):(d(),b(w,{key:1,type:e.type,value:e.editingText,"onUpdate:value":t[1]||(t[1]=g=>e.editingText=g),class:"font-code",rows:e.isTextarea?25:null,placeholder:e.placeholder,autofocus:""},null,8,["type","value","rows","placeholder"]))],64)):T("",!0)]),_:1},8,["negative-text","positive-text","title","onPositiveClick","show"])}const Qe=we(An,[["render",Vn]]),Sn=B({name:"TranslateItem",components:{ClipboardPaste20Regular:Ne,Delete20Regular:We},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null},isLite:{type:Boolean,default:!1},index:{type:Number,required:!0}},emits:["onRemove","previewArray","onKeyClick"],setup(e,{emit:t}){const{t:p}=Nt(),u=De(),{item:o,treeItem:y,index:k}=_e(e),w=J(()=>{if(!y.value)return"";const a=[];let m=y.value;for(;m;)a.push(m.namespace),m=m.parent||null;return a.reverse().join(".")}),f=J(()=>{if(!o.value||!o.value.value&&!o.value.key)return"";let a=o.value.key;w.value&&(a=w.value+"."+a);const m=new RegExp(zt+".","g");return a=a.replace(m,""),a}),g=I(null);oe(o,a=>{if(!a){g.value=null;return}g.value=typeof a.value},{immediate:!0});const h=I(!1),R=()=>{var m;h.value=!1;const a=((m=y.value)==null?void 0:m.translates)||[];for(let x=0;x<a.length;x++){const j=a[x];if(k.value!==x&&j.key===o.value.key){h.value=!0;break}}},V=I(null),S=a=>{let m="";a===se.ORIGINAL?m=`$t('${f.value}')`:a===se.TEMPLATE?m=`{{ $t('${f.value}') }}`:a===se.VHTML?m=`v-html="$t('${f.value}')"`:a===se.DOLLART&&(m=`this.$t('${f.value}')`),V.value=a,u.trLastCopyMode=a,Le(m),window.$message.success(p("msgs.copy_success")+m)},A=()=>{o.value.key||(o.value.key=Lt(o.value.value),R())},s=I();return ze(()=>{o.value&&(u.trAutoAddGuid!==null&&o.value.key===u.trAutoAddGuid?(u.trAutoAddGuid=null,o.value.key="",A(),setTimeout(()=>{S(u.trLastCopyMode)})):u.trIsManualAdd&&(s.value&&s.value.focus(),u.trIsManualAdd=!1))}),{copyModeOptions:Dt,namespacePrefix:w,nameDisplay:f,highlightCopyMode:V,handleCopy:S,handleValueBlur:A,handleKeyBlur(){R()},handleInputKeyClick(a){t("onKeyClick",f.value,a)},valType:g,isKeyDuplicated:h,valueInputRef:s,handlePaste:async()=>{o.value.value=await Ee(),setTimeout(()=>{A()})}}}});const On=e=>(Ge("data-v-ca7bca5f"),e=e(),Je(),e),Pn=On(()=>P("div",{class:"error-tip-button"},"!",-1));function Bn(e,t,p,u,o,y){const k=qe,w=ie,f=pn,g=F("ClipboardPaste20Regular"),h=je,R=Ft,V=Ke,S=F("Delete20Regular"),A=He,s=Ue,c=Et;return e.item?(d(),b(c,{key:0,"data-id":e.item.key,size:"small",class:Fe(["translate-item",{isLite:e.isLite,isKeyDuplicated:e.isKeyDuplicated}])},{default:i(()=>[v(s,{size:"small",justify:"space-between"},{default:i(()=>[v(s,{size:"small",align:"center"},{default:i(()=>[e.isKeyDuplicated?(d(),b(k,{key:0,trigger:"hover"},{trigger:i(()=>[Pn]),default:i(()=>[N(" Key duplicated, may cause bug! ")]),_:1})):T("",!0),v(w,{size:"small",class:"font-code translate-item-input jssl_key",value:e.item.key,"onUpdate:value":t[0]||(t[0]=a=>e.item.key=a),placeholder:"key",onClick:e.handleInputKeyClick,onBlur:e.handleKeyBlur},null,8,["value","onClick","onBlur"]),e.isLite?T("",!0):(d(),D(ee,{key:1},[e.valType==="number"?(d(),b(f,{key:0,ref:"valueInputRef",value:e.item.value,"onUpdate:value":t[1]||(t[1]=a=>e.item.value=a),placeholder:"number value",size:"small",class:"item-value-edit jssl_value",onBlur:e.handleValueBlur},null,8,["value","onBlur"])):Array.isArray(e.item.value)?(d(),b(h,{key:2,title:e.item.value,size:"small",class:"item-value-edit",onClick:t[3]||(t[3]=a=>e.$emit("previewArray",e.item))},{default:i(()=>[N(" 📝 "+H(e.$t("common.array")),1)]),_:1},8,["title"])):(d(),b(R,{key:1},{default:i(()=>[v(w,{ref:"valueInputRef",type:"textarea",rows:"1",size:"small",class:"item-value-edit",value:e.item.value,"onUpdate:value":t[2]||(t[2]=a=>e.item.value=a),placeholder:"text value",clearable:"",onBlur:e.handleValueBlur},null,8,["value","onBlur"]),v(h,{onClick:e.handlePaste,secondary:"",size:"small",type:"info",title:"Paste"},{icon:i(()=>[v(g)]),_:1},8,["onClick"])]),_:1}))],64)),!e.isLite&&e.nameDisplay?(d(),b(V,{key:2,size:"small"},{default:i(()=>[(d(!0),D(ee,null,ye(e.copyModeOptions,a=>(d(),b(h,{key:a.value,title:a.desc,size:"small",secondary:a.value!==e.highlightCopyMode,type:"success",onClick:m=>e.handleCopy(a.value)},{default:i(()=>[N(H(a.label),1)]),_:2},1032,["title","secondary","onClick"]))),128))]),_:1})):T("",!0),e.isLite?T("",!0):(d(),b(A,{key:3,onPositiveClick:t[4]||(t[4]=a=>e.$emit("onRemove"))},{trigger:i(()=>[v(h,{tertiary:"",size:"small",type:"error"},{icon:i(()=>[v(S)]),_:1})]),default:i(()=>[N(" "+H(e.$t("msgs.remove_item")),1)]),_:1}))]),_:1}),v(s)]),_:1})]),_:1},8,["data-id","class"])):T("",!0)}const Ye=we(Sn,[["render",Bn],["__scopeId","data-v-ca7bca5f"]]),xn=B({name:"TranslateTreeItem",components:{Delete20Regular:We,TranslateItem:Ye,DialogTextEdit:Qe,AddSquare20Regular:_n,Add20Regular:gn,ClipboardPaste20Regular:Ne,Copy20Regular:jt,Globe16Regular:Tn},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0},isLite:{type:Boolean,default:!1},index:{type:Number,required:!0}},emits:["onRemove","onKeyClick"],setup(e){const{item:t,index:p}=_e(e),u=De(),o=()=>{u.trIsManualAdd=!0,t.value.children.push(Ut({parent:t.value}))},y=()=>{u.trIsManualAdd=!0,t.value.translates.push(Ae())},k=async()=>{const s=await Ee();u.trAutoAddGuid=Gt(),t.value.translates.push(Ae({key:u.trAutoAddGuid,value:s}))},w=I(!0),f=I(!1),g=Kt(null),h=I("");oe(f,s=>{s||(g.value=null,h.value="")});const R=J(()=>{if(!t.value)return"";const s=[];let c=t.value;for(;c;)s.push(c.namespace),c=c.parent||null;return s.pop(),s.shift(),s.reverse().join(".")}),V=I(!1),S=()=>{var c,a;V.value=!1;const s=((a=(c=t.value)==null?void 0:c.parent)==null?void 0:a.children)||[];for(let m=0;m<s.length;m++){const x=s[m];if(p.value!==m&&x.namespace===t.value.namespace){V.value=!0;break}}},A=I();return ze(()=>{u.trIsManualAdd&&(A.value&&A.value.focus(),u.trIsManualAdd=!1)}),{handleAddChildren:o,handleAddTranslate:y,handleAutoAdd:k,handleGetJSON(){const s=Ht([t.value]);console.log(s),Le(JSON.stringify(s,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(s){const c=[...t.value.children];c.splice(s,1),t.value.children=c},handleRemoveItem(s){const c=[...t.value.translates];c.splice(s,1),t.value.translates=c},isExpand:w,isShowArrayEdit:f,currentPreviewItem:g,currentArrayString:h,handlePreviewArray(s){g.value=s,h.value=JSON.stringify(s.value,null,2),f.value=!0},handleSaveArray(s){if(g.value)try{g.value.value=JSON.parse(s||"[]"),f.value=!1}catch(c){console.error(c),window.$message.error(c.message)}},isKeyDuplicated:V,checkDuplicatedGroupKey:S,namespacePrefix:R,namespaceInputRef:A}}});const Xe=e=>(Ge("data-v-d0d2b20e"),e=e(),Je(),e),Mn={class:"group-header"},Nn=Xe(()=>P("div",{class:"error-tip-button"},"!",-1)),Dn={key:0,style:{color:"darkseagreen"}},zn=Xe(()=>P("div",{class:"split-line"},null,-1));function Ln(e,t,p,u,o,y){const k=qe,w=F("Globe16Regular"),f=qt,g=ie,h=F("Copy20Regular"),R=je,V=F("Delete20Regular"),S=He,A=Ke,s=Ue,c=Ye,a=Wt,m=F("Add20Regular"),x=F("ClipboardPaste20Regular"),j=F("TranslateTreeItem",!0),te=F("AddSquare20Regular"),ne=Zt,U=Qe,O=Jt;return e.item?(d(),b(O,{key:0,size:"small",class:Fe(["tree-item",{isKeyDuplicated:e.isKeyDuplicated}])},{default:i(()=>[P("div",Mn,[e.isKeyDuplicated?(d(),b(k,{key:0,trigger:"hover"},{trigger:i(()=>[Nn]),default:i(()=>[N(" Group namespace duplicated, may cause bug! ")]),_:1})):T("",!0),v(g,{ref:"namespaceInputRef",size:"small",disabled:e.isRoot,class:"font-code",value:e.item.namespace,"onUpdate:value":t[0]||(t[0]=C=>e.item.namespace=C),placeholder:"namespace",style:{flex:"1"},onBlur:e.checkDuplicatedGroupKey},{prefix:i(()=>[v(f,{color:"darkseagreen",size:"16",title:e.namespacePrefix},{default:i(()=>[v(w)]),_:1},8,["title"]),e.isLite?T("",!0):(d(),D("span",Dn,H(e.namespacePrefix+(e.namespacePrefix?".":"")),1))]),_:1},8,["disabled","value","onBlur"]),e.isLite?T("",!0):(d(),b(s,{key:1,style:{"margin-left":"10px"},align:"center"},{default:i(()=>[v(A,null,{default:i(()=>[v(R,{size:"small",tertiary:"",type:"info",onClick:e.handleGetJSON,title:`${e.$t("actions.copy")} JSON`},{icon:i(()=>[v(h)]),_:1},8,["onClick","title"]),e.isRoot?T("",!0):(d(),b(S,{key:0,onPositiveClick:t[1]||(t[1]=C=>e.$emit("onRemove"))},{trigger:i(()=>[v(R,{tertiary:"",type:"error",size:"small"},{icon:i(()=>[v(V)]),_:1})]),default:i(()=>[N(" "+H(e.$t("msgs.remove_group")),1)]),_:1})),v(R,{size:"small",secondary:"",onClick:t[2]||(t[2]=C=>e.isExpand=!e.isExpand),title:"Toggle Expand"},{default:i(()=>[N(H(e.isExpand?"👀":"🙈"),1)]),_:1})]),_:1})]),_:1}))]),v(ne,{show:e.isExpand},{default:i(()=>[e.item.translates&&e.item.translates.length?(d(),b(a,{key:0,size:"small",style:{"margin-top":"10px"}},{default:i(()=>[(d(!0),D(ee,null,ye(e.item.translates,(C,z)=>(d(),b(c,{item:C,"tree-item":e.item,key:z,index:z,"is-lite":e.isLite,onPreviewArray:e.handlePreviewArray,onOnRemove:L=>e.handleRemoveItem(z),onOnKeyClick:t[3]||(t[3]=(...L)=>e.$emit("onKeyClick",...L))},null,8,["item","tree-item","index","is-lite","onPreviewArray","onOnRemove"]))),128))]),_:1})):T("",!0),e.isLite?T("",!0):(d(),b(A,{key:1,align:"center",style:{"margin-top":"5px"}},{default:i(()=>[v(R,{size:"small",title:"Add translate item",type:"info",onClick:e.handleAddTranslate},{icon:i(()=>[v(m)]),default:i(()=>[N(" "+H(e.$t("common.translate")),1)]),_:1},8,["onClick"]),v(R,{size:"small",title:"Auto paste and copy key",type:"info",secondary:"",onClick:e.handleAutoAdd},{icon:i(()=>[v(x)]),default:i(()=>[N(" Auto ")]),_:1},8,["onClick"])]),_:1})),zn,e.item.children&&e.item.children.length?(d(!0),D(ee,{key:2},ye(e.item.children,(C,z)=>(d(),b(j,{item:C,key:z,index:z,"is-root":!1,"is-lite":e.isLite,onOnRemove:L=>e.handleRemoveTreeItem(z),onPreviewArray:e.handlePreviewArray,onOnKeyClick:t[4]||(t[4]=(...L)=>e.$emit("onKeyClick",...L))},null,8,["item","index","is-lite","onOnRemove","onPreviewArray"]))),128)):T("",!0),e.isLite?T("",!0):(d(),b(R,{key:3,type:"primary",onClick:e.handleAddChildren,title:"Add translate children group"},{icon:i(()=>[v(te)]),default:i(()=>[N(" "+H(e.$t("common.group")),1)]),_:1},8,["onClick"]))]),_:1},8,["show"]),v(U,{"is-textarea":"",title:e.$t("common.array_detail"),placeholder:"Array JSON String",visible:e.isShowArrayEdit,"onUpdate:visible":t[5]||(t[5]=C=>e.isShowArrayEdit=C),text:e.currentArrayString,onOnSave:e.handleSaveArray},null,8,["title","visible","text","onOnSave"])]),_:1},8,["class"])):T("",!0)}const Fn=we(xn,[["render",Ln],["__scopeId","data-v-d0d2b20e"]]),jn=""+new URL("translate-6e3a2b88.svg",import.meta.url).href;export{Fn as _,Qe as a,jn as i};

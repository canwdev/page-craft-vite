import{d as e,bH as l,t as a,c as o,_ as d,i as t,o as m,p as i,bG as s,M as n,P as u,a9 as r,b as p,F as y,m as c,Q as b,f as V,g as f,h as k,n as v,by as h,bt as A,bU as I,bV as T,bW as _,bX as F,R as U,bY as g,ax as O,bZ as R,ar as C,b_ as j,b$ as E,c0 as P,r as w,I as x,J as L,k as S,aA as B,e as M,T as $,x as N,j as H,w as D,c1 as G}from"./index-Dcsrw7an.js";import{A as K}from"./enum-CdO7LyZZ.js";/* empty css                  *//* empty css                    *//* empty css                  *//* empty css                        */import{c as W,d as q}from"./set-BUS1Iazm.js";import{V as X}from"./index-CQE1pfcY.js";const z=d(e({name:"AutoFormItem",components:{VueMonaco:X,VueRender:l},props:{item:{type:Object,required:!0},model:{type:Object,required:!0}},setup(e,{emit:l}){const{item:d,model:t}=a(e),m=(e,l)=>e.__v_isRef?`value.${l}`:l,i=o({get:()=>W(t.value,m(t.value,d.value.key)),set(e){q(t.value,m(t.value,d.value.key),e)}});return{AutoFormItemType:K,dynamicValue:i}}}),[["render",function(e,l,a,o,d,w){const x=h,L=A,S=I,B=t("VueMonaco"),M=t("VueRender"),$=T,N=_,H=F,D=U,G=g,K=O,W=R,q=C,X=j,z=E,J=P;return m(),i(J,{label:e.item.label,prop:e.item.key,class:k(["auto-form-item",[e.item.cls]]),style:v(e.item.style||{width:e.item.width})},s({default:n((()=>[e.item.type===e.AutoFormItemType.INPUT?(m(),i(x,r({key:0,modelValue:e.dynamicValue,"onUpdate:modelValue":l[0]||(l[0]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.INPUT_NUMBER?(m(),i(L,r({key:1,modelValue:e.dynamicValue,"onUpdate:modelValue":l[1]||(l[1]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled,controls:!1},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.INPUT_AUTOCOMPLETE?(m(),i(S,r({key:2,modelValue:e.dynamicValue,"onUpdate:modelValue":l[2]||(l[2]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.MONACO_EDITOR?(m(),i(B,r({key:3,modelValue:e.dynamicValue,"onUpdate:modelValue":l[3]||(l[3]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled,"show-line-numbers":""},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.SELECT?(m(),i(N,r({key:4,modelValue:e.dynamicValue,"onUpdate:modelValue":l[4]||(l[4]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,class:"full-width",disabled:e.item.disabled},e.item.props),{default:n((()=>[e.item.selectOptionRender?(m(),i(M,{key:0,"render-fn":e.item.selectOptionRender,params:e.item},null,8,["render-fn","params"])):(m(!0),p(y,{key:1},c(e.item.options,(e=>(m(),i($,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.COLOR_PICKER?(m(),i(H,r({key:5,modelValue:e.dynamicValue,"onUpdate:modelValue":l[5]||(l[5]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.BUTTON?(m(),i(D,r({key:6,onClick:e.item.clickHandler,disabled:e.item.disabled},e.item.props),{default:n((()=>[b(V(e.item.placeholder),1)])),_:1},16,["onClick","disabled"])):e.item.type===e.AutoFormItemType.DATE_PICKER?(m(),i(G,r({key:7,modelValue:e.dynamicValue,"onUpdate:modelValue":l[6]||(l[6]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.CHECKBOX_GROUP?(m(),i(W,r({key:8,modelValue:e.dynamicValue,"onUpdate:modelValue":l[7]||(l[7]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),{default:n((()=>[(m(!0),p(y,null,c(e.item.options||e.item.props.options,((e,l)=>(m(),i(K,{key:l,value:e.value},{default:n((()=>[b(V(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.SWITCH?(m(),i(q,r({key:9,modelValue:e.dynamicValue,"onUpdate:modelValue":l[8]||(l[8]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.RADIO_GROUP?(m(),i(z,{key:10,disabled:e.item.disabled,modelValue:e.dynamicValue,"onUpdate:modelValue":l[9]||(l[9]=l=>e.dynamicValue=l)},{default:n((()=>[(m(!0),p(y,null,c(e.item.options||e.item.props.options,((e,l)=>(m(),i(X,{key:l,value:e.value},{default:n((()=>[b(V(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["disabled","modelValue"])):f("",!0),e.item.render?(m(),i(M,{key:11,"render-fn":e.item.render},null,8,["render-fn"])):f("",!0)])),_:2},[e.item.renderLabel?{name:"label",fn:n((({label:l})=>[u(M,{"render-fn":e.item.renderLabel,label:l},null,8,["render-fn","label"])])),key:"0"}:void 0]),1032,["label","prop","class","style"])}]]),J={class:"auto-form-loading-container"},Q=[M("div",{class:"loading-text vp-panel"},"Loading...",-1)],Y={class:"form-content-wrap"},Z={key:0,class:"auto-form-actions"},ee=e({name:"AutoFormElPlus",props:{formSchema:{},hideActions:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},emits:["onInvalidForm","onSubmit","onMounted","onBeforeUnmount"],setup(e,{expose:l,emit:o}){const d=e,t=o,{formSchema:s}=a(d),V=w(),h=()=>{V.value.validate((async e=>{if(!e)return console.log("Invalid form"),void t("onInvalidForm");console.log("onSubmit",s.value.model),t("onSubmit",s.value.model)}))};return x((()=>{t("onMounted",V.value)})),L((()=>{t("onBeforeUnmount",V.value)})),l({formRef:V,AutoFormItemType:K,submitForm:h}),(e,l)=>{const a=U,o=G;return m(),i(o,r({ref_key:"formRef",ref:V,"label-width":N(s).labelWidth,model:N(s).model,rules:N(s).rules,"label-position":N(s).labelPosition,class:"auto-form-el-plus",onSubmit:D(h,["prevent"])},N(s).props,{disabled:e.isLoading}),{default:n((()=>[u($,{name:"fade"},{default:n((()=>[S(M("div",J,Q,512),[[B,e.isLoading]])])),_:1}),M("div",Y,[(m(!0),p(y,null,c(N(s).formItems,((e,l)=>(m(),p(y,null,[Array.isArray(e)?(m(),p("div",{key:"g_"+l,class:k(["auto-form-grid",[`count-${e.length}`]]),style:v({gridTemplateColumns:`repeat(${e.length}, 1fr)`})},[(m(!0),p(y,null,c(e,(e=>(m(),p(y,null,["key"in e?(m(),i(z,{key:e.key,item:e,model:N(s).model},null,8,["item","model"])):f("",!0)],64)))),256))],6)):"children"in e&&Array.isArray(e.children)?(m(),p("div",{key:"ag_"+l,class:k(["auto-form-grid",[`count-${e.cols}`]]),style:v({gridTemplateColumns:`repeat(${e.cols}, 1fr)`})},[(m(!0),p(y,null,c(e.children,(e=>(m(),i(z,{key:e.key,item:e,model:N(s).model},null,8,["item","model"])))),128))],6)):"key"in e?(m(),i(z,{key:l,item:e,model:N(s).model},null,8,["item","model"])):f("",!0)],64)))),256))]),e.hideActions?f("",!0):(m(),p("div",Z,[H(e.$slots,"actions",{submitForm:h},(()=>[u(a,{type:"primary",onClick:l[0]||(l[0]=e=>h())},{default:n((()=>[b("Submit")])),_:1})]))])),H(e.$slots,"default")])),_:3},16,["label-width","model","rules","label-position","disabled"])}}});export{ee as _};

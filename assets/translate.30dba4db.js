import{K as X,aa as Y,d as R,P as Z,S as P,ab as Q,a3 as x,R as k,X as ee,I as S,ac as ne,ad as te,t as b,k as z,_ as E,o as p,c as v,a,e as r,n as $,F as A,a6 as _,q as m,x as se,f as B,A as N,C as J,a7 as L,ae,r as w,s as le,w as oe,b as I,y as O,af as ie,ag as re,ah as ue,g as de,E as pe,a8 as me,a9 as ce}from"./index.710af264.js";const ve=X("collapse-transition",{width:"100%"},[Y()]),ye=Object.assign(Object.assign({},P.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),fe=R({name:"CollapseTransition",props:ye,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:l,mergedRtlRef:i}=Z(e),u=P("CollapseTransition","-collapse-transition",ve,Q,e,n),d=x("CollapseTransition",i,n),t=k(()=>e.collapsed!==void 0?e.collapsed:e.show),s=k(()=>{const{self:{bezier:y}}=u.value;return{"--n-bezier":y}}),o=l?ee("collapse-transition",void 0,s,e):void 0;return{rtlEnabled:d,mergedShow:t,mergedClsPrefix:n,cssVars:l?void 0:s,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){return S(te,{appear:this.appear},{default:()=>{var e;if(!!this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),S("div",ne({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),K=(e={})=>({key:e.key||"",value:e.value||""}),D=(e={})=>({namespace:e.namespace||"",children:e.children||[],translates:e.translates||[],parent:e.parent||null}),j=(e={},n=[],l=null)=>{if(!e)return[];if(!Array.isArray(e)&&typeof e=="object")for(let i in e){const u=e[i],d=[];if(u&&!Array.isArray(u)&&typeof u=="object"){const t=D({namespace:i,translates:d,parent:l});t.children=j(u,[],t),n.push(t)}else l&&l.translates&&l.translates.push(K({key:i,value:u}))}return n},T="__root__",_e={parseWithRoot:(e={})=>j({[T]:e}),isRoot(e){return e?e.namespace===T:!1}},U=(e,n={})=>{if(typeof e=="object"&&!Array.isArray(e)&&(e=[e]),_e.isRoot(e[0])){const l=e[0];l.translates.forEach(i=>{n[i.key]=i.value}),e=l.children}return e.forEach(l=>{const i={};l.translates.forEach(u=>{i[u.key]=u.value}),U(l.children,i),n[l.namespace]=i}),n},he=e=>e?(e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9\s]+/g,""),e=e.replace(/\s/gi,"_"),e=e.slice(0,20),e=e.replace(/_$|^_/g,""),e):"",ge=R({name:"TranslateItem",components:{},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null},isLite:{type:Boolean,default:!1}},emits:["onRemove","previewArray","onKeyClick"],setup(e,{emit:n}){const{item:l,treeItem:i}=b(e),u=k(()=>{if(!i.value)return"";const t=[];let s=i.value;for(;s;)t.push(s.namespace),s=s.parent||null;return t.reverse().join(".")}),d=k(()=>{if(!l.value||!l.value.value&&!l.value.key)return"";let t=l.value.key;u.value&&(t=u.value+"."+t);const s=new RegExp(T+".","g");return t=t.replace(s,""),t});return{namespacePrefix:u,nameDisplay:d,handleCopy(t){let s=`$t('${d.value}')`;t==="html"?s=`{{ $t('${d.value}') }}`:t==="v-html"?s=`v-html="$t('${d.value}')"`:t==="js"&&(s=`this.$t('${d.value}')`),z(s),window.$message.success("Text Copied")},handleBlur(){l.value.key||(l.value.key=he(l.value.value))},handleInputKeyClick(){n("onKeyClick",d.value)}}}});const Ce=m(" \u{1F4DD} Array "),ke=m(" $() "),we=m(se("{{ }}")),$e=m(" v-html "),Ae=m(" this.$t "),Te=m("\xD7 Del"),Re=m(" Remove Item? ");function Ie(e,n,l,i,u,d){const t=B,s=N,o=J,y=L,C=ae;return e.item?(p(),v(C,{key:0,size:"small",class:"translate-item"},{default:a(()=>[r(o,{size:"small",justify:"space-between"},{default:a(()=>[r(o,{size:"small",align:"center"},{default:a(()=>[r(t,{size:"small",class:"font-code translate-item-input-key",value:e.item.key,"onUpdate:value":n[0]||(n[0]=f=>e.item.key=f),placeholder:"key",onClick:e.handleInputKeyClick},null,8,["value","onClick"]),e.isLite?_("",!0):(p(),$(A,{key:0},[Array.isArray(e.item.value)?(p(),v(s,{key:1,title:e.item.value,size:"small",style:{width:"350px"},onClick:n[2]||(n[2]=f=>e.$emit("previewArray",e.item))},{default:a(()=>[Ce]),_:1},8,["title"])):(p(),v(t,{key:0,type:"textarea",rows:"1",size:"small",style:{width:"350px"},value:e.item.value,"onUpdate:value":n[1]||(n[1]=f=>e.item.value=f),placeholder:"value",onBlur:e.handleBlur},null,8,["value","onBlur"]))],64)),!e.isLite&&e.nameDisplay?(p(),v(o,{key:1,size:"small"},{default:a(()=>[r(t,{class:"font-code",size:"small",style:{width:"300px"},value:`$t('${e.nameDisplay}')`,readonly:""},null,8,["value"]),r(s,{size:"small",onClick:e.handleCopy,title:"Copy Original $('')"},{default:a(()=>[ke]),_:1},8,["onClick"]),r(s,{size:"small",type:"info",onClick:n[3]||(n[3]=f=>e.handleCopy("html")),title:"Copy HTML template"},{default:a(()=>[we]),_:1}),r(s,{size:"small",type:"success",onClick:n[4]||(n[4]=f=>e.handleCopy("v-html")),title:"Copy v-html template"},{default:a(()=>[$e]),_:1}),r(s,{size:"small",type:"warning",onClick:n[5]||(n[5]=f=>e.handleCopy("js")),title:"Copy JavaScript"},{default:a(()=>[Ae]),_:1})]),_:1})):_("",!0),r(y,{onPositiveClick:n[6]||(n[6]=f=>e.$emit("onRemove"))},{trigger:a(()=>[r(s,{style:{"margin-left":"15px"},size:"small",type:"error"},{default:a(()=>[Te]),_:1})]),default:a(()=>[Re]),_:1})]),_:1}),r(o)]),_:1})]),_:1})):_("",!0)}const V=E(ge,[["render",Ie],["__scopeId","data-v-f54d51a8"]]),Se=R({name:"TranslateTreeItem",components:{TranslateItem:V},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0},isLite:{type:Boolean,default:!1}},emits:["onRemove","onKeyClick"],setup(e){const{item:n}=b(e),l=()=>{console.log("[handleAddChildren]"),n.value.children.push(D({parent:n.value}))},i=()=>{console.log("[handleAddTranslate]"),n.value.translates.push(K())},u=w(!0),d=w(!1),t=le(null),s=w(null);return oe(d,o=>{o||(t.value=null,s.value=null)}),{handleAddChildren:l,handleAddTranslate:i,handleGetJSON(){const o=U([n.value]);console.log(o),z(JSON.stringify(o,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(o){const y=[...n.value.children];y.splice(o,1),n.value.children=y},handleRemoveItem(o){const y=[...n.value.translates];y.splice(o,1),n.value.translates=y},isExpand:u,isShowPreviewArray:d,currentPreviewItem:t,currentArrayString:s,handlePreviewArray(o){t.value=o,s.value=JSON.stringify(o.value,null,2),d.value=!0},handleSaveArray(){t.value&&(t.value.value=JSON.parse(s.value||"[]"),d.value=!1)}}}});const F=e=>(me("data-v-658ad540"),e=e(),ce(),e),Oe={style:{display:"flex"}},Pe=F(()=>I("span",{style:{color:"darkseagreen"}},"\xA7",-1)),be=m("Copy JSON"),ze=m("\xD7"),Ee=m(" Remove Group? "),Be=m(" \u{1F440} "),Ne=m(" \u{1F648} "),Je=m("+ Translate"),Le=F(()=>I("div",{style:{"border-top":"1px dashed darkseagreen","margin-top":"10px","margin-bottom":"10px"}},null,-1)),Ke=m("+ Children");function De(e,n,l,i,u,d){const t=B,s=N,o=L,y=ie,C=J,f=V,G=re,H=ue("TranslateTreeItem",!0),M=fe,q=de,W=pe;return e.item?(p(),v(W,{key:0,size:"small",class:"tree-item"},{default:a(()=>[I("div",Oe,[r(t,{disabled:e.isRoot,class:"font-code",value:e.item.namespace,"onUpdate:value":n[0]||(n[0]=c=>e.item.namespace=c),placeholder:"namespace",style:{flex:"1"}},{prefix:a(()=>[Pe]),_:1},8,["disabled","value"]),r(C,{style:{"margin-left":"10px"},align:"center"},{default:a(()=>[e.isLite?_("",!0):(p(),v(s,{key:0,type:"info",onClick:e.handleGetJSON},{default:a(()=>[be]),_:1},8,["onClick"])),e.isRoot?_("",!0):(p(),v(o,{key:1,onPositiveClick:n[1]||(n[1]=c=>e.$emit("onRemove"))},{trigger:a(()=>[r(s,{type:"error"},{default:a(()=>[ze]),_:1})]),default:a(()=>[Ee]),_:1})),e.isLite?_("",!0):(p(),v(y,{key:2,value:e.isExpand,"onUpdate:value":n[2]||(n[2]=c=>e.isExpand=c)},{checked:a(()=>[Be]),unchecked:a(()=>[Ne]),_:1},8,["value"]))]),_:1})]),r(M,{show:e.isExpand},{default:a(()=>[e.item.translates&&e.item.translates.length?(p(),v(G,{key:0,size:"small",style:{"margin-top":"10px"}},{default:a(()=>[(p(!0),$(A,null,O(e.item.translates,(c,h)=>(p(),v(f,{item:c,"tree-item":e.item,key:h,"is-lite":e.isLite,onPreviewArray:e.handlePreviewArray,onOnRemove:g=>e.handleRemoveItem(h),onOnKeyClick:n[3]||(n[3]=g=>e.$emit("onKeyClick",g))},null,8,["item","tree-item","is-lite","onPreviewArray","onOnRemove"]))),128))]),_:1})):_("",!0),r(C,{justify:"space-between",align:"center",style:{"margin-top":"5px"}},{default:a(()=>[r(s,{type:"info",onClick:e.handleAddTranslate},{default:a(()=>[Je]),_:1},8,["onClick"])]),_:1}),Le,e.item.children&&e.item.children.length?(p(!0),$(A,{key:1},O(e.item.children,(c,h)=>(p(),v(H,{item:c,key:h,"is-root":!1,"is-lite":e.isLite,onOnRemove:g=>e.handleRemoveTreeItem(h),onPreviewArray:e.handlePreviewArray,onOnKeyClick:n[4]||(n[4]=g=>e.$emit("onKeyClick",g))},null,8,["item","is-lite","onOnRemove","onPreviewArray"]))),128)):_("",!0),r(s,{type:"primary",onClick:e.handleAddChildren},{default:a(()=>[Ke]),_:1},8,["onClick"])]),_:1},8,["show"]),r(q,{style:{width:"80vw"},preset:"dialog","negative-text":"Cancel","positive-text":"Save",title:"Array Detail",onPositiveClick:e.handleSaveArray,show:e.isShowPreviewArray,"onUpdate:show":n[6]||(n[6]=c=>e.isShowPreviewArray=c)},{default:a(()=>[e.isShowPreviewArray&&e.currentArrayString?(p(),v(t,{key:0,type:"textarea",value:e.currentArrayString,"onUpdate:value":n[5]||(n[5]=c=>e.currentArrayString=c),class:"font-code",rows:"30",placeholder:"Array JSON String"},null,8,["value"])):_("",!0)]),_:1},8,["onPositiveClick","show"])]),_:1})):_("",!0)}const Ue=E(Se,[["render",De],["__scopeId","data-v-658ad540"]]),Ve=""+new URL("translate.6e3a2b88.svg",import.meta.url).href;export{_e as I,Ue as _,U as e,D as f,Ve as i};

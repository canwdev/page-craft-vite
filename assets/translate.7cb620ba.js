import{E as q,a2 as Y,d as A,K as Z,N as b,a3 as Q,Y as W,M as k,R as X,C as R,a4 as x,a5 as ee,t as P,j as O,_ as z,o as p,c as v,a as l,e as i,m as $,F as T,a0 as _,p as m,f as B,q as N,x as E,a1 as L,a6 as ne,r as w,s as te,w as se,b as I,n as S,a7 as le,a8 as ae,a9 as oe,g as ie,z as re,aa as ue,ab as de}from"./index.e6a55876.js";const pe=q("collapse-transition",{width:"100%"},[Y()]),me=Object.assign(Object.assign({},b.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),ce=A({name:"CollapseTransition",props:me,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:o,mergedRtlRef:d}=Z(e),r=b("CollapseTransition","-collapse-transition",pe,Q,e,n),u=W("CollapseTransition",d,n),t=k(()=>e.collapsed!==void 0?e.collapsed:e.show),s=k(()=>{const{self:{bezier:f}}=r.value;return{"--n-bezier":f}}),a=o?X("collapse-transition",void 0,s,e):void 0;return{rtlEnabled:u,mergedShow:t,mergedClsPrefix:n,cssVars:o?void 0:s,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){return R(ee,{appear:this.appear},{default:()=>{var e;if(!!this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),R("div",x({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),J=(e={})=>({key:e.key||"",value:e.value||""}),j=(e={})=>({namespace:e.namespace||"",children:e.children||[],translates:e.translates||[],parent:e.parent||null}),ve=(e={},n=[],o=null)=>{if(!e)return[];if(!Array.isArray(e)&&typeof e=="object")for(let d in e){const r=e[d],u=[];if(r&&!Array.isArray(r)&&typeof r=="object"){const t=j({namespace:d,translates:u,parent:o});t.children=ve(r,[],t),n.push(t)}else o&&o.translates&&o.translates.push(J({key:d,value:r}))}return n},K=(e,n={})=>(e.forEach(o=>{const d={};o.translates.forEach(r=>{d[r.key]=r.value}),K(o.children,d),n[o.namespace]=d}),n),fe=e=>e?(e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9\s]+/g,""),e=e.replace(/\s/gi,"_"),e=e.slice(0,20),e):"",ye=A({name:"TranslateItem",components:{},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null},isLite:{type:Boolean,default:!1}},emits:["onRemove","previewArray","onKeyClick"],setup(e,{emit:n}){const{item:o,treeItem:d}=P(e),r=k(()=>{if(!d.value)return"";const t=[];let s=d.value;for(;s;)t.push(s.namespace),s=s.parent||null;return t.reverse().join(".")}),u=k(()=>{if(!o.value||!o.value.value&&!o.value.key)return"";let t=o.value.key;return r.value&&(t=r.value+"."+t),t});return{namespacePrefix:r,nameDisplay:u,handleCopy(t){let s=`$t('${u.value}')`;t==="html"?s=`{{ $t('${u.value}') }}`:t==="v-html"?s=`v-html="$t('${u.value}')"`:t==="js"&&(s=`this.$t('${u.value}')`),O(s),window.$message.success("Text Copied")},handleBlur(){o.value.key||(o.value.key=fe(o.value.value))},handleInputKeyClick(){n("onKeyClick",u.value)}}}});const _e=m(" \u{1F4DD} Array "),he=m(" Copy: "),ge=m(" H "),Ce=m(" VH "),ke=m(" JS "),we=m("\xD7"),$e=m(" Remove Item? ");function Te(e,n,o,d,r,u){const t=B,s=N,a=E,f=L,C=ne;return e.item?(p(),v(C,{key:0,size:"small",class:"translate-item"},{default:l(()=>[i(a,{size:"small",justify:"space-between"},{default:l(()=>[i(a,{size:"small",align:"center"},{default:l(()=>[i(t,{size:"small",class:"font-code translate-item-input-key",value:e.item.key,"onUpdate:value":n[0]||(n[0]=y=>e.item.key=y),placeholder:"key",onClick:e.handleInputKeyClick},null,8,["value","onClick"]),e.isLite?_("",!0):(p(),$(T,{key:0},[Array.isArray(e.item.value)?(p(),v(s,{key:1,title:e.item.value,size:"small",style:{width:"350px"},onClick:n[2]||(n[2]=y=>e.$emit("previewArray",e.item))},{default:l(()=>[_e]),_:1},8,["title"])):(p(),v(t,{key:0,type:"textarea",rows:"1",size:"small",style:{width:"350px"},value:e.item.value,"onUpdate:value":n[1]||(n[1]=y=>e.item.value=y),placeholder:"value",onBlur:e.handleBlur},null,8,["value","onBlur"]))],64)),!e.isLite&&e.nameDisplay?(p(),v(a,{key:1,size:"small"},{default:l(()=>[i(t,{class:"font-code",size:"small",style:{width:"300px"},value:`$t('${e.nameDisplay}')`,readonly:""},null,8,["value"]),i(s,{size:"small",type:"info",onClick:e.handleCopy,title:"Original"},{default:l(()=>[he]),_:1},8,["onClick"]),i(s,{size:"small",type:"info",onClick:n[3]||(n[3]=y=>e.handleCopy("html")),title:"HTML template"},{default:l(()=>[ge]),_:1}),i(s,{size:"small",type:"info",onClick:n[4]||(n[4]=y=>e.handleCopy("v-html")),title:"v-html template"},{default:l(()=>[Ce]),_:1}),i(s,{size:"small",type:"info",onClick:n[5]||(n[5]=y=>e.handleCopy("js")),title:"JS Script"},{default:l(()=>[ke]),_:1})]),_:1})):_("",!0)]),_:1}),i(a,null,{default:l(()=>[i(f,{onPositiveClick:n[6]||(n[6]=y=>e.$emit("onRemove"))},{trigger:l(()=>[i(s,{size:"small",type:"error"},{default:l(()=>[we]),_:1})]),default:l(()=>[$e]),_:1})]),_:1})]),_:1})]),_:1})):_("",!0)}const D=z(ye,[["render",Te],["__scopeId","data-v-27b0720c"]]),Ae=A({name:"TranslateTreeItem",components:{TranslateItem:D},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0},isLite:{type:Boolean,default:!1}},emits:["onRemove","onKeyClick"],setup(e){const{item:n}=P(e),o=()=>{console.log("[handleAddChildren]"),n.value.children.push(j({parent:n.value}))},d=()=>{console.log("[handleAddTranslate]"),n.value.translates.push(J())},r=w(!0),u=w(!1),t=te(null),s=w(null);return se(u,a=>{a||(t.value=null,s.value=null)}),{handleAddChildren:o,handleAddTranslate:d,handleGetJSON(){const a=K([n.value]);console.log(a),O(JSON.stringify(a,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(a){const f=[...n.value.children];f.splice(a,1),n.value.children=f},handleRemoveItem(a){const f=[...n.value.translates];f.splice(a,1),n.value.translates=f},isExpand:r,isShowPreviewArray:u,currentPreviewItem:t,currentArrayString:s,handlePreviewArray(a){t.value=a,s.value=JSON.stringify(a.value,null,2),u.value=!0},handleSaveArray(){t.value&&(t.value.value=JSON.parse(s.value||"[]"),u.value=!1)}}}});const V=e=>(ue("data-v-732f8439"),e=e(),de(),e),Ie={style:{display:"flex"}},Re=V(()=>I("span",{style:{color:"darkseagreen"}},"\xA7",-1)),Se=m("Copy JSON"),be=m("\xD7"),Pe=m(" Remove Group? "),Oe=m(" \u{1F440} "),ze=m(" \u{1F648} "),Be=m("+ Translate"),Ne=V(()=>I("div",{style:{"border-top":"1px dashed darkseagreen","margin-top":"10px","margin-bottom":"10px"}},null,-1)),Ee=m("+ Children");function Le(e,n,o,d,r,u){const t=B,s=N,a=L,f=le,C=E,y=D,U=ae,F=oe("TranslateTreeItem",!0),H=ce,G=ie,M=re;return e.item?(p(),v(M,{key:0,size:"small",class:"tree-item"},{default:l(()=>[I("div",Ie,[i(t,{class:"font-code",value:e.item.namespace,"onUpdate:value":n[0]||(n[0]=c=>e.item.namespace=c),placeholder:"namespace",style:{flex:"1"}},{prefix:l(()=>[Re]),_:1},8,["value"]),i(C,{style:{"margin-left":"10px"},align:"center"},{default:l(()=>[e.isLite?_("",!0):(p(),v(s,{key:0,type:"info",onClick:e.handleGetJSON},{default:l(()=>[Se]),_:1},8,["onClick"])),e.isRoot?_("",!0):(p(),v(a,{key:1,onPositiveClick:n[1]||(n[1]=c=>e.$emit("onRemove"))},{trigger:l(()=>[i(s,{type:"error"},{default:l(()=>[be]),_:1})]),default:l(()=>[Pe]),_:1})),e.isLite?_("",!0):(p(),v(f,{key:2,value:e.isExpand,"onUpdate:value":n[2]||(n[2]=c=>e.isExpand=c)},{checked:l(()=>[Oe]),unchecked:l(()=>[ze]),_:1},8,["value"]))]),_:1})]),i(H,{show:e.isExpand},{default:l(()=>[e.item.translates&&e.item.translates.length?(p(),v(U,{key:0,size:"small",style:{"margin-top":"10px"}},{default:l(()=>[(p(!0),$(T,null,S(e.item.translates,(c,h)=>(p(),v(y,{item:c,"tree-item":e.item,key:h,"is-lite":e.isLite,onPreviewArray:e.handlePreviewArray,onOnRemove:g=>e.handleRemoveItem(h),onOnKeyClick:n[3]||(n[3]=g=>e.$emit("onKeyClick",g))},null,8,["item","tree-item","is-lite","onPreviewArray","onOnRemove"]))),128))]),_:1})):_("",!0),i(C,{justify:"space-between",align:"center",style:{"margin-top":"5px"}},{default:l(()=>[i(s,{type:"info",onClick:e.handleAddTranslate},{default:l(()=>[Be]),_:1},8,["onClick"])]),_:1}),Ne,e.item.children&&e.item.children.length?(p(!0),$(T,{key:1},S(e.item.children,(c,h)=>(p(),v(F,{item:c,key:h,"is-root":!1,"is-lite":e.isLite,onOnRemove:g=>e.handleRemoveTreeItem(h),onPreviewArray:e.handlePreviewArray,onOnKeyClick:n[4]||(n[4]=g=>e.$emit("onKeyClick",g))},null,8,["item","is-lite","onOnRemove","onPreviewArray"]))),128)):_("",!0),i(s,{type:"primary",onClick:e.handleAddChildren},{default:l(()=>[Ee]),_:1},8,["onClick"])]),_:1},8,["show"]),i(G,{style:{width:"80vw"},preset:"dialog","negative-text":"Cancel","positive-text":"Save",title:"Array Detail",onPositiveClick:e.handleSaveArray,show:e.isShowPreviewArray,"onUpdate:show":n[6]||(n[6]=c=>e.isShowPreviewArray=c)},{default:l(()=>[e.isShowPreviewArray&&e.currentArrayString?(p(),v(t,{key:0,type:"textarea",value:e.currentArrayString,"onUpdate:value":n[5]||(n[5]=c=>e.currentArrayString=c),class:"font-code",rows:"30",placeholder:"Array JSON String"},null,8,["value"])):_("",!0)]),_:1},8,["onPositiveClick","show"])]),_:1})):_("",!0)}const je=z(Ae,[["render",Le],["__scopeId","data-v-732f8439"]]),Ke=""+new URL("translate.6e3a2b88.svg",import.meta.url).href;export{je as _,K as e,j as f,Ke as i,ve as p};

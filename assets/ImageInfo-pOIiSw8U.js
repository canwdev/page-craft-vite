import{d as e,r as a,c as l,e as t,o as s,f as i,g as n,F as o,m as r,h as u,y as v,w as c,_ as d}from"./index-BJklM7uy.js";const p={key:0,class:"result-area vp-panel font-code"},g=["onClick"],h={class:"flex-row-center-gap"},f={key:1,class:"image-preview"},w=["src"],b=d(e({__name:"ImageInfo",setup(e){const d=a(null),b=a(null),m=a({width:0,height:0}),y=()=>{var e;null==(e=d.value)||e.click()},k=e=>{const a=e.target.files;x(a)},C=e=>{var a;const l=null==(a=e.dataTransfer)?void 0:a.files;x(l)},x=e=>{if(e&&e[0]){const a=e[0];if(!a.type.startsWith("image/"))return void window.$message.error("请选择图片文件！");const l=new FileReader;l.onload=e=>{console.log(e),e.target&&(b.value=e.target.result)},l.readAsDataURL(a)}},F=e=>{const a=e.target;m.value={width:a.naturalWidth,height:a.naturalHeight}},_=l((()=>[{label:"Size",value:`${m.value.width}x${m.value.height}`},{label:"Ratio (H/W)",value:parseFloat((m.value.height/m.value.width).toFixed(4))},{label:"Ratio (W/H)",value:parseFloat((m.value.width/m.value.height).toFixed(4))}])),D=e=>{window.$qlUtils.copy(e,!0)},I=()=>{b.value=null,m.value={width:0,height:0}};return(e,a)=>(s(),t("div",{class:"image-size-copier vp-bg",onDragenter:a[1]||(a[1]=c((()=>{}),["prevent"])),onDragover:a[2]||(a[2]=c((()=>{}),["prevent"])),onDrop:c(C,["prevent"])},[i("div",{class:"drop-area",onClick:y},[a[3]||(a[3]=i("h2",null,"将图片拖拽到这里或点击选择",-1)),i("input",{type:"file",ref_key:"fileInput",ref:d,accept:"image/*",onChange:k,hidden:""},null,544)]),m.value.width?(s(),t("div",p,[(s(!0),t(o,null,r(v(_),((e,a)=>(s(),t("div",{class:"flex-row-center-gap",key:a},[i("span",null,u(e.label)+": "+u(e.value),1),i("button",{class:"vp-button primary",onClick:a=>D(e.value)},"Copy",8,g)])))),128)),i("div",h,[i("button",{class:"vp-button primary",onClick:a[0]||(a[0]=e=>D(b.value))},"Copy base64"),i("button",{class:"vp-button",onClick:I},"Clear")])])):n("",!0),b.value?(s(),t("div",f,[i("img",{src:b.value,alt:"图片预览",onLoad:F},null,40,w)])):n("",!0)],32))}}),[["__scopeId","data-v-34e4b723"]]);export{b as default};

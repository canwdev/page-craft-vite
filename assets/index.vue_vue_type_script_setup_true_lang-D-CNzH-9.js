import{d as e,t as l,c as a,r as t,K as n,_ as s,o,b as u,k as d,v as i,e as r,l as p,f as c,g as v,h as m,$ as y,a0 as f,U as b,F as h,m as g,p as k,M as w,Q as x,x as V,X as _,O as C,bR as E,by as U,R as T,a9 as F,bH as I,cd as A,ar as B,bV as L,bW as N,bX as M,bY as S,ce as D,j as R,T as O,P,aA as z,bN as H,cf as K,cg as j}from"./index-Dcsrw7an.js";/* empty css                  *//* empty css                  */import{R as W}from"./RectSwitch-DyIQ1C31.js";var Y=(e=>(e.SWITCH="switch",e.MULTIPLE_SWITCH="multiple_switch",e.SLIDER="slider",e.SELECT="select",e.INPUT="input",e.INPUT_NUMBER="input_number",e.COLOR_PICKER="color_picker",e.DYNAMIC_TAGS="dynamic_tags",e.DATE_PICKER="date_picker",e.BUTTON="button",e))(Y||{});const $=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9e9e9e","#607d8b","#FFFFFF","#000000","#3A6EA5","#F0C869"];const G=e({name:"AdvancedNumberInput",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},isDebug:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:Number,max:Number,step:{type:Number,default:1},format:Function,parse:Function,marks:{type:Object}},setup(e,{emit:s}){const{marks:o,step:u,min:d,max:i,modelValue:r,readonly:p,disabled:c}=l(e),v=a({get:()=>e.modelValue,set:e=>s("update:modelValue",e)}),m=a((()=>{if(!o.value)return null;const e=[];return Object.keys(o.value).forEach((l=>{e.push(Number(l))})),e.sort(((e,l)=>e-l))})),y=e=>{const l=m.value;if(l){let a=l.findIndex((e=>e===v.value));if(a<0){a=function(e,l){let a=-1,t=l[0],n=Math.abs(e-l[0]);for(let s=1;s<l.length;s++){const o=Math.abs(e-l[s]);o<n&&(a=s,t=l[s],n=o)}return{index:a,value:t}}(v.value,l).index,a<0&&(console.error("number not found!",{idx:a,numbers:l,mValue:v.value,isNext:e}),a=0)}if(e){if(void 0!==l[a+1])return l[a+1]}else if(void 0!==l[a-1])return l[a-1]}return null},f=a((()=>{if(m.value)return y(!0);const e=i.value,l=(a=v.value,t=u.value,a+t);var a,t;return void 0!==e?l<=e?l:null:l})),b=a((()=>null!==f.value)),h=a((()=>{if(m.value)return y(!1);const e=d.value,l=(a=v.value,t=u.value,a-t);var a,t;return void 0!==e?l>=e?l:null:l})),g=a((()=>null!==h.value)),k=t(""),w=l=>e.format?e.format(l):String(l);n(r,(e=>{k.value=w(e)}),{immediate:!0});const x=()=>{if(p.value||c.value)return;let l;l=e.parse?e.parse(String(k.value))||0:Number(k.value)||0,void 0!==e.max&&l>e.max&&(l=e.max),void 0!==e.min&&l<e.min&&(l=e.min),e.step&&(l=Math.round(l/e.step)*e.step),v.value=l,k.value=w(l)},V=t(!1);return{mValue:v,handleUp:()=>{b.value&&!e.disabled&&(v.value=f.value)},handleDown:()=>{g.value&&!e.disabled&&(v.value=h.value)},isAllowUp:b,isAllowDown:g,nextUpValue:f,nextDownValue:h,marksNumberArray:m,inputValue:k,handleBlur:()=>{x(),V.value=!1},handleEnter:x,handleFocus:()=>{V.value=!0},isFocused:V}}}),J=e=>(y("data-v-3a805b02"),e=e(),f(),e),X=["readonly","disabled"],q={key:0,class:"debug-val"},Q={class:"toggle-wrap"},Z=["disabled"],ee=[J((()=>r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[r("g",{fill:"none"},[r("path",{d:"M2.146 7.354a.5.5 0 0 0 .708 0L6 4.207l3.146 3.147a.5.5 0 1 0 .708-.708l-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 0 .708z",fill:"currentColor"})])],-1)))],le=["disabled"],ae=[J((()=>r("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[r("g",{fill:"none"},[r("path",{d:"M2.146 4.646a.5.5 0 0 1 .708 0L6 7.793l3.146-3.147a.5.5 0 1 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708z",fill:"currentColor"})])],-1)))];const te=s(G,[["render",function(e,l,a,t,n,s){return o(),u("div",{class:m(["advanced-number-input",{disabled:e.disabled,focused:e.isFocused}])},[d(r("input",{"onUpdate:modelValue":l[0]||(l[0]=l=>e.inputValue=l),type:"text",class:"text-input",readonly:e.readonly,onFocus:l[1]||(l[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:l[2]||(l[2]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onKeyup:[l[3]||(l[3]=p(((...l)=>e.handleEnter&&e.handleEnter(...l)),["enter"])),l[4]||(l[4]=p(((...l)=>e.handleUp&&e.handleUp(...l)),["up"])),l[5]||(l[5]=p(((...l)=>e.handleDown&&e.handleDown(...l)),["down"]))],disabled:e.disabled},null,40,X),[[i,e.inputValue]]),e.isDebug?(o(),u("div",q,c(e.modelValue),1)):v("",!0),r("div",Q,[r("button",{onClick:l[6]||(l[6]=(...l)=>e.handleUp&&e.handleUp(...l)),class:"btn-no-style btn-up",disabled:!e.isAllowUp||e.disabled},ee,8,Z),r("button",{onClick:l[7]||(l[7]=(...l)=>e.handleDown&&e.handleDown(...l)),class:"btn-no-style btn-down",disabled:!e.isAllowDown||e.disabled},ae,8,le)])],2)}],["__scopeId","data-v-3a805b02"]]),ne={class:"dynamic-tags"},se=s(e({__name:"DynamicTags",props:{modelValue:{default:[]}},emits:[],setup(e,{emit:a}){const n=e,s=a;l(n);const d=b(n,"modelValue",s),i=t(""),r=t(!1),v=t(),m=()=>{r.value=!0,C((()=>{v.value.input.focus()}))},y=()=>{i.value&&d.value.push(i.value),r.value=!1,i.value=""};return(e,l)=>{const a=E,t=U,n=T;return o(),u("div",ne,[(o(!0),u(h,null,g(V(d),(e=>(o(),k(a,{key:e,closable:"","disable-transitions":!1,onClose:l=>(e=>{d.value.splice(d.value.indexOf(e),1)})(e)},{default:w((()=>[x(c(e),1)])),_:2},1032,["onClose"])))),128)),V(r)?(o(),k(t,{key:0,ref_key:"InputRef",ref:v,modelValue:V(i),"onUpdate:modelValue":l[0]||(l[0]=e=>_(i)?i.value=e:null),class:"w-20",size:"small",onKeyup:p(y,["enter"]),onBlur:y},null,8,["modelValue"])):(o(),k(n,{key:1,class:"button-new-tag",size:"small",onClick:m},{default:w((()=>[x(" + New Tag ")])),_:1}))])}}}),[["__scopeId","data-v-2ad523a1"]]),oe=["disabled"],ue=e({__name:"ItemAction",props:{item:{}},emits:["updateValue"],setup(e,{emit:t}){const n=e,{item:s}=l(n),d=t,i=A("sharedStore"),r=a({get(){const e=s.value.store||i.value;return e?e[s.value.key]:s.value.value},set(e){d("updateValue",{item:s.value,value:e});const l=s.value.store||i.value;l?l[s.value.key]=e:s.value.value=e}});return(e,l)=>{const a=B,t=U,n=L,d=N,i=M,p=S,m=D;return o(),k(m,{class:"option-item-action",size:"small",align:"center"},{default:w((()=>[V(s).type===V(Y).SWITCH?(o(),k(a,F({key:0,modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e)},V(s).props),null,16,["modelValue"])):V(s).type===V(Y).MULTIPLE_SWITCH?(o(),k(W,F({key:1,options:V(s).options,modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e)},V(s).props),null,16,["options","modelValue"])):V(s).type===V(Y).INPUT?(o(),k(t,F({key:2,class:"option-select option-input",modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e),clearable:""},V(s).props),null,16,["modelValue"])):V(s).type===V(Y).SELECT?(o(),k(d,F({key:3,modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=e=>r.value=e),placeholder:V(s).placeholder,class:"option-select",teleported:!1},V(s).props),{default:w((()=>[(o(!0),u(h,null,g(V(s).options,(e=>(o(),k(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},16,["modelValue","placeholder"])):V(s).type===V(Y).DYNAMIC_TAGS?(o(),k(se,F({key:4,class:"dynamic-tags",modelValue:r.value,"onUpdate:modelValue":l[4]||(l[4]=e=>r.value=e)},V(s).props),null,16,["modelValue"])):V(s).type===V(Y).COLOR_PICKER?(o(),k(i,F({key:5,modelValue:r.value,"onUpdate:modelValue":l[5]||(l[5]=e=>r.value=e)},V(s).props,{predefine:V($)}),null,16,["modelValue","predefine"])):V(s).type===V(Y).INPUT_NUMBER?(o(),k(te,F({key:6,modelValue:r.value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.value=e),disabled:V(s).disabled},V(s).props),null,16,["modelValue","disabled"])):V(s).type===V(Y).DATE_PICKER?(o(),k(p,F({key:7,modelValue:r.value,"onUpdate:modelValue":l[7]||(l[7]=e=>r.value=e),disabled:V(s).disabled,class:"option-select"},V(s).props),null,16,["modelValue","disabled"])):V(s).type===V(Y).BUTTON?(o(),u("button",F({key:8,disabled:V(s).disabled},V(s).props,{class:"vp-button"}),c(V(s).value),17,oe)):v("",!0),V(s).actionRender?(o(),k(I,{key:9,"render-fn":V(s).actionRender},null,8,["render-fn"])):v("",!0)])),_:1})}}}),de=s(e({__name:"TransitionBodyCollapse",setup(e){const l={enter(e){e.style.height="auto";let l=window.getComputedStyle(e).height;e.style.height="0px",e.offsetHeight,e.style.overflow="hidden",e.style.height=l},afterEnter(e){e.style.height="",e.style.overflow=""},leave(e){e.style.height=window.getComputedStyle(e).height,e.offsetHeight,e.style.overflow="hidden",e.style.height="0px"},afterLeave(e){e.style.height="",e.style.overflow=""}};return(e,a)=>(o(),k(O,{onEnter:l.enter,onAfterEnter:l.afterEnter,onLeave:l.leave,onAfterLeave:l.afterLeave},{default:w((()=>[R(e.$slots,"default",{},void 0,!0)])),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"]))}}),[["__scopeId","data-v-93608f42"]]),ie=["data-key"],re={class:"panel-header vp-bg"},pe=["title"],ce={class:"item-label"},ve={class:"p-right"},me={style:{width:"20px",height:"20px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ye=[r("g",{fill:"none"},[r("path",{d:"M15.794 7.733a.75.75 0 0 1-.026 1.06l-5.25 5.001a.75.75 0 0 1-1.035 0l-5.25-5a.75.75 0 0 1 1.034-1.087l4.734 4.509l4.733-4.51a.75.75 0 0 1 1.06.027z",fill:"currentColor"})],-1)],fe=["data-key","onClick"],be={class:"o-left"},he=["title"],ge=["title"],ke=["src"],we=["title"],xe={class:"item-title-wrap"},Ve={class:"item-label-wrap"},_e={class:"item-label"},Ce={style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Ee=[r("g",{fill:"none"},[r("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 1a7 7 0 1 0 0 14a7 7 0 0 0 0-14zm0 10.5a.75.75 0 1 1 0 1.5a.75.75 0 0 1 0-1.5zm0-8a2.5 2.5 0 0 1 1.651 4.377l-.154.125l-.219.163l-.087.072a1.968 1.968 0 0 0-.156.149c-.339.36-.535.856-.535 1.614a.5.5 0 0 1-1 0c0-1.012.293-1.752.805-2.298a3.11 3.11 0 0 1 .356-.323l.247-.185l.118-.1A1.5 1.5 0 1 0 8.5 8a.5.5 0 0 1-1 .001A2.5 2.5 0 0 1 10 5.5z",fill:"currentColor"})],-1)],Ue=["innerHTML"],Te=["innerHTML"],Fe={class:"o-right"},Ie=e({__name:"OptionItem",props:{item:{},foldedKeyMap:{default:{}}},emits:["onToggleExpand","updateValue"],setup(e,{emit:t}){const n=e,{item:s,foldedKeyMap:i}=l(n),p=t,y=a((()=>!i.value[s.value.key]));return(e,l)=>{const a=K;return o(),u("div",{class:m(["c-panel-item",[V(s).cls]]),"data-key":V(s).key,key:V(s).key},[r("div",re,[r("div",{class:"p-left",title:V(s).label},[r("div",ce,c(V(s).label),1)],8,pe),r("div",ve,[!V(s).hideExpandIcon&&V(s).children&&V(s).children.length?(o(),u("div",{key:0,class:m(["btn-no-style btn-toggle-expand",{expanded:V(y)}]),onClick:l[0]||(l[0]=l=>e.$emit("onToggleExpand",V(s)))},[(o(),u("svg",me,ye))],2)):v("",!0),P(ue,{item:V(s),onUpdateValue:l[1]||(l[1]=e=>p("updateValue",e))},null,8,["item"])])]),P(de,null,{default:w((()=>[V(s).children&&V(s).children.length?d((o(),k(H,{key:0,tag:"div",name:"fadeMove",class:"panel-body"},{default:w((()=>[(o(!0),u(h,null,g(V(s).children,((e,t)=>(o(),u("div",F({key:e.key||t,class:["sub-item",[{clickable:e.clickFn},e.cls]],"data-key":e.key,onClick:l=>{return a=l,void("function"==typeof(t=e.clickFn)&&t(a,s.value));var a,t},ref_for:!0},e.itemProps),[e.render?(o(),k(I,{key:0,"render-fn":e.render},null,8,["render-fn"])):(o(),u(h,{key:1},[r("div",be,[e.iconRender?(o(),u("div",{key:0,class:"item-icon",title:e.label},[P(I,{"render-fn":e.iconRender},null,8,["render-fn"])],8,he)):e.icon?(o(),u("div",{key:1,class:"item-icon",title:e.label},[r("img",{src:e.icon,alt:"icon"},null,8,ke)],8,ge)):e.iconClass?(o(),u("div",{key:2,class:"item-icon",title:e.label},[r("i",{class:m(e.iconClass)},null,2)],8,we)):v("",!0),r("div",xe,[r("div",Ve,[r("span",_e,c(e.label),1),e.tips?(o(),k(a,{key:0,effect:"light"},{content:w((()=>[r("span",{innerHTML:e.tips},null,8,Ue)])),default:w((()=>[(o(),u("svg",Ce,Ee))])),_:2},1024)):v("",!0)]),e.subtitle?(o(),u("div",{key:0,class:"item-subtitle",innerHTML:e.subtitle},null,8,Te)):v("",!0)])]),r("div",Fe,[P(ue,{item:e,onUpdateValue:l[2]||(l[2]=e=>p("updateValue",e))},null,8,["item"])])],64))],16,fe)))),128))])),_:1},512)),[[z,V(y)]]):v("",!0)])),_:1})],10,ie)}}}),Ae={class:"option-ui"},Be=e({name:"OptionUI",props:{optionList:{},store:{},expandId:{default:""}},emits:["onToggleExpand","updateValue"],setup(e,{emit:a}){const n="option_ui_folded_key_map",s=e,{expandId:i,store:r}=l(s),p=a;j("sharedStore",r);const c=t(JSON.parse(localStorage.getItem(n+i.value)||"null")||{}),v=e=>{c.value[e.key]?delete c.value[e.key]:c.value[e.key]=!0,localStorage.setItem(n+i.value,JSON.stringify(c.value))};return(e,l)=>(o(),u("div",Ae,[(o(!0),u(h,null,g(e.optionList,(e=>d((o(),k(Ie,{item:e,key:e.key,"folded-key-map":V(c),onOnToggleExpand:v,onUpdateValue:l[0]||(l[0]=e=>p("updateValue",e))},null,8,["item","folded-key-map"])),[[z,!e.hidden]]))),128))]))}});export{Y as S,Be as _};

import{d as e,c5 as l,t as a,c as o,_ as d,q as t,p as m,o as i,ci as s,Q as n,U as u,g as r,bC as p,ac as c,bx as y,cm as b,bY as V,e as f,F as k,m as v,bX as h,c3 as T,W as A,V as I,h as _,c4 as U,cn as F,aD as g,aw as O,co as C,cp as R,n as j,i as w,cq as E,r as P,N as L,O as S,cr as x,y as B,w as M,f as N,j as $,k as D,aH as q,T as H}from"./index-BJklM7uy.js";import{A as K}from"./enum-CdO7LyZZ.js";/* empty css                  *//* empty css                    *//* empty css                        *//* empty css                        */import{c as W,_ as G}from"./set-Clims6tx.js";import{V as X}from"./index-BB5hC_Ln.js";const z=d(e({name:"AutoFormItem",components:{VueMonaco:X,VueRender:l},props:{item:{type:Object,required:!0},model:{type:Object,required:!0}},setup(e,{emit:l}){const{item:d,model:t}=a(e),m=(e,l)=>e.__v_isRef?`value.${l}`:l,i=o({get:()=>G(t.value,m(t.value,d.value.key)),set(e){W(t.value,m(t.value,d.value.key),e)}});return{AutoFormItemType:K,dynamicValue:i}}}),[["render",function(e,l,a,o,d,P){const L=p,S=y,x=b,B=t("VueMonaco"),M=t("VueRender"),N=h,$=V,D=T,q=A,H=U,K=g,W=F,G=O,X=R,z=C,Q=E;return i(),m(Q,{label:e.item.label,prop:e.item.key,class:w(["auto-form-item",[e.item.cls]]),style:j(e.item.style||{width:e.item.width})},s({default:n((()=>[e.item.type===e.AutoFormItemType.INPUT?(i(),m(L,c({key:0,modelValue:e.dynamicValue,"onUpdate:modelValue":l[0]||(l[0]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.INPUT_NUMBER?(i(),m(S,c({key:1,modelValue:e.dynamicValue,"onUpdate:modelValue":l[1]||(l[1]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled,controls:!1},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.INPUT_AUTOCOMPLETE?(i(),m(x,c({key:2,modelValue:e.dynamicValue,"onUpdate:modelValue":l[2]||(l[2]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.MONACO_EDITOR?(i(),m(B,c({key:3,modelValue:e.dynamicValue,"onUpdate:modelValue":l[3]||(l[3]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,disabled:e.item.disabled,"show-line-numbers":""},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.SELECT?(i(),m($,c({key:4,modelValue:e.dynamicValue,"onUpdate:modelValue":l[4]||(l[4]=l=>e.dynamicValue=l),placeholder:e.item.placeholder,class:"full-width",disabled:e.item.disabled},e.item.props),{default:n((()=>[e.item.selectOptionRender?(i(),m(M,{key:0,"render-fn":e.item.selectOptionRender,params:e.item},null,8,["render-fn","params"])):(i(!0),f(k,{key:1},v(e.item.options,(e=>(i(),m(N,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.COLOR_PICKER?(i(),m(D,c({key:5,modelValue:e.dynamicValue,"onUpdate:modelValue":l[5]||(l[5]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.BUTTON?(i(),m(q,c({key:6,onClick:e.item.clickHandler,disabled:e.item.disabled},e.item.props),{default:n((()=>[I(_(e.item.placeholder),1)])),_:1},16,["onClick","disabled"])):e.item.type===e.AutoFormItemType.DATE_PICKER?(i(),m(H,c({key:7,modelValue:e.dynamicValue,"onUpdate:modelValue":l[6]||(l[6]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.CHECKBOX_GROUP?(i(),m(W,c({key:8,modelValue:e.dynamicValue,"onUpdate:modelValue":l[7]||(l[7]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),{default:n((()=>[(i(!0),f(k,null,v(e.item.options||e.item.props.options,((e,l)=>(i(),m(K,{key:l,value:e.value},{default:n((()=>[I(_(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.SWITCH?(i(),m(G,c({key:9,modelValue:e.dynamicValue,"onUpdate:modelValue":l[8]||(l[8]=l=>e.dynamicValue=l),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.RADIO_GROUP?(i(),m(z,{key:10,disabled:e.item.disabled,modelValue:e.dynamicValue,"onUpdate:modelValue":l[9]||(l[9]=l=>e.dynamicValue=l)},{default:n((()=>[(i(!0),f(k,null,v(e.item.options||e.item.props.options,((e,l)=>(i(),m(X,{key:l,value:e.value},{default:n((()=>[I(_(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["disabled","modelValue"])):r("",!0),e.item.render?(i(),m(M,{key:11,"render-fn":e.item.render},null,8,["render-fn"])):r("",!0)])),_:2},[e.item.renderLabel?{name:"label",fn:n((({label:l})=>[u(M,{"render-fn":e.item.renderLabel,label:l},null,8,["render-fn","label"])])),key:"0"}:void 0]),1032,["label","prop","class","style"])}]]),Q={class:"auto-form-loading-container"},Y={class:"form-content-wrap"},J={key:0,class:"auto-form-actions"},Z=e({name:"AutoFormElPlus",props:{formSchema:{},hideActions:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},emits:["onInvalidForm","onSubmit","onMounted","onBeforeUnmount"],setup(e,{expose:l,emit:o}){const d=e,t=o,{formSchema:s}=a(d),p=P(),y=()=>{p.value.validate((async e=>{if(!e)return console.log("Invalid form"),void t("onInvalidForm");console.log("onSubmit",s.value.model),t("onSubmit",s.value.model)}))};return L((()=>{t("onMounted",p.value)})),S((()=>{t("onBeforeUnmount",p.value)})),l({formRef:p,AutoFormItemType:K,submitForm:y}),(e,l)=>{const a=A,o=x;return i(),m(o,c({ref_key:"formRef",ref:p,"label-width":B(s).labelWidth,model:B(s).model,rules:B(s).rules,"label-position":B(s).labelPosition,class:"auto-form-el-plus",onSubmit:M(y,["prevent"])},B(s).props,{disabled:e.isLoading}),{default:n((()=>[u(H,{name:"fade"},{default:n((()=>[D(N("div",Q,l[1]||(l[1]=[N("div",{class:"loading-text vp-panel"},"Loading...",-1)]),512),[[q,e.isLoading]])])),_:1}),N("div",Y,[(i(!0),f(k,null,v(B(s).formItems,((e,l)=>(i(),f(k,null,[Array.isArray(e)?(i(),f("div",{key:"g_"+l,class:w(["auto-form-grid",[`count-${e.length}`]]),style:j({gridTemplateColumns:`repeat(${e.length}, 1fr)`})},[(i(!0),f(k,null,v(e,(e=>(i(),f(k,null,["key"in e?(i(),m(z,{key:e.key,item:e,model:B(s).model},null,8,["item","model"])):r("",!0)],64)))),256))],6)):"children"in e&&Array.isArray(e.children)?(i(),f("div",{key:"ag_"+l,class:w(["auto-form-grid",[`count-${e.cols}`]]),style:j({gridTemplateColumns:`repeat(${e.cols}, 1fr)`})},[(i(!0),f(k,null,v(e.children,(e=>(i(),m(z,{key:e.key,item:e,model:B(s).model},null,8,["item","model"])))),128))],6)):"key"in e?(i(),m(z,{key:l,item:e,model:B(s).model},null,8,["item","model"])):r("",!0)],64)))),256))]),e.hideActions?r("",!0):(i(),f("div",J,[$(e.$slots,"actions",{submitForm:y},(()=>[u(a,{type:"primary",onClick:l[0]||(l[0]=e=>y())},{default:n((()=>l[2]||(l[2]=[I("Submit")]))),_:1})]))])),$(e.$slots,"default")])),_:3},16,["label-width","model","rules","label-position","disabled"])}}});export{Z as _};

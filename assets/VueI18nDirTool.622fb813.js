import{d as X,G as x,ah as nn,ai as io,aj as At,H as je,ak as on,r as D,O as ye,al as F,am as Se,an as W,N as Me,ao as L,I as N,M as O,ap as K,K as J,aq as xe,Q as fe,ar as Ze,a1 as rn,P as E,U as Et,V as Qe,as as so,at as co,Z as uo,au as fo,av as ho,aw as zt,ax as an,ay as pt,a2 as ln,az as go,aA as ct,aB as vo,aC as bo,aD as po,aE as ut,aF as yo,i as mo,aG as _o,aH as Lt,aI as Co,ac as xo,a9 as jt,aJ as ft,aK as ko,aL as So,X as ze,w as pe,aM as ue,aN as Mt,aO as wo,aP as Ro,aQ as $o,aR as Ut,aS as To,aT as No,aU as We,t as sn,s as dn,a4 as cn,_ as yt,o as j,c as ne,a as z,b as Xe,a3 as Do,m as se,e as G,aV as un,a5 as ke,F as Ne,x as he,f as fn,y as hn,A as gn,C as vn,p as bt,n as Po,v as Io,T as Ko,aW as Fo,q as ht}from"./index.8d26d9f0.js";import{f as Oo,i as Bo,e as Ao,I as Eo,_ as zo}from"./translate.331d9032.js";import{_ as bn,u as Lo,a as jo,b as Mo}from"./use-file-drop.89aa8455.js";function pn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const Uo=X({name:"Switcher",render(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},x("path",{d:"M12 8l10 8l-10 8z"}))}}),Ho=e=>{const{borderColor:t,primaryColor:n,baseColor:o,textColorDisabled:a,inputColorDisabled:d,textColor2:s,opacityDisabled:f,borderRadius:c,fontSizeSmall:h,fontSizeMedium:g,fontSizeLarge:k,heightSmall:y,heightMedium:b,heightLarge:u,lineHeight:i}=e;return Object.assign(Object.assign({},io),{labelLineHeight:i,buttonHeightSmall:y,buttonHeightMedium:b,buttonHeightLarge:u,fontSizeSmall:h,fontSizeMedium:g,fontSizeLarge:k,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${At(n,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:o,colorDisabled:d,colorActive:"#0000",textColor:s,textColorDisabled:a,dotColorActive:n,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:n,buttonBorderColorHover:t,buttonColor:o,buttonColorActive:o,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:n,opacityDisabled:f,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${At(n,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:c})},Vo={name:"Radio",common:nn,self:Ho},Go=Vo,qo={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},yn=je("n-radio-group");function Yo(e){const t=on(e,{mergedSize(S){const{size:R}=e;if(R!==void 0)return R;if(s){const{mergedSizeRef:{value:P}}=s;if(P!==void 0)return P}return S?S.mergedSize.value:"medium"},mergedDisabled(S){return!!(e.disabled||s!=null&&s.disabledRef.value||S!=null&&S.disabled.value)}}),{mergedSizeRef:n,mergedDisabledRef:o}=t,a=D(null),d=D(null),s=ye(yn,null),f=D(e.defaultChecked),c=F(e,"checked"),h=Se(c,f),g=W(()=>s?s.valueRef.value===e.value:h.value),k=W(()=>{const{name:S}=e;if(S!==void 0)return S;if(s)return s.nameRef.value}),y=D(!1);function b(){if(s){const{doUpdateValue:S}=s,{value:R}=e;L(S,R)}else{const{onUpdateChecked:S,"onUpdate:checked":R}=e,{nTriggerFormInput:P,nTriggerFormChange:$}=t;S&&L(S,!0),R&&L(R,!0),P(),$(),f.value=!0}}function u(){o.value||g.value||b()}function i(){u()}function m(){y.value=!1}function w(){y.value=!0}return{mergedClsPrefix:s?s.mergedClsPrefixRef:Me(e).mergedClsPrefixRef,inputRef:a,labelRef:d,mergedName:k,mergedDisabled:o,uncontrolledChecked:f,renderSafeChecked:g,focus:y,mergedSize:n,handleRadioInputChange:i,handleRadioInputBlur:m,handleRadioInputFocus:w}}const Wo=N("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[O("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[K("checked",{backgroundColor:"var(--n-button-border-color-active)"}),K("disabled",{opacity:"var(--n-opacity-disabled)"})]),K("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[N("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),O("splitor",{height:"var(--n-height)"})]),N("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[N("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),O("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),J("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[O("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),J("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[O("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),xe("disabled",`
 cursor: pointer;
 `,[J("&:hover",[O("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),xe("checked",{color:"var(--n-button-text-color-hover)"})]),K("focus",[J("&:not(:active)",[O("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),K("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),K("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function Jo(e,t,n){var o;const a=[];let d=!1;for(let s=0;s<e.length;++s){const f=e[s],c=(o=f.type)===null||o===void 0?void 0:o.name;c==="RadioButton"&&(d=!0);const h=f.props;if(c!=="RadioButton"){a.push(f);continue}if(s===0)a.push(f);else{const g=a[a.length-1].props,k=t===g.value,y=g.disabled,b=t===h.value,u=h.disabled,i=(k?2:0)+(y?0:1),m=(b?2:0)+(u?0:1),w={[`${n}-radio-group__splitor--disabled`]:y,[`${n}-radio-group__splitor--checked`]:k},S={[`${n}-radio-group__splitor--disabled`]:u,[`${n}-radio-group__splitor--checked`]:b},R=i<m?S:w;a.push(x("div",{class:[`${n}-radio-group__splitor`,R]}),f)}}return{children:a,isButtonGroup:d}}const Xo=Object.assign(Object.assign({},fe.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Zo=X({name:"RadioGroup",props:Xo,setup(e){const t=D(null),{mergedSizeRef:n,mergedDisabledRef:o,nTriggerFormChange:a,nTriggerFormInput:d,nTriggerFormBlur:s,nTriggerFormFocus:f}=on(e),{mergedClsPrefixRef:c,inlineThemeDisabled:h,mergedRtlRef:g}=Me(e),k=fe("Radio","-radio-group",Wo,Go,e,c),y=D(e.defaultValue),b=F(e,"value"),u=Se(b,y);function i($){const{onUpdateValue:p,"onUpdate:value":I}=e;p&&L(p,$),I&&L(I,$),y.value=$,a(),d()}function m($){const{value:p}=t;!p||p.contains($.relatedTarget)||f()}function w($){const{value:p}=t;!p||p.contains($.relatedTarget)||s()}Ze(yn,{mergedClsPrefixRef:c,nameRef:F(e,"name"),valueRef:u,disabledRef:o,mergedSizeRef:n,doUpdateValue:i});const S=rn("Radio",g,c),R=E(()=>{const{value:$}=n,{common:{cubicBezierEaseInOut:p},self:{buttonBorderColor:I,buttonBorderColorActive:oe,buttonBorderRadius:Z,buttonBoxShadow:de,buttonBoxShadowFocus:U,buttonBoxShadowHover:Ke,buttonColorActive:Q,buttonTextColor:ae,buttonTextColorActive:le,buttonTextColorHover:Fe,opacityDisabled:te,[Et("buttonHeight",$)]:_,[Et("fontSize",$)]:B}}=k.value;return{"--n-font-size":B,"--n-bezier":p,"--n-button-border-color":I,"--n-button-border-color-active":oe,"--n-button-border-radius":Z,"--n-button-box-shadow":de,"--n-button-box-shadow-focus":U,"--n-button-box-shadow-hover":Ke,"--n-button-color-active":Q,"--n-button-text-color":ae,"--n-button-text-color-hover":Fe,"--n-button-text-color-active":le,"--n-height":_,"--n-opacity-disabled":te}}),P=h?Qe("radio-group",E(()=>n.value[0]),R,e):void 0;return{selfElRef:t,rtlEnabled:S,mergedClsPrefix:c,mergedValue:u,handleFocusout:w,handleFocusin:m,cssVars:h?void 0:R,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender}},render(){var e;const{mergedValue:t,mergedClsPrefix:n,handleFocusin:o,handleFocusout:a}=this,{children:d,isButtonGroup:s}=Jo(so(co(this)),t,n);return(e=this.onRender)===null||e===void 0||e.call(this),x("div",{onFocusin:o,onFocusout:a,ref:"selfElRef",class:[`${n}-radio-group`,this.rtlEnabled&&`${n}-radio-group--rtl`,this.themeClass,s&&`${n}-radio-group--button-group`],style:this.cssVars},d)}}),Qo=X({name:"RadioButton",props:qo,setup:Yo,render(){const{mergedClsPrefix:e}=this;return x("label",{class:[`${e}-radio-button`,this.mergedDisabled&&`${e}-radio-button--disabled`,this.renderSafeChecked&&`${e}-radio-button--checked`,this.focus&&[`${e}-radio-button--focus`]]},x("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),x("div",{class:`${e}-radio-button__state-border`}),uo(this.$slots.default,t=>!t&&!this.label?null:x("div",{ref:"labelRef",class:`${e}-radio__label`},t||this.label)))}}),er=e=>{const{baseColor:t,textColor2:n,bodyColor:o,cardColor:a,dividerColor:d,actionColor:s,scrollbarColor:f,scrollbarColorHover:c,invertedColor:h}=e;return{textColor:n,textColorInverted:"#FFF",color:o,colorEmbedded:s,headerColor:a,headerColorInverted:h,footerColor:s,footerColorInverted:h,headerBorderColor:d,headerBorderColorInverted:h,footerBorderColor:d,footerBorderColorInverted:h,siderBorderColor:d,siderBorderColorInverted:h,siderColor:a,siderColorInverted:h,siderToggleButtonBorder:`1px solid ${d}`,siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:zt(o,f),siderToggleBarColorHover:zt(o,c),__invertScrollbar:"true"}},tr=fo({name:"Layout",common:nn,peers:{Scrollbar:ho},self:er}),mn=tr,nr=je("n-layout-sider"),_n={type:String,default:"static"},or=N("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[N("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),K("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),rr={embedded:Boolean,position:_n,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},Cn=je("n-layout");function xn(e){return X({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},fe.props),rr),setup(t){const n=D(null),o=D(null),{mergedClsPrefixRef:a,inlineThemeDisabled:d}=Me(t),s=fe("Layout","-layout",or,mn,t,a);function f(i,m){if(t.nativeScrollbar){const{value:w}=n;w&&(m===void 0?w.scrollTo(i):w.scrollTo(i,m))}else{const{value:w}=o;w&&w.scrollTo(i,m)}}Ze(Cn,t);let c=0,h=0;const g=i=>{var m;const w=i.target;c=w.scrollLeft,h=w.scrollTop,(m=t.onScroll)===null||m===void 0||m.call(t,i)};an(()=>{if(t.nativeScrollbar){const i=n.value;i&&(i.scrollTop=h,i.scrollLeft=c)}});const k={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},y={scrollTo:f},b=E(()=>{const{common:{cubicBezierEaseInOut:i},self:m}=s.value;return{"--n-bezier":i,"--n-color":t.embedded?m.colorEmbedded:m.color,"--n-text-color":m.textColor}}),u=d?Qe("layout",E(()=>t.embedded?"e":""),b,t):void 0;return Object.assign({mergedClsPrefix:a,scrollableElRef:n,scrollbarInstRef:o,hasSiderStyle:k,mergedTheme:s,handleNativeElScroll:g,cssVars:d?void 0:b,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender},y)},render(){var t;const{mergedClsPrefix:n,hasSider:o}=this;(t=this.onRender)===null||t===void 0||t.call(this);const a=o?this.hasSiderStyle:void 0,d=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return x("div",{class:d,style:this.cssVars},this.nativeScrollbar?x("div",{ref:"scrollableElRef",class:`${n}-layout-scroll-container`,style:[this.contentStyle,a],onScroll:this.handleNativeElScroll},this.$slots):x(pt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,a]}),this.$slots))}})}const ar=xn(!1),lr=xn(!0),ir=N("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[K("bordered",[O("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),O("left-placement",[K("bordered",[O("border",`
 right: 0;
 `)])]),K("right-placement",`
 justify-content: flex-start;
 `,[K("bordered",[O("border",`
 left: 0;
 `)]),K("collapsed",[N("layout-toggle-button",[N("base-icon",`
 transform: rotate(180deg);
 `)]),N("layout-toggle-bar",[J("&:hover",[O("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),N("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[N("base-icon",`
 transform: rotate(0);
 `)]),N("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[J("&:hover",[O("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),K("collapsed",[N("layout-toggle-bar",[J("&:hover",[O("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),N("layout-toggle-button",[N("base-icon",`
 transform: rotate(0);
 `)])]),N("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[N("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),N("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[O("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),O("bottom",`
 position: absolute;
 top: 34px;
 `),J("&:hover",[O("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),O("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),J("&:hover",[O("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),O("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),N("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),K("show-content",[N("layout-sider-scroll-container",{opacity:1})]),K("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),sr=X({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return x("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},x(ln,{clsPrefix:e},{default:()=>x(go,null)}))}}),dr=X({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return x("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},x("div",{class:`${e}-layout-toggle-bar__top`}),x("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),cr={position:_n,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},ur=X({name:"LayoutSider",props:Object.assign(Object.assign({},fe.props),cr),setup(e){const t=ye(Cn),n=D(null),o=D(null),a=E(()=>ct(c.value?e.collapsedWidth:e.width)),d=E(()=>e.collapseMode!=="transform"?{}:{minWidth:ct(e.width)}),s=E(()=>t?t.siderPlacement:"left"),f=D(e.defaultCollapsed),c=Se(F(e,"collapsed"),f);function h($,p){if(e.nativeScrollbar){const{value:I}=n;I&&(p===void 0?I.scrollTo($):I.scrollTo($,p))}else{const{value:I}=o;I&&I.scrollTo($,p)}}function g(){const{"onUpdate:collapsed":$,onUpdateCollapsed:p,onExpand:I,onCollapse:oe}=e,{value:Z}=c;p&&L(p,!Z),$&&L($,!Z),f.value=!Z,Z?I&&L(I):oe&&L(oe)}let k=0,y=0;const b=$=>{var p;const I=$.target;k=I.scrollLeft,y=I.scrollTop,(p=e.onScroll)===null||p===void 0||p.call(e,$)};an(()=>{if(e.nativeScrollbar){const $=n.value;$&&($.scrollTop=y,$.scrollLeft=k)}}),Ze(nr,{collapsedRef:c,collapseModeRef:F(e,"collapseMode")});const{mergedClsPrefixRef:u,inlineThemeDisabled:i}=Me(e),m=fe("Layout","-layout-sider",ir,mn,e,u);function w($){var p,I;$.propertyName==="max-width"&&(c.value?(p=e.onAfterLeave)===null||p===void 0||p.call(e):(I=e.onAfterEnter)===null||I===void 0||I.call(e))}const S={scrollTo:h},R=E(()=>{const{common:{cubicBezierEaseInOut:$},self:p}=m.value,{siderToggleButtonColor:I,siderToggleButtonBorder:oe,siderToggleBarColor:Z,siderToggleBarColorHover:de}=p,U={"--n-bezier":$,"--n-toggle-button-color":I,"--n-toggle-button-border":oe,"--n-toggle-bar-color":Z,"--n-toggle-bar-color-hover":de};return e.inverted?(U["--n-color"]=p.siderColorInverted,U["--n-text-color"]=p.textColorInverted,U["--n-border-color"]=p.siderBorderColorInverted,U["--n-toggle-button-icon-color"]=p.siderToggleButtonIconColorInverted,U.__invertScrollbar=p.__invertScrollbar):(U["--n-color"]=p.siderColor,U["--n-text-color"]=p.textColor,U["--n-border-color"]=p.siderBorderColor,U["--n-toggle-button-icon-color"]=p.siderToggleButtonIconColor),U}),P=i?Qe("layout-sider",E(()=>e.inverted?"a":"b"),R,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:o,mergedClsPrefix:u,mergedTheme:m,styleMaxWidth:a,mergedCollapsed:c,scrollContainerStyle:d,siderPlacement:s,handleNativeElScroll:b,handleTransitionend:w,handleTriggerClick:g,inlineThemeDisabled:i,cssVars:R,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender},S)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:o}=this;return(e=this.onRender)===null||e===void 0||e.call(this),x("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:ct(this.width)}]},this.nativeScrollbar?x("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):x(pt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),o?o==="bar"?x(dr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):x(sr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?x("div",{class:`${t}-layout-sider__border`}):null)}}),fr=Object.assign(Object.assign({},fe.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),hr=X({name:"Scrollbar",props:fr,setup(){const e=D(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var o;(o=e.value)===null||o===void 0||o.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var o;(o=e.value)===null||o===void 0||o.scrollBy(n[0],n[1])}}),{scrollbarInstRef:e})},render(){return x(pt,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),gr=hr,kn=je("n-tree-select"),Ue=je("n-tree"),vr=X({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=ye(Ue,null);return()=>{const{clsPrefix:n}=e;return x("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,{[`${n}-tree-node-switcher--expanded`]:e.expanded,[`${n}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},x("div",{class:`${n}-tree-node-switcher__icon`},x(vo,null,{default:()=>{if(e.loading)return x(bo,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:o}=t;return o?o():x(ln,{clsPrefix:n,key:"switcher"},{default:()=>x(Uo,null)})}})))}}}),br=X({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=ye(Ue);function n(a){const{onCheck:d}=e;if(d)return d(a)}function o(a){e.indeterminate?n(!1):n(a)}return{handleUpdateValue:o,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:o,disabled:a,focusable:d,handleUpdateValue:s}=this;return x("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},x(po,{focusable:d,disabled:a,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:o,onUpdateChecked:s}))}}),pr=X({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:o,labelFieldRef:a}=ye(Ue),d=D(null);function s(c){const{onClick:h}=e;h&&h(c)}function f(c){s(c)}return{selfRef:d,renderLabel:t,renderPrefix:n,renderSuffix:o,labelField:a,handleClick:f}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:o=!1,selected:a=!1,renderLabel:d,renderPrefix:s,renderSuffix:f,handleClick:c,onDragstart:h,tmNode:{rawNode:g,rawNode:{prefix:k,suffix:y,[t]:b}}}=this;return x("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:c,draggable:h===void 0?void 0:!0,onDragstart:h}),s||k?x("div",{class:`${e}-tree-node-content__prefix`},s?s({option:g,selected:a,checked:o}):ut(k)):null,x("div",{class:`${e}-tree-node-content__text`},d?d({option:g,selected:a,checked:o}):ut(b)),f||y?x("div",{class:`${e}-tree-node-content__suffix`},f?f({option:g,selected:a,checked:o}):ut(y)):null)}});function Ht({position:e,offsetLevel:t,indent:n,el:o}){const a={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")a.left=0,a.top=0,a.bottom=0,a.borderRadius="inherit",a.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const d=e==="before"?"top":"bottom";a[d]=0,a.left=`${o.offsetLeft+6-t*n}px`,a.height="2px",a.backgroundColor="var(--n-drop-mark-color)",a.transformOrigin=d,a.borderRadius="1px",a.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return x("div",{style:a})}function yr({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}function be(e,t){return!!e.rawNode[t]}function Sn(e,t,n,o){e==null||e.forEach(a=>{n(a),Sn(a[t],t,n,o),o(a)})}function mr(e,t,n,o,a){const d=new Set,s=new Set,f=[];return Sn(e,o,c=>{if(f.push(c),a(t,c)){s.add(c[n]);for(let h=f.length-2;h>=0;--h)if(!d.has(f[h][n]))d.add(f[h][n]);else return}},()=>{f.pop()}),{expandedKeys:Array.from(d),highlightKeySet:s}}if(yo&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function _r(e,t,n,o,a){const d=new Set,s=new Set,f=new Set,c=[],h=[],g=[];function k(b){b.forEach(u=>{if(g.push(u),t(n,u)){d.add(u[o]),f.add(u[o]);for(let m=g.length-2;m>=0;--m){const w=g[m][o];if(!s.has(w))s.add(w),d.has(w)&&d.delete(w);else break}}const i=u[a];i&&k(i),g.pop()})}k(e);function y(b,u){b.forEach(i=>{const m=i[o],w=d.has(m),S=s.has(m);if(!w&&!S)return;const R=i[a];if(R)if(w)u.push(i);else{c.push(m);const P=Object.assign(Object.assign({},i),{[a]:[]});u.push(P),y(R,P[a])}else u.push(i)})}return y(e,h),{filteredTree:h,highlightKeySet:f,expandedKeys:c}}const Cr=X({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=ye(Ue),{droppingNodeParentRef:n,droppingMouseNodeRef:o,draggingNodeRef:a,droppingPositionRef:d,droppingOffsetLevelRef:s,nodePropsRef:f,indentRef:c,blockLineRef:h,checkboxPlacementRef:g,checkOnClickRef:k,disabledFieldRef:y}=t,b=W(()=>!!e.tmNode.rawNode.checkboxDisabled),u=W(()=>be(e.tmNode,y.value)),i=W(()=>t.disabledRef.value||u.value),m=E(()=>{const{value:_}=f;if(!!_)return _({option:e.tmNode.rawNode})}),w=D(null),S={value:null};mo(()=>{S.value=w.value.$el});function R(){const{tmNode:_}=e;if(!_.isLeaf&&!_.shallowLoaded){if(!t.loadingKeysRef.value.has(_.key))t.loadingKeysRef.value.add(_.key);else return;const{onLoadRef:{value:B}}=t;B&&B(_.rawNode).then(()=>{t.handleSwitcherClick(_)}).finally(()=>{t.loadingKeysRef.value.delete(_.key)})}else t.handleSwitcherClick(_)}const P=W(()=>!u.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),$=W(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),p=W(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),I=W(()=>{const{value:_}=$;if(!_)return!1;const{value:B}=k;return typeof B=="boolean"?B:B(e.tmNode.rawNode)});function oe(_){const{value:B}=t.expandOnClickRef,{value:H}=P,{value:we}=I;if(!H&&!B&&!we||Lt(_,"checkbox")||Lt(_,"switcher"))return;const{tmNode:me}=e;H&&t.handleSelect(me),B&&!me.isLeaf&&R(),we&&U(!p.value)}function Z(_){var B,H;h.value||(i.value||oe(_),(H=(B=m.value)===null||B===void 0?void 0:B.onClick)===null||H===void 0||H.call(B,_))}function de(_){var B,H;!h.value||(i.value||oe(_),(H=(B=m.value)===null||B===void 0?void 0:B.onClick)===null||H===void 0||H.call(B,_))}function U(_){t.handleCheck(e.tmNode,_)}function Ke(_){t.handleDragStart({event:_,node:e.tmNode})}function Q(_){_.currentTarget===_.target&&t.handleDragEnter({event:_,node:e.tmNode})}function ae(_){_.preventDefault(),t.handleDragOver({event:_,node:e.tmNode})}function le(_){t.handleDragEnd({event:_,node:e.tmNode})}function Fe(_){_.currentTarget===_.target&&t.handleDragLeave({event:_,node:e.tmNode})}function te(_){_.preventDefault(),d.value!==null&&t.handleDrop({event:_,node:e.tmNode,dropPosition:d.value})}return{showDropMark:W(()=>{const{value:_}=a;if(!_)return;const{value:B}=d;if(!B)return;const{value:H}=o;if(!H)return;const{tmNode:we}=e;return we.key===H.key}),showDropMarkAsParent:W(()=>{const{value:_}=n;if(!_)return!1;const{tmNode:B}=e,{value:H}=d;return H==="before"||H==="after"?_.key===B.key:!1}),pending:W(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:W(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:W(()=>{var _;return(_=t.highlightKeySetRef.value)===null||_===void 0?void 0:_.has(e.tmNode.key)}),checked:p,indeterminate:W(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:W(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:W(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:i,checkable:$,mergedCheckOnClick:I,checkboxDisabled:b,selectable:P,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:h,nodeProps:m,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:d,droppingOffsetLevel:s,indent:c,checkboxPlacement:g,contentInstRef:w,contentElRef:S,handleCheck:U,handleDrop:te,handleDragStart:Ke,handleDragEnter:Q,handleDragOver:ae,handleDragEnd:le,handleDragLeave:Fe,handleLineClick:de,handleContentClick:Z,handleSwitcherClick:R}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:o,selectable:a,selected:d,checked:s,highlight:f,draggable:c,blockLine:h,indent:g,disabled:k,pending:y,internalScrollable:b,nodeProps:u,checkboxPlacement:i}=this,m=c&&!k?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,w=b?pn(e.key):void 0,S=i==="right",R=n?x(br,{right:S,focusable:this.checkboxFocusable,disabled:k||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return x("div",Object.assign({class:`${t}-tree-node-wrapper`},m),x("div",Object.assign({},h?u:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:d,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:f,[`${t}-tree-node--pending`]:y,[`${t}-tree-node--disabled`]:k,[`${t}-tree-node--selectable`]:a,[`${t}-tree-node--clickable`]:a||o||this.mergedCheckOnClick},u==null?void 0:u.class],"data-key":w,draggable:c&&h,onClick:this.handleLineClick,onDragstart:c&&h&&!k?this.handleDragStart:void 0}),_o(e.level,x("div",{class:`${t}-tree-node-indent`},x("div",{style:{width:`${g}px`}}))),x(vr,{clsPrefix:t,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),S?null:R,x(pr,{ref:"contentInstRef",clsPrefix:t,checked:s,selected:d,onClick:this.handleContentClick,nodeProps:h?void 0:u,onDragstart:c&&!h&&!k?this.handleDragStart:void 0,tmNode:e}),c?this.showDropMark?Ht({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:g}):this.showDropMarkAsParent?Ht({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:g}):null:null,S?R:null))}}),wn=Cr;function xr({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:o,handleSelect:a,handleSwitcherClick:d}){const{value:s}=o,f=ye(kn,null),c=f?f.pendingNodeKeyRef:D(s.length?s[s.length-1]:null);function h(g){if(!e.keyboard)return;const{value:k}=c;if(k===null){if((g.key==="ArrowDown"||g.key==="ArrowUp")&&g.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(g.key)&&k===null){const{value:y}=t;let b=0;for(;b<y.length;){if(!y[b].disabled){c.value=y[b].key;break}b+=1}}}else{const{value:y}=t;let b=y.findIndex(u=>u.key===k);if(!~b)return;if(g.key==="Enter")a(y[b]);else if(g.key==="ArrowDown")for(g.preventDefault(),b+=1;b<y.length;){if(!y[b].disabled){c.value=y[b].key;break}b+=1}else if(g.key==="ArrowUp")for(g.preventDefault(),b-=1;b>=0;){if(!y[b].disabled){c.value=y[b].key;break}b-=1}else if(g.key==="ArrowLeft"){const u=y[b];if(u.isLeaf||!n.value.includes(k)){const i=u.getParent();i&&(c.value=i.key)}else d(u)}else if(g.key==="ArrowRight"){const u=y[b];if(u.isLeaf)return;if(!n.value.includes(k))d(u);else for(b+=1;b<y.length;){if(!y[b].disabled){c.value=y[b].key;break}b+=1}}}}return{pendingNodeKeyRef:c,handleKeydown:h}}const kr=X({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return x(xo,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>x("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:Co(this.height)}},this.nodes.map(t=>x(wn,{clsPrefix:e,tmNode:t})))})}}),Sr=N("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[J("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),J(">",[N("tree-node",[J("&:first-child",{marginTop:0})])]),N("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),N("tree-motion-wrapper",[K("expand",[jt({duration:"0.2s"})]),K("collapse",[jt({duration:"0.2s",reverse:!0})])]),N("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),N("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[K("highlight",[N("tree-node-content",[O("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),K("disabled",[N("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),xe("disabled",[K("clickable",[N("tree-node-content",`
 cursor: pointer;
 `)])])]),K("block-node",[N("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),xe("block-line",[N("tree-node",[xe("disabled",[N("tree-node-content",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),K("selectable",[N("tree-node-content",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),K("pending",[N("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),K("selected",[N("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),K("block-line",[N("tree-node",[xe("disabled",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),K("pending",`
 background-color: var(--n-node-color-hover);
 `),K("selectable",[xe("selected",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),K("selected",{backgroundColor:"var(--n-node-color-active)"})]),K("disabled",`
 cursor: not-allowed;
 `)])]),N("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[O("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[N("icon",[ft()]),N("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[ft()]),N("base-icon",[ft()])]),K("hide",{visibility:"hidden"}),K("expanded",{transform:"rotate(90deg)"})]),N("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[K("right","margin-left: 4px;")]),K("checkable",[N("tree-node-content",`
 padding: 0 6px;
 `)]),N("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[J("&:last-child",{marginBottom:0}),O("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),O("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),O("suffix",`
 display: inline-flex;
 `)]),O("empty","margin: auto;")]);var wr=globalThis&&globalThis.__awaiter||function(e,t,n,o){function a(d){return d instanceof n?d:new n(function(s){s(d)})}return new(n||(n=Promise))(function(d,s){function f(g){try{h(o.next(g))}catch(k){s(k)}}function c(g){try{h(o.throw(g))}catch(k){s(k)}}function h(g){g.done?d(g.value):a(g.value).then(f,c)}h((o=o.apply(e,t||[])).next())})};const Je=30;function Rr(e,t,n){return{getIsGroup(){return!1},getKey(o){return o[e]},getChildren(o){return o[t]},getDisabled(o){return!!(o[n]||o.checkboxDisabled)}}}const $r={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Tr=Object.assign(Object.assign(Object.assign(Object.assign({},fe.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:yr},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),$r),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Nr=X({name:"Tree",props:Tr,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:o}=Me(e),a=rn("Tree",o,t),d=fe("Tree","-tree",Sr,ko,e,t),s=D(null),f=D(null),c=D(null);function h(){var r;return(r=c.value)===null||r===void 0?void 0:r.listElRef}function g(){var r;return(r=c.value)===null||r===void 0?void 0:r.itemsElRef}const k=E(()=>{const{pattern:r}=e;return r?!r.length||!ot.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:_r(e.data,ot.value,r,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),y=E(()=>So(e.showIrrelevantNodes?e.data:k.value.filteredTree,Rr(e.keyField,e.childrenField,e.disabledField))),b=ye(kn,null),u=e.internalTreeSelect?b.dataTreeMate:y,{watchProps:i}=e,m=D([]);i!=null&&i.includes("defaultCheckedKeys")?ze(()=>{m.value=e.defaultCheckedKeys}):m.value=e.defaultCheckedKeys;const w=F(e,"checkedKeys"),S=Se(w,m),R=E(()=>u.value.getCheckedKeys(S.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),P=E(()=>e.leafOnly?"child":e.checkStrategy),$=E(()=>R.value.checkedKeys),p=E(()=>{const{indeterminateKeys:r}=e;return r!==void 0?r:R.value.indeterminateKeys}),I=D([]);i!=null&&i.includes("defaultSelectedKeys")?ze(()=>{I.value=e.defaultSelectedKeys}):I.value=e.defaultSelectedKeys;const oe=F(e,"selectedKeys"),Z=Se(oe,I),de=D([]),U=r=>{de.value=e.defaultExpandAll?u.value.getNonLeafKeys():r===void 0?e.defaultExpandedKeys:r};i!=null&&i.includes("defaultExpandedKeys")?ze(()=>U(void 0)):ze(()=>U(e.defaultExpandedKeys));const Ke=F(e,"expandedKeys"),Q=Se(Ke,de),ae=E(()=>y.value.getFlattenedNodes(Q.value)),{pendingNodeKeyRef:le,handleKeydown:Fe}=xr({props:e,mergedSelectedKeysRef:Z,fNodesRef:ae,mergedExpandedKeysRef:Q,handleSelect:it,handleSwitcherClick:Dt});let te=null,_=null;const B=D(new Set),H=E(()=>e.internalHighlightKeySet||k.value.highlightKeySet),we=Se(H,B),me=D(new Set),On=E(()=>Q.value.filter(r=>!me.value.has(r)));let Rt=0;const Oe=D(null),He=D(null),Ve=D(null),Ge=D(null),qe=D(0),Bn=E(()=>{const{value:r}=He;return r?r.parent:null}),ot=E(()=>{const{filter:r}=e;if(r)return r;const{labelField:l}=e;return(v,C)=>{if(!v.length)return!0;const T=C[l];return typeof T=="string"?T.toLowerCase().includes(v.toLowerCase()):!1}});pe(F(e,"data"),()=>{me.value.clear(),le.value=null,Ae()},{deep:!1});let rt=!1;const at=()=>{rt=!0,ue(()=>{rt=!1})};let Be;pe(F(e,"pattern"),(r,l)=>{if(e.showIrrelevantNodes)if(Be=void 0,r){const{expandedKeys:v,highlightKeySet:C}=mr(e.data,e.pattern,e.keyField,e.childrenField,ot.value);B.value=C,at(),$e(v,re(v))}else B.value=new Set;else if(!r.length)Be!==void 0&&(at(),$e(Be,re(Be)));else{l.length||(Be=Q.value);const{expandedKeys:v}=k.value;v!==void 0&&(at(),$e(v,re(v)))}});function $t(r){return wr(this,void 0,void 0,function*(){const{onLoad:l}=e;if(!l)return yield Promise.resolve();const{value:v}=me;return yield new Promise(C=>{v.has(r.key)||(v.add(r.key),l(r.rawNode).then(()=>{v.delete(r.key),C()}).catch(T=>{console.error(T),Ee()}))})})}ze(()=>{var r;const{value:l}=y;if(!l)return;const{getNode:v}=l;(r=Q.value)===null||r===void 0||r.forEach(C=>{const T=v(C);T&&!T.shallowLoaded&&$t(T)})});const Re=D(!1),ge=D([]);pe(On,(r,l)=>{if(!e.animated||rt){ue(Ye);return}const v=new Set(l);let C=null,T=null;for(const M of r)if(!v.has(M)){if(C!==null)return;C=M}const q=new Set(r);for(const M of l)if(!q.has(M)){if(T!==null)return;T=M}if(C===null&&T===null)return;const{virtualScroll:V}=e,ce=(V?c.value.listElRef:s.value).offsetHeight,Ce=Math.ceil(ce/Je)+1;let ie;if(C!==null&&(ie=l),T!==null&&(ie===void 0?ie=r:ie=ie.filter(M=>M!==T)),Re.value=!0,ge.value=y.value.getFlattenedNodes(ie),C!==null){const M=ge.value.findIndex(Y=>Y.key===C);if(~M){const Y=ge.value[M].children;if(Y){const ve=Mt(Y,r);ge.value.splice(M+1,0,{__motion:!0,mode:"expand",height:V?ve.length*Je:void 0,nodes:V?ve.slice(0,Ce):ve})}}}if(T!==null){const M=ge.value.findIndex(Y=>Y.key===T);if(~M){const Y=ge.value[M].children;if(!Y)return;Re.value=!0;const ve=Mt(Y,r);ge.value.splice(M+1,0,{__motion:!0,mode:"collapse",height:V?ve.length*Je:void 0,nodes:V?ve.slice(0,Ce):ve})}}});const An=E(()=>wo(ae.value)),En=E(()=>Re.value?ge.value:ae.value);function Ye(){const{value:r}=f;r&&r.sync()}function zn(){Re.value=!1,e.virtualScroll&&ue(Ye)}function re(r){const{getNode:l}=u.value;return r.map(v=>{var C;return((C=l(v))===null||C===void 0?void 0:C.rawNode)||null})}function $e(r,l){const{"onUpdate:expandedKeys":v,onUpdateExpandedKeys:C}=e;de.value=r,v&&L(v,r,l),C&&L(C,r,l)}function Tt(r,l){const{"onUpdate:checkedKeys":v,onUpdateCheckedKeys:C}=e;m.value=r,C&&L(C,r,l),v&&L(v,r,l)}function Ln(r,l){const{"onUpdate:indeterminateKeys":v,onUpdateIndeterminateKeys:C}=e;v&&L(v,r,l),C&&L(C,r,l)}function lt(r,l){const{"onUpdate:selectedKeys":v,onUpdateSelectedKeys:C}=e;I.value=r,C&&L(C,r,l),v&&L(v,r,l)}function jn(r){const{onDragenter:l}=e;l&&L(l,r)}function Mn(r){const{onDragleave:l}=e;l&&L(l,r)}function Un(r){const{onDragend:l}=e;l&&L(l,r)}function Hn(r){const{onDragstart:l}=e;l&&L(l,r)}function Vn(r){const{onDragover:l}=e;l&&L(l,r)}function Gn(r){const{onDrop:l}=e;l&&L(l,r)}function Ae(){qn(),_e()}function qn(){Oe.value=null}function _e(){qe.value=0,He.value=null,Ve.value=null,Ge.value=null,Ee()}function Ee(){te&&(window.clearTimeout(te),te=null),_=null}function Nt(r,l){if(e.disabled||be(r,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){it(r);return}const{checkedKeys:v,indeterminateKeys:C}=u.value[l?"check":"uncheck"](r.key,$.value,{cascade:e.cascade,checkStrategy:P.value,allowNotLoaded:e.allowCheckingNotLoaded});Tt(v,re(v)),Ln(C,re(C))}function Yn(r){if(e.disabled)return;const{key:l}=r,{value:v}=Q,C=v.findIndex(T=>T===l);if(~C){const T=Array.from(v);T.splice(C,1),$e(T,re(T))}else{const T=y.value.getNode(l);if(!T||T.isLeaf)return;let q;if(e.accordion){const V=new Set(r.siblings.map(({key:ce})=>ce));q=v.filter(ce=>!V.has(ce)),q.push(l)}else q=v.concat(l);$e(q,re(q))}}function Dt(r){e.disabled||Re.value||Yn(r)}function it(r){if(!(e.disabled||!e.selectable)){if(le.value=r.key,e.internalUnifySelectCheck){const{value:{checkedKeys:l,indeterminateKeys:v}}=R;e.multiple?Nt(r,!(l.includes(r.key)||v.includes(r.key))):Tt([r.key],re([r.key]))}if(e.multiple){const l=Array.from(Z.value),v=l.findIndex(C=>C===r.key);~v?e.cancelable&&l.splice(v,1):~v||l.push(r.key),lt(l,re(l))}else Z.value.includes(r.key)?e.cancelable&&lt([],[]):lt([r.key],re([r.key]))}}function Wn(r){if(te&&(window.clearTimeout(te),te=null),r.isLeaf)return;_=r.key;const l=()=>{if(_!==r.key)return;const{value:v}=Ve;if(v&&v.key===r.key&&!Q.value.includes(r.key)){const C=Q.value.concat(r.key);$e(C,re(C))}te=null,_=null};r.shallowLoaded?te=window.setTimeout(()=>{l()},1e3):te=window.setTimeout(()=>{$t(r).then(()=>{l()})},1e3)}function Jn({event:r,node:l}){!e.draggable||e.disabled||be(l,e.disabledField)||(Pt({event:r,node:l},!1),jn({event:r,node:l.rawNode}))}function Xn({event:r,node:l}){!e.draggable||e.disabled||be(l,e.disabledField)||Mn({event:r,node:l.rawNode})}function Zn(r){r.target===r.currentTarget&&_e()}function Qn({event:r,node:l}){Ae(),!(!e.draggable||e.disabled||be(l,e.disabledField))&&Un({event:r,node:l.rawNode})}function eo({event:r,node:l}){!e.draggable||e.disabled||be(l,e.disabledField)||(Rt=r.clientX,Oe.value=l,Hn({event:r,node:l.rawNode}))}function Pt({event:r,node:l},v=!0){var C;if(!e.draggable||e.disabled||be(l,e.disabledField))return;const{value:T}=Oe;if(!T)return;const{allowDrop:q,indent:V}=e;v&&Vn({event:r,node:l.rawNode});const ce=r.currentTarget,{height:Ce,top:ie}=ce.getBoundingClientRect(),M=r.clientY-ie;let Y;q({node:l.rawNode,dropPosition:"inside",phase:"drag"})?M<=8?Y="before":M>=Ce-8?Y="after":Y="inside":M<=Ce/2?Y="before":Y="after";const{value:lo}=An;let A,ee;const st=lo(l.key);if(st===null){_e();return}let Ft=!1;Y==="inside"?(A=l,ee="inside"):Y==="before"?l.isFirstChild?(A=l,ee="before"):(A=ae.value[st-1],ee="after"):(A=l,ee="after"),!A.isLeaf&&Q.value.includes(A.key)&&(Ft=!0,ee==="after"&&(A=ae.value[st+1],A?ee="before":(A=l,ee="inside")));const Ot=A;if(Ve.value=Ot,!Ft&&T.isLastChild&&T.key===A.key&&(ee="after"),ee==="after"){let Bt=Rt-r.clientX,dt=0;for(;Bt>=V/2&&A.parent!==null&&A.isLastChild&&dt<1;)Bt-=V,dt+=1,A=A.parent;qe.value=dt}else qe.value=0;if((T.contains(A)||ee==="inside"&&((C=T.parent)===null||C===void 0?void 0:C.key)===A.key)&&!(T.key===Ot.key&&T.key===A.key)){_e();return}if(!q({node:A.rawNode,dropPosition:ee,phase:"drag"})){_e();return}if(T.key===A.key)Ee();else if(_!==A.key)if(ee==="inside"){if(e.expandOnDragenter){if(Wn(A),!A.shallowLoaded&&_!==A.key){Ae();return}}else if(!A.shallowLoaded){Ae();return}}else Ee();else ee!=="inside"&&Ee();Ge.value=ee,He.value=A}function to({event:r,node:l,dropPosition:v}){if(!e.draggable||e.disabled||be(l,e.disabledField))return;const{value:C}=Oe,{value:T}=He,{value:q}=Ge;if(!(!C||!T||!q)&&!!e.allowDrop({node:T.rawNode,dropPosition:q,phase:"drag"})&&C.key!==T.key){if(q==="before"){const V=C.getNext({includeDisabled:!0});if(V&&V.key===T.key){_e();return}}if(q==="after"){const V=C.getPrev({includeDisabled:!0});if(V&&V.key===T.key){_e();return}}Gn({event:r,node:T.rawNode,dragNode:C.rawNode,dropPosition:v}),Ae()}}function no(){Ye()}function oo(){Ye()}function ro(r){var l;if(e.virtualScroll||e.internalScrollable){const{value:v}=f;if(!((l=v==null?void 0:v.containerRef)===null||l===void 0)&&l.contains(r.relatedTarget))return;le.value=null}else{const{value:v}=s;if(v!=null&&v.contains(r.relatedTarget))return;le.value=null}}pe(le,r=>{var l,v;if(r!==null){if(e.virtualScroll)(l=c.value)===null||l===void 0||l.scrollTo({key:r});else if(e.internalScrollable){const{value:C}=f;if(C===null)return;const T=(v=C.contentRef)===null||v===void 0?void 0:v.querySelector(`[data-key="${pn(r)}"]`);if(!T)return;C.scrollTo({el:T})}}}),Ze(Ue,{loadingKeysRef:me,highlightKeySetRef:we,displayedCheckedKeysRef:$,displayedIndeterminateKeysRef:p,mergedSelectedKeysRef:Z,mergedExpandedKeysRef:Q,mergedThemeRef:d,mergedCheckStrategyRef:P,nodePropsRef:F(e,"nodeProps"),disabledRef:F(e,"disabled"),checkableRef:F(e,"checkable"),selectableRef:F(e,"selectable"),expandOnClickRef:F(e,"expandOnClick"),onLoadRef:F(e,"onLoad"),draggableRef:F(e,"draggable"),blockLineRef:F(e,"blockLine"),indentRef:F(e,"indent"),cascadeRef:F(e,"cascade"),checkOnClickRef:F(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Ve,droppingNodeParentRef:Bn,draggingNodeRef:Oe,droppingPositionRef:Ge,droppingOffsetLevelRef:qe,fNodesRef:ae,pendingNodeKeyRef:le,disabledFieldRef:F(e,"disabledField"),internalScrollableRef:F(e,"internalScrollable"),internalCheckboxFocusableRef:F(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:F(e,"renderLabel"),renderPrefixRef:F(e,"renderPrefix"),renderSuffixRef:F(e,"renderSuffix"),renderSwitcherIconRef:F(e,"renderSwitcherIcon"),labelFieldRef:F(e,"labelField"),multipleRef:F(e,"multiple"),handleSwitcherClick:Dt,handleDragEnd:Qn,handleDragEnter:Jn,handleDragLeave:Xn,handleDragStart:eo,handleDrop:to,handleDragOver:Pt,handleSelect:it,handleCheck:Nt});function ao(r){var l;(l=c.value)===null||l===void 0||l.scrollTo(r)}const It={handleKeydown:Fe,scrollTo:ao},Kt=E(()=>{const{common:{cubicBezierEaseInOut:r},self:{fontSize:l,nodeBorderRadius:v,nodeColorHover:C,nodeColorPressed:T,nodeColorActive:q,arrowColor:V,loadingColor:ce,nodeTextColor:Ce,nodeTextColorDisabled:ie,dropMarkColor:M}}=d.value;return{"--n-arrow-color":V,"--n-loading-color":ce,"--n-bezier":r,"--n-font-size":l,"--n-node-border-radius":v,"--n-node-color-active":q,"--n-node-color-hover":C,"--n-node-color-pressed":T,"--n-node-text-color":Ce,"--n-node-text-color-disabled":ie,"--n-drop-mark-color":M}}),Te=n?Qe("tree",void 0,Kt,e):void 0;return{mergedClsPrefix:t,mergedTheme:d,rtlEnabled:a,fNodes:En,aip:Re,selfElRef:s,virtualListInstRef:c,scrollbarInstRef:f,handleFocusout:ro,handleDragLeaveTree:Zn,handleScroll:no,getScrollContainer:h,getScrollContent:g,handleAfterEnter:zn,handleResize:oo,handleKeydown:It.handleKeydown,scrollTo:It.scrollTo,cssVars:n?void 0:Kt,themeClass:Te==null?void 0:Te.themeClass,onRender:Te==null?void 0:Te.onRender}},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:o,blockNode:a,blockLine:d,draggable:s,disabled:f,internalFocusable:c,checkable:h,handleKeydown:g,rtlEnabled:k,handleFocusout:y}=this,b=c&&!f,u=b?"0":void 0,i=[`${o}-tree`,k&&`${o}-tree--rtl`,h&&`${o}-tree--checkable`,(d||a)&&`${o}-tree--block-node`,d&&`${o}-tree--block-line`],m=S=>"__motion"in S?x(kr,{height:S.height,nodes:S.nodes,clsPrefix:o,mode:S.mode,onAfterEnter:this.handleAfterEnter}):x(wn,{key:S.key,tmNode:S,clsPrefix:o});if(this.virtualScroll){const{mergedTheme:S,internalScrollablePadding:R}=this,P=Ro(R||"0");return x(Ut,{ref:"scrollbarInstRef",onDragleave:s?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:i,theme:S.peers.Scrollbar,themeOverrides:S.peerOverrides.Scrollbar,tabindex:u,onKeydown:b?g:void 0,onFocusout:b?y:void 0},{default:()=>{var $;return($=this.onRender)===null||$===void 0||$.call(this),x($o,{ref:"virtualListInstRef",items:this.fNodes,itemSize:Je,ignoreItemResize:this.aip,paddingTop:P.top,paddingBottom:P.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:P.left,paddingRight:P.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:p})=>m(p)})}})}const{internalScrollable:w}=this;return i.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),w?x(Ut,{class:i,tabindex:u,onKeydown:b?g:void 0,onFocusout:b?y:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>x("div",{onDragleave:s?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(m))}):x("div",{class:i,tabindex:u,ref:"selfElRef",style:this.cssVars,onKeydown:b?g:void 0,onFocusout:b?y:void 0,onDragleave:s?this.handleDragLeaveTree:void 0},t.length?t.map(m):To(this.$slots.empty,()=>[x(No,{class:`${o}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}});var Dr=Array.isArray,mt=Dr,Pr=typeof We=="object"&&We&&We.Object===Object&&We,Ir=Pr,Kr=Ir,Fr=typeof self=="object"&&self&&self.Object===Object&&self,Or=Kr||Fr||Function("return this")(),_t=Or,Br=_t,Ar=Br.Symbol,Ct=Ar,Vt=Ct,Rn=Object.prototype,Er=Rn.hasOwnProperty,zr=Rn.toString,Le=Vt?Vt.toStringTag:void 0;function Lr(e){var t=Er.call(e,Le),n=e[Le];try{e[Le]=void 0;var o=!0}catch{}var a=zr.call(e);return o&&(t?e[Le]=n:delete e[Le]),a}var jr=Lr,Mr=Object.prototype,Ur=Mr.toString;function Hr(e){return Ur.call(e)}var Vr=Hr,Gt=Ct,Gr=jr,qr=Vr,Yr="[object Null]",Wr="[object Undefined]",qt=Gt?Gt.toStringTag:void 0;function Jr(e){return e==null?e===void 0?Wr:Yr:qt&&qt in Object(e)?Gr(e):qr(e)}var $n=Jr;function Xr(e){return e!=null&&typeof e=="object"}var Zr=Xr,Qr=$n,ea=Zr,ta="[object Symbol]";function na(e){return typeof e=="symbol"||ea(e)&&Qr(e)==ta}var xt=na,oa=mt,ra=xt,aa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,la=/^\w*$/;function ia(e,t){if(oa(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ra(e)?!0:la.test(e)||!aa.test(e)||t!=null&&e in Object(t)}var sa=ia;function da(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kt=da,ca=$n,ua=kt,fa="[object AsyncFunction]",ha="[object Function]",ga="[object GeneratorFunction]",va="[object Proxy]";function ba(e){if(!ua(e))return!1;var t=ca(e);return t==ha||t==ga||t==fa||t==va}var pa=ba,ya=_t,ma=ya["__core-js_shared__"],_a=ma,gt=_a,Yt=function(){var e=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ca(e){return!!Yt&&Yt in e}var xa=Ca,ka=Function.prototype,Sa=ka.toString;function wa(e){if(e!=null){try{return Sa.call(e)}catch{}try{return e+""}catch{}}return""}var Ra=wa,$a=pa,Ta=xa,Na=kt,Da=Ra,Pa=/[\\^$.*+?()[\]{}|]/g,Ia=/^\[object .+?Constructor\]$/,Ka=Function.prototype,Fa=Object.prototype,Oa=Ka.toString,Ba=Fa.hasOwnProperty,Aa=RegExp("^"+Oa.call(Ba).replace(Pa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ea(e){if(!Na(e)||Ta(e))return!1;var t=$a(e)?Aa:Ia;return t.test(Da(e))}var za=Ea;function La(e,t){return e==null?void 0:e[t]}var ja=La,Ma=za,Ua=ja;function Ha(e,t){var n=Ua(e,t);return Ma(n)?n:void 0}var St=Ha,Va=St,Ga=Va(Object,"create"),et=Ga,Wt=et;function qa(){this.__data__=Wt?Wt(null):{},this.size=0}var Ya=qa;function Wa(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ja=Wa,Xa=et,Za="__lodash_hash_undefined__",Qa=Object.prototype,el=Qa.hasOwnProperty;function tl(e){var t=this.__data__;if(Xa){var n=t[e];return n===Za?void 0:n}return el.call(t,e)?t[e]:void 0}var nl=tl,ol=et,rl=Object.prototype,al=rl.hasOwnProperty;function ll(e){var t=this.__data__;return ol?t[e]!==void 0:al.call(t,e)}var il=ll,sl=et,dl="__lodash_hash_undefined__";function cl(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sl&&t===void 0?dl:t,this}var ul=cl,fl=Ya,hl=Ja,gl=nl,vl=il,bl=ul;function De(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}De.prototype.clear=fl;De.prototype.delete=hl;De.prototype.get=gl;De.prototype.has=vl;De.prototype.set=bl;var pl=De;function yl(){this.__data__=[],this.size=0}var ml=yl;function _l(e,t){return e===t||e!==e&&t!==t}var Tn=_l,Cl=Tn;function xl(e,t){for(var n=e.length;n--;)if(Cl(e[n][0],t))return n;return-1}var tt=xl,kl=tt,Sl=Array.prototype,wl=Sl.splice;function Rl(e){var t=this.__data__,n=kl(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():wl.call(t,n,1),--this.size,!0}var $l=Rl,Tl=tt;function Nl(e){var t=this.__data__,n=Tl(t,e);return n<0?void 0:t[n][1]}var Dl=Nl,Pl=tt;function Il(e){return Pl(this.__data__,e)>-1}var Kl=Il,Fl=tt;function Ol(e,t){var n=this.__data__,o=Fl(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var Bl=Ol,Al=ml,El=$l,zl=Dl,Ll=Kl,jl=Bl;function Pe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Pe.prototype.clear=Al;Pe.prototype.delete=El;Pe.prototype.get=zl;Pe.prototype.has=Ll;Pe.prototype.set=jl;var Ml=Pe,Ul=St,Hl=_t,Vl=Ul(Hl,"Map"),Gl=Vl,Jt=pl,ql=Ml,Yl=Gl;function Wl(){this.size=0,this.__data__={hash:new Jt,map:new(Yl||ql),string:new Jt}}var Jl=Wl;function Xl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Zl=Xl,Ql=Zl;function ei(e,t){var n=e.__data__;return Ql(t)?n[typeof t=="string"?"string":"hash"]:n.map}var nt=ei,ti=nt;function ni(e){var t=ti(this,e).delete(e);return this.size-=t?1:0,t}var oi=ni,ri=nt;function ai(e){return ri(this,e).get(e)}var li=ai,ii=nt;function si(e){return ii(this,e).has(e)}var di=si,ci=nt;function ui(e,t){var n=ci(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var fi=ui,hi=Jl,gi=oi,vi=li,bi=di,pi=fi;function Ie(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Ie.prototype.clear=hi;Ie.prototype.delete=gi;Ie.prototype.get=vi;Ie.prototype.has=bi;Ie.prototype.set=pi;var yi=Ie,Nn=yi,mi="Expected a function";function wt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mi);var n=function(){var o=arguments,a=t?t.apply(this,o):o[0],d=n.cache;if(d.has(a))return d.get(a);var s=e.apply(this,o);return n.cache=d.set(a,s)||d,s};return n.cache=new(wt.Cache||Nn),n}wt.Cache=Nn;var _i=wt,Ci=_i,xi=500;function ki(e){var t=Ci(e,function(o){return n.size===xi&&n.clear(),o}),n=t.cache;return t}var Si=ki,wi=Si,Ri=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$i=/\\(\\)?/g,Ti=wi(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ri,function(n,o,a,d){t.push(a?d.replace($i,"$1"):o||n)}),t}),Ni=Ti;function Di(e,t){for(var n=-1,o=e==null?0:e.length,a=Array(o);++n<o;)a[n]=t(e[n],n,e);return a}var Pi=Di,Xt=Ct,Ii=Pi,Ki=mt,Fi=xt,Oi=1/0,Zt=Xt?Xt.prototype:void 0,Qt=Zt?Zt.toString:void 0;function Dn(e){if(typeof e=="string")return e;if(Ki(e))return Ii(e,Dn)+"";if(Fi(e))return Qt?Qt.call(e):"";var t=e+"";return t=="0"&&1/e==-Oi?"-0":t}var Bi=Dn,Ai=Bi;function Ei(e){return e==null?"":Ai(e)}var zi=Ei,Li=mt,ji=sa,Mi=Ni,Ui=zi;function Hi(e,t){return Li(e)?e:ji(e,t)?[e]:Mi(Ui(e))}var Pn=Hi,Vi=xt,Gi=1/0;function qi(e){if(typeof e=="string"||Vi(e))return e;var t=e+"";return t=="0"&&1/e==-Gi?"-0":t}var In=qi,Yi=Pn,Wi=In;function Ji(e,t){t=Yi(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[Wi(t[n++])];return n&&n==o?e:void 0}var Xi=Ji,Zi=Xi;function Qi(e,t,n){var o=e==null?void 0:Zi(e,t);return o===void 0?n:o}var es=Qi;const ts=es;var ns=St,os=function(){try{var e=ns(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rs=os,en=rs;function as(e,t,n){t=="__proto__"&&en?en(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ls=as,is=ls,ss=Tn,ds=Object.prototype,cs=ds.hasOwnProperty;function us(e,t,n){var o=e[t];(!(cs.call(e,t)&&ss(o,n))||n===void 0&&!(t in e))&&is(e,t,n)}var fs=us,hs=9007199254740991,gs=/^(?:0|[1-9]\d*)$/;function vs(e,t){var n=typeof e;return t=t==null?hs:t,!!t&&(n=="number"||n!="symbol"&&gs.test(e))&&e>-1&&e%1==0&&e<t}var bs=vs,ps=fs,ys=Pn,ms=bs,tn=kt,_s=In;function Cs(e,t,n,o){if(!tn(e))return e;t=ys(t,e);for(var a=-1,d=t.length,s=d-1,f=e;f!=null&&++a<d;){var c=_s(t[a]),h=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=s){var g=f[c];h=o?o(g,c,f):void 0,h===void 0&&(h=tn(g)?g:ms(t[a+1])?[]:{})}ps(f,c,h),f=f[c]}return e}var xs=Cs,ks=xs;function Ss(e,t,n){return e==null?e:ks(e,t,n)}var ws=Ss;const Rs=X({name:"BatchTranslateItem",props:{dirItem:{type:Object,required:!0},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""}},emits:["saveChanged"],setup(e,{emit:t}){const{dirItem:n,filePathArr:o,translatePath:a}=sn(e),d=()=>{let i=null;const m=(w,S,R=0)=>{const P=S[R];if(!!w)for(let $=0;$<w.length;$++){const p=w[$];if(p.label===P&&R===S.length-1)throw i=p,new Error("item found");p.children&&m(p.children,S,R+1)}};try{m(n.value.children,o.value)}catch{}return i},s=E(()=>d()),f=dn(null),c=D(null),h=D(!1),g=D(!1),k=()=>{const i=ts(f.value,a.value,null);return Array.isArray(i)?(g.value=!0,JSON.stringify(i,null,2)):(g.value=!1,i)},y=(i=c.value)=>{g.value&&i&&(i=JSON.parse(i)),ws(f.value,a.value,i)};pe(s,async i=>{if(!i){f.value=null,c.value=null,g.value=!1,ue(()=>{h.value=!1});return}const m=await i.entry.getFile(),w=await cn(m);f.value=JSON.parse(w),c.value=k(),ue(()=>{h.value=!1})},{immediate:!0}),pe(c,()=>{h.value=!0}),pe(a,i=>{c.value=k(),ue(()=>{h.value=!1})});const b=async()=>{try{if(!s.value)return;const i=s.value.entry;if(!i)return;const m=await i.getFile(),w=await i.createWritable(),S=JSON.stringify(f.value,null,2);await w.write(S),await w.close(),window.$message.success("Saved!")}catch(i){console.error(i),window.$message.error("Save Failed!"+i.message)}},u=D();return{currentItem:s,translateObj:f,translateText:c,isChanged:h,async saveChange({isEmit:i=!1}={}){!h.value||(y(),await b(),ue(()=>{h.value=!1}),i&&t("saveChanged"))},cancelChange(){c.value=k(),ue(()=>{h.value=!1})},createField(i){y(i),c.value=i,g.value=Array.isArray(i),ue(()=>{u.value.focus()})},isFieldArray:g,inputRef:u}}});const $s={class:"translate-path font-code"},Ts={key:0,style:{color:"hotpink","margin-bottom":"10px"}},Ns=he("Save"),Ds=he("Cancel"),Ps=he("Create text"),Is=he("Create Array"),Ks={key:2,style:{color:"darkgoldenrod"}};function Fs(e,t,n,o,a,d){const s=fn,f=hn,c=gn,h=vn;return j(),ne(h,{size:"small",class:"batch-translate-item",title:e.dirItem.label+"/"+e.filePathArr.join("/")},{"header-extra":z(()=>[Xe("span",$s,Do(e.translatePath),1)]),default:z(()=>[e.currentItem?e.translatePath?(j(),se(Ne,{key:1},[e.translateText!==null?(j(),ne(c,{key:0,align:"center"},{default:z(()=>[G(s,{ref:"inputRef",type:"textarea",size:"small",value:e.translateText,"onUpdate:value":t[0]||(t[0]=g=>e.translateText=g),placeholder:e.isFieldArray?"Input array":"Input text",rows:e.isFieldArray?8:1,style:{width:"450px"},class:un({"font-code":e.isFieldArray})},null,8,["value","placeholder","rows","class"]),e.isChanged?(j(),ne(f,{key:0,size:"small",type:"primary",onClick:t[1]||(t[1]=g=>e.saveChange({isEmit:!0}))},{default:z(()=>[Ns]),_:1})):ke("",!0),e.isChanged?(j(),ne(f,{key:1,size:"small",onClick:e.cancelChange},{default:z(()=>[Ds]),_:1},8,["onClick"])):ke("",!0)]),_:1})):(j(),ne(c,{key:1},{default:z(()=>[G(f,{size:"small",onClick:t[2]||(t[2]=g=>e.createField("")),type:"primary"},{default:z(()=>[Ps]),_:1}),G(f,{size:"small",onClick:t[3]||(t[3]=g=>e.createField([]))},{default:z(()=>[Is]),_:1})]),_:1}))],64)):(j(),se("div",Ks,"Please select a translation field on the left")):(j(),se("div",Ts," File does not exist, please create it on your local file system "))]),_:1},8,["title"])}const Kn=yt(Rs,[["render",Fs],["__scopeId","data-v-3b3f4283"]]),Os=X({name:"BatchTranslate",components:{BatchTranslateItem:Kn},props:{dirTree:{type:Array,default(){return[]}},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""}},setup(e,{emit:t}){sn(e);const n=D();return{handleSaveChanged:async()=>{for(let a=0;a<n.value.length;a++)await n.value[a].saveChange()},itemsRef:n}}});const Bs={class:"batch-translate"};function As(e,t,n,o,a,d){const s=Kn;return j(),se("div",Bs,[(j(!0),se(Ne,null,bt(e.dirTree.filter(f=>f.kind==="directory"),f=>(j(),ne(s,{ref_for:!0,ref:"itemsRef",key:f.key,"dir-item":f,"file-path-arr":e.filePathArr,"translate-path":e.translatePath,onSaveChanged:e.handleSaveChanged},null,8,["dir-item","file-path-arr","translate-path","onSaveChanged"]))),128))])}const Fn=yt(Os,[["render",As],["__scopeId","data-v-19add45c"]]);let vt=0;const Es=X({name:"VueI18nDirTool",components:{BatchTranslate:Fn,DropZone:bn},setup(){const e=D([]),t=async(u,i=0,m=[],w=[])=>{vt++;let S=0;for await(const R of u.values())if(S++,R.kind==="directory"){let P=[];m.push({key:`${vt}-D-${i}-${S}`,kind:R.kind,label:R.name,entry:R,parentDirs:w,children:P}),await t(R,i+1,P,[...w,R.name])}else/\.json$/gi.test(R.name)&&m.push({key:`${vt}-F-${i}-${S}`,kind:R.kind,label:R.name,entry:R,parentDirs:w,children:null});return m},n=dn(),o=async()=>{n.value=await window.showDirectoryPicker(),e.value=await t(n.value)},a=async()=>{e.value=await t(n.value)},d=D(null),s=D(null),f=D([]),c=D(""),h=async()=>{try{const u=d.value;if(!u)return;const i=await u.getFile(),m=await u.createWritable();k.value!=="text"&&(s.value=JSON.stringify(Ao(y.value),null,2)),await m.write(s.value),await m.close(),await a(),window.$message.success("Saved!")}catch(u){console.error(u),window.$message.error("Save Failed!"+u.message)}},g=["text","gui","batch"],k=D("batch"),y=D([Oo()]),b=()=>{if(k.value!=="text"){if(!s.value){y.value=[];return}const u=JSON.parse(s.value);y.value=Eo.parseWithRoot(u)}};return pe(k,u=>{b()}),{iconTranslate:Bo,handlePickDir:o,dirTree:e,dirHandle:n,reloadPickedDir:a,nodeProps:({option:u})=>({async onClick(){if(u.kind==="file"){const i=u.entry;d.value=i;const m=await cn(await i.getFile());s.value=m,f.value=[...u.parentDirs,u.label],c.value="",b()}}}),currentEditText:s,currentEditEntry:d,handleSaveFile:h,editMode:k,editModeList:g,translateTreeRoot:y,currentFilePathArr:f,translatePath:c,handleKeyClick(u){console.log(u),c.value=u},...Lo({cb:async u=>{for(const i of u.dataTransfer.items)if(i.kind==="file"){const m=await i.getAsFileSystemHandle();m.kind==="directory"&&(n.value=m,e.value=await t(n.value))}}})}}});const zs=he(" Vue i18n Dir Tool "),Ls=he("Save Changes"),js=he(" Edit Mode:"),Ms=he(" Pick i18n Directory "),Us=he(" Refresh "),Hs={class:"_container"},Vs={class:"main-edit-wrap"};function Gs(e,t,n,o,a,d){const s=bn,f=jo,c=hn,h=Qo,g=Zo,k=gn,y=Mo,b=vn,u=Nr,i=gr,m=ur,w=fn,S=zo,R=Fn,P=lr,$=ar;return j(),se("div",{class:"vue-i18n-copy-tool",onDragover:t[3]||(t[3]=ht((...p)=>e.fileDragover&&e.fileDragover(...p),["prevent","stop"])),onDragleave:t[4]||(t[4]=ht(p=>e.showDropzone=!1,["prevent","stop"])),onDrop:t[5]||(t[5]=ht((...p)=>e.fileDrop&&e.fileDrop(...p),["prevent","stop"]))},[G(Ko,{name:"fade"},{default:z(()=>[Po(G(s,{text:"Drop locale folder here"},null,512),[[Io,e.showDropzone]])]),_:1}),G(b,{size:"small"},{default:z(()=>[G(y,{subtitle:"",onBack:t[1]||(t[1]=p=>e.$router.push({name:"HomeView"}))},{title:z(()=>[zs]),avatar:z(()=>[G(f,{src:e.iconTranslate,style:{background:"none"}},null,8,["src"])]),extra:z(()=>[G(k,{align:"center"},{default:z(()=>[e.currentEditEntry?(j(),ne(c,{key:0,type:"primary",onClick:e.handleSaveFile},{default:z(()=>[Ls]),_:1},8,["onClick"])):ke("",!0),js,G(g,{size:"small",value:e.editMode,"onUpdate:value":t[0]||(t[0]=p=>e.editMode=p)},{default:z(()=>[(j(!0),se(Ne,null,bt(e.editModeList,p=>(j(),ne(h,{key:p,value:p,label:p.toUpperCase()},null,8,["value","label"]))),128))]),_:1},8,["value"]),G(c,{type:"primary",size:"small",onClick:e.handlePickDir},{default:z(()=>[Ms]),_:1},8,["onClick"]),e.dirHandle?(j(),ne(c,{key:1,size:"small",onClick:e.reloadPickedDir},{default:z(()=>[Us]),_:1},8,["onClick"])):ke("",!0)]),_:1})]),_:1})]),_:1}),Xe("div",Hs,[G($,{style:{height:"100%"},"has-sider":""},{default:z(()=>[G(m,{"collapse-mode":"width","collapsed-width":0,width:300,"show-trigger":"arrow-circle","content-style":"padding: 10px;",bordered:""},{default:z(()=>[G(i,{style:{height:"100%"}},{default:z(()=>[G(u,{"block-line":"",data:e.dirTree,"node-props":e.nodeProps,"default-expand-all":"","expand-on-click":"",selectable:""},null,8,["data","node-props"])]),_:1})]),_:1}),G(P,null,{default:z(()=>[Xe("div",Vs,[e.currentEditEntry?(j(),se(Ne,{key:0},[ke("",!0),Xe("div",{class:un(["edit-content-wrap",{"batch-mode":e.editMode==="batch"}])},[e.editMode==="text"?(j(),ne(w,{key:0,type:"textarea",value:e.currentEditText,"onUpdate:value":t[2]||(t[2]=p=>e.currentEditText=p),class:"font-code",style:{height:"100%"},placeholder:"Edit Text"},null,8,["value"])):(j(),se(Ne,{key:1},[G(i,{style:Fo([{height:"100%"},{width:e.editMode==="batch"?"500px":"100%"}])},{default:z(()=>[(j(!0),se(Ne,null,bt(e.translateTreeRoot,(p,I)=>(j(),ne(S,{key:I,item:p,"is-lite":e.editMode==="batch",onOnKeyClick:e.handleKeyClick},null,8,["item","is-lite","onOnKeyClick"]))),128))]),_:1},8,["style"]),e.editMode==="batch"?(j(),ne(i,{key:0,style:{height:"100%"}},{default:z(()=>[G(R,{"dir-tree":e.dirTree,"file-path-arr":e.currentFilePathArr.slice(1),"translate-path":e.translatePath},null,8,["dir-tree","file-path-arr","translate-path"])]),_:1})):ke("",!0)],64))],2)],64)):ke("",!0)])]),_:1})]),_:1})])],32)}const Js=yt(Es,[["render",Gs],["__scopeId","data-v-64005115"]]);export{Js as default};

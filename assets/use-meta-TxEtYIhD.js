import{d as e,aG as r,b4 as t,aL as n,aM as a,cs as o,aV as s,ct as i,aU as l,aP as c,r as d,aY as u,h as v,aO as h,aS as p,b as g,be as f,g as b,w as m,bg as x,b$ as z,c0 as y,cu as k,cv as w,c2 as O,cw as $,bd as F,aW as P,cx as S,_,o as R,m as j,x as C,E,bG as L,cy as M}from"./index-3hzdRt7D.js";const T=e({name:"ArrowBack",render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r("path",{d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"}))}),B=t&&"loading"in document.createElement("img"),H=new WeakMap,D=new WeakMap,W=new WeakMap,A=(e,r,t)=>{if(!e)return()=>{};const n=((e={})=>{var r;const{root:t=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):null!==(r=e.threshold)&&void 0!==r?r:"0"}`,options:Object.assign(Object.assign({},e),{root:("string"==typeof t?document.querySelector(t):t)||document.documentElement})}})(r),{root:a}=n.options;let o;const s=H.get(a);let i,l;s?o=s:(o=new Map,H.set(a,o)),o.has(n.hash)?(l=o.get(n.hash),l[1].has(e)||(i=l[0],l[1].add(e),i.observe(e))):(i=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const r=D.get(e.target),t=W.get(e.target);r&&r(),t&&(t.value=!0)}}))}),n.options),i.observe(e),l=[i,new Set([e])],o.set(n.hash,l));let c=!1;const d=()=>{c||(D.delete(e),W.delete(e),c=!0,l[1].has(e)&&(l[0].unobserve(e),l[1].delete(e)),l[1].size<=0&&o.delete(n.hash),o.size||H.delete(a))};return D.set(e,d),W.set(e,t),d},V=n("n-avatar-group"),I=a("avatar","\n width: var(--n-merged-size);\n height: var(--n-merged-size);\n color: #FFF;\n font-size: var(--n-font-size);\n display: inline-flex;\n position: relative;\n overflow: hidden;\n text-align: center;\n border: var(--n-border);\n border-radius: var(--n-border-radius);\n --n-merged-color: var(--n-color);\n background-color: var(--n-merged-color);\n transition:\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n",[o(s("&","--n-merged-color: var(--n-color-modal);")),i(s("&","--n-merged-color: var(--n-color-popover);")),s("img","\n width: 100%;\n height: 100%;\n "),l("text","\n white-space: nowrap;\n display: inline-block;\n position: absolute;\n left: 50%;\n top: 50%;\n "),a("icon","\n vertical-align: bottom;\n font-size: calc(var(--n-merged-size) - 6px);\n "),l("text","line-height: 1.25")]),G=e({name:"Avatar",props:Object.assign(Object.assign({},h.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),setup(e){const{mergedClsPrefixRef:r,inlineThemeDisabled:t}=c(e),n=d(!1);let a=null;const o=d(null),s=d(null),i=u(V,null),l=v((()=>{const{size:r}=e;if(r)return r;const{size:t}=i||{};return t||"medium"})),x=h("Avatar","-avatar",I,k,e,r),z=u(w,null),y=v((()=>{if(i)return!0;const{round:r,circle:t}=e;return void 0!==r||void 0!==t?r||t:!!z&&z.roundRef.value})),F=v((()=>!!i||(e.bordered||!1))),P=v((()=>{const r=l.value,t=y.value,n=F.value,{color:a}=e,{self:{borderRadius:o,fontSize:s,color:i,border:c,colorModal:d,colorPopover:u},common:{cubicBezierEaseInOut:v}}=x.value;let h;return h="number"==typeof r?`${r}px`:x.value.self[O("height",r)],{"--n-font-size":s,"--n-border":n?c:"none","--n-border-radius":t?"50%":o,"--n-color":a||i,"--n-color-modal":a||d,"--n-color-popover":a||u,"--n-bezier":v,"--n-merged-size":`var(--n-avatar-size-override, ${h})`}})),S=t?p("avatar",v((()=>{const r=l.value,t=y.value,n=F.value,{color:a}=e;let o="";return r&&(o+="number"==typeof r?`a${r}`:r[0]),t&&(o+="b"),n&&(o+="c"),a&&(o+=$(a)),o})),P,e):void 0,_=d(!e.lazy);g((()=>{if(e.lazy&&e.intersectionObserverOptions){let r;const t=f((()=>{null==r||r(),r=void 0,e.lazy&&(r=A(s.value,e.intersectionObserverOptions,_))}));b((()=>{t(),null==r||r()}))}})),m((()=>{var r;return e.src||(null===(r=e.imgProps)||void 0===r?void 0:r.src)}),(()=>{n.value=!1}));const R=d(!e.lazy);return{textRef:o,selfRef:s,mergedRoundRef:y,mergedClsPrefix:r,fitTextTransform:()=>{const{value:e}=o;if(e&&(null===a||a!==e.innerHTML)){a=e.innerHTML;const{value:r}=s;if(r){const{offsetWidth:t,offsetHeight:n}=r,{offsetWidth:a,offsetHeight:o}=e,s=.9,i=Math.min(t/a*s,n/o*s,1);e.style.transform=`translateX(-50%) translateY(-50%) scale(${i})`}}},cssVars:t?void 0:P,themeClass:null==S?void 0:S.themeClass,onRender:null==S?void 0:S.onRender,hasLoadError:n,shouldStartLoading:_,loaded:R,mergedOnError:r=>{if(!_.value)return;n.value=!0;const{onError:t,imgProps:{onError:a}={}}=e;null==t||t(r),null==a||a(r)},mergedOnLoad:r=>{const{onLoad:t,imgProps:{onLoad:n}={}}=e;null==t||t(r),null==n||n(r),R.value=!0}}},render(){var e,t;const{$slots:n,src:a,mergedClsPrefix:o,lazy:s,onRender:i,loaded:l,hasLoadError:c,imgProps:d={}}=this;let u;null==i||i();const v=!l&&!c&&(this.renderPlaceholder?this.renderPlaceholder():null===(t=(e=this.$slots).placeholder)||void 0===t?void 0:t.call(e));return u=this.hasLoadError?this.renderFallback?this.renderFallback():x(n.fallback,(()=>[r("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})])):z(n.default,(e=>{if(e)return r(y,{onResize:this.fitTextTransform},{default:()=>r("span",{ref:"textRef",class:`${o}-avatar__text`},e)});if(a||d.src){const e=this.src||d.src;return r("img",Object.assign(Object.assign({},d),{loading:B&&!this.intersectionObserverOptions&&s?"lazy":"eager",src:s&&this.intersectionObserverOptions?this.shouldStartLoading?e:void 0:e,"data-image-src":e,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[d.style||"",{objectFit:this.objectFit},v?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}})),r("span",{ref:"selfRef",class:[`${o}-avatar`,this.themeClass],style:this.cssVars},u,s&&v)}}),Y=s([a("page-header-header","\n margin-bottom: 20px;\n "),a("page-header","\n display: flex;\n align-items: center;\n justify-content: space-between;\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[l("main","\n display: flex;\n flex-wrap: nowrap;\n align-items: center;\n "),l("back","\n display: flex;\n margin-right: 16px;\n font-size: var(--n-back-size);\n cursor: pointer;\n color: var(--n-back-color);\n transition: color .3s var(--n-bezier);\n ",[s("&:hover","color: var(--n-back-color-hover);"),s("&:active","color: var(--n-back-color-pressed);")]),l("avatar","\n display: flex;\n margin-right: 12px\n "),l("title","\n margin-right: 16px;\n transition: color .3s var(--n-bezier);\n font-size: var(--n-title-font-size);\n font-weight: var(--n-title-font-weight);\n color: var(--n-title-text-color);\n "),l("subtitle","\n font-size: 14px;\n transition: color .3s var(--n-bezier);\n color: var(--n-subtitle-text-color);\n ")]),a("page-header-content","\n font-size: var(--n-font-size);\n ",[s("&:not(:first-child)","margin-top: 20px;")]),a("page-header-footer","\n font-size: var(--n-font-size);\n ",[s("&:not(:first-child)","margin-top: 20px;")])]),q=e({name:"PageHeader",props:Object.assign(Object.assign({},h.props),{title:String,subtitle:String,extra:String,onBack:Function}),setup(e){const{mergedClsPrefixRef:r,mergedRtlRef:t,inlineThemeDisabled:n}=c(e),a=h("PageHeader","-page-header",Y,S,e,r),o=F("PageHeader",t,r),s=v((()=>{const{self:{titleTextColor:e,subtitleTextColor:r,backColor:t,fontSize:n,titleFontSize:o,backSize:s,titleFontWeight:i,backColorHover:l,backColorPressed:c},common:{cubicBezierEaseInOut:d}}=a.value;return{"--n-title-text-color":e,"--n-title-font-size":o,"--n-title-font-weight":i,"--n-font-size":n,"--n-back-size":s,"--n-subtitle-text-color":r,"--n-back-color":t,"--n-back-color-hover":l,"--n-back-color-pressed":c,"--n-bezier":d}})),i=n?p("page-header",void 0,s,e):void 0;return{rtlEnabled:o,mergedClsPrefix:r,cssVars:n?void 0:s,themeClass:null==i?void 0:i.themeClass,onRender:null==i?void 0:i.onRender}},render(){var e;const{onBack:t,title:n,subtitle:a,extra:o,mergedClsPrefix:s,cssVars:i,$slots:l}=this;null===(e=this.onRender)||void 0===e||e.call(this);const{title:c,subtitle:d,extra:u,default:v,header:h,avatar:p,footer:g,back:f}=l,b=t,m=n||c,x=a||d,z=o||u;return r("div",{style:i,class:[`${s}-page-header-wrapper`,this.themeClass,this.rtlEnabled&&`${s}-page-header-wrapper--rtl`]},h?r("div",{class:`${s}-page-header-header`,key:"breadcrumb"},h()):null,(b||p||m||x||z)&&r("div",{class:`${s}-page-header`,key:"header"},r("div",{class:`${s}-page-header__main`,key:"back"},b?r("div",{class:`${s}-page-header__back`,onClick:t},f?f():r(P,{clsPrefix:s},{default:()=>r(T,null)})):null,p?r("div",{class:`${s}-page-header__avatar`},p()):null,m?r("div",{class:`${s}-page-header__title`,key:"title"},n||c()):null,x?r("div",{class:`${s}-page-header__subtitle`,key:"subtitle"},a||d()):null),z?r("div",{class:`${s}-page-header__extra`},o||u()):null),v?r("div",{class:`${s}-page-header-content`,key:"content"},v()):null,g?r("div",{class:`${s}-page-header-footer`,key:"footer"},g()):null)}}),N=e({name:"DropZone",props:{text:{type:String,default:""},positionFixed:{type:Boolean,default:!1}}}),U={class:"border-dashed"};const X=_(N,[["render",function(e,r,t,n,a,o){return R(),j("div",{class:L(["file-dropzone",{"position-fixed":e.positionFixed}])},[C("div",U,E(e.text||e.$t("msgs.drop_files_here")),1)],2)}],["__scopeId","data-v-0861eaf5"]]),Z=({cbFiles:e,cb:r})=>{const t=d(!1);return{showDropzone:t,fileDragover(e){t.value=!0,e.preventDefault()},async fileDrop(n){n.preventDefault(),t.value=!1,"function"==typeof r&&r(n);const a=Array.from(n.dataTransfer.files);"function"==typeof e&&e(a)}}},J=()=>({metaTitle:M().meta.title});export{X as D,G as _,Z as a,q as b,J as u};

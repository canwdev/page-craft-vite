import{d as J,C,ad as tn,ae as ar,af as Bt,D as je,ag as nn,r as I,L as pe,ah as O,ai as Se,aj as Y,K as Me,ak as L,E as N,J as F,al as D,H as W,am as Ce,N as ue,an as Ze,Y as rn,M as E,Q as At,R as Qe,ao as lr,ap as ir,V as sr,aq as dr,ar as cr,as as Et,at as on,au as bt,Z as an,av as ur,aw as ct,ax as fr,ay as hr,az as gr,aA as ut,aB as vr,i as br,aC as yr,aD as zt,aE as pr,a7 as mr,a4 as Lt,aF as ft,aG as _r,aH as xr,T as ze,w as ye,aI as be,aJ as jt,aK as Cr,aL as kr,aM as Sr,aN as Mt,aO as wr,aP as Rr,aQ as We,t as ln,s as sn,$ as dn,_ as yt,o as j,c as ne,a as z,b as Xe,a8 as $r,m as se,e as X,aR as cn,a0 as ke,F as Ne,p as fe,f as un,q as fn,x as hn,z as gn,n as vt,aS as Tr}from"./index.c2c74e41.js";import{f as Nr,i as Pr,e as Ir,p as Dr,_ as Kr}from"./translate.12dfea29.js";import{_ as Or,a as Fr}from"./PageHeader.cc765ba9.js";function vn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const Br=J({name:"Switcher",render(){return C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},C("path",{d:"M12 8l10 8l-10 8z"}))}}),Ar=e=>{const{borderColor:t,primaryColor:n,baseColor:r,textColorDisabled:i,inputColorDisabled:d,textColor2:s,opacityDisabled:u,borderRadius:c,fontSizeSmall:f,fontSizeMedium:h,fontSizeLarge:k,heightSmall:p,heightMedium:b,heightLarge:a,lineHeight:g}=e;return Object.assign(Object.assign({},ar),{labelLineHeight:g,buttonHeightSmall:p,buttonHeightMedium:b,buttonHeightLarge:a,fontSizeSmall:f,fontSizeMedium:h,fontSizeLarge:k,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Bt(n,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:r,colorDisabled:d,colorActive:"#0000",textColor:s,textColorDisabled:i,dotColorActive:n,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:n,buttonBorderColorHover:t,buttonColor:r,buttonColorActive:r,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:n,opacityDisabled:u,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Bt(n,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:c})},Er={name:"Radio",common:tn,self:Ar},zr=Er,Lr={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},bn=je("n-radio-group");function jr(e){const t=nn(e,{mergedSize(S){const{size:$}=e;if($!==void 0)return $;if(s){const{mergedSizeRef:{value:P}}=s;if(P!==void 0)return P}return S?S.mergedSize.value:"medium"},mergedDisabled(S){return!!(e.disabled||s!=null&&s.disabledRef.value||S!=null&&S.disabled.value)}}),{mergedSizeRef:n,mergedDisabledRef:r}=t,i=I(null),d=I(null),s=pe(bn,null),u=I(e.defaultChecked),c=O(e,"checked"),f=Se(c,u),h=Y(()=>s?s.valueRef.value===e.value:f.value),k=Y(()=>{const{name:S}=e;if(S!==void 0)return S;if(s)return s.nameRef.value}),p=I(!1);function b(){if(s){const{doUpdateValue:S}=s,{value:$}=e;L(S,$)}else{const{onUpdateChecked:S,"onUpdate:checked":$}=e,{nTriggerFormInput:P,nTriggerFormChange:x}=t;S&&L(S,!0),$&&L($,!0),P(),x(),u.value=!0}}function a(){r.value||h.value||b()}function g(){a()}function y(){p.value=!1}function w(){p.value=!0}return{mergedClsPrefix:s?s.mergedClsPrefixRef:Me(e).mergedClsPrefixRef,inputRef:i,labelRef:d,mergedName:k,mergedDisabled:r,uncontrolledChecked:u,renderSafeChecked:h,focus:p,mergedSize:n,handleRadioInputChange:g,handleRadioInputBlur:y,handleRadioInputFocus:w}}const Mr=N("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[F("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[D("checked",{backgroundColor:"var(--n-button-border-color-active)"}),D("disabled",{opacity:"var(--n-opacity-disabled)"})]),D("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[N("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),F("splitor",{height:"var(--n-height)"})]),N("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[N("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),F("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),W("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[F("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),W("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[F("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),Ce("disabled",`
 cursor: pointer;
 `,[W("&:hover",[F("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),Ce("checked",{color:"var(--n-button-text-color-hover)"})]),D("focus",[W("&:not(:active)",[F("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),D("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),D("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function Ur(e,t,n){var r;const i=[];let d=!1;for(let s=0;s<e.length;++s){const u=e[s],c=(r=u.type)===null||r===void 0?void 0:r.name;c==="RadioButton"&&(d=!0);const f=u.props;if(c!=="RadioButton"){i.push(u);continue}if(s===0)i.push(u);else{const h=i[i.length-1].props,k=t===h.value,p=h.disabled,b=t===f.value,a=f.disabled,g=(k?2:0)+(p?0:1),y=(b?2:0)+(a?0:1),w={[`${n}-radio-group__splitor--disabled`]:p,[`${n}-radio-group__splitor--checked`]:k},S={[`${n}-radio-group__splitor--disabled`]:a,[`${n}-radio-group__splitor--checked`]:b},$=g<y?S:w;i.push(C("div",{class:[`${n}-radio-group__splitor`,$]}),u)}}return{children:i,isButtonGroup:d}}const Hr=Object.assign(Object.assign({},ue.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Vr=J({name:"RadioGroup",props:Hr,setup(e){const t=I(null),{mergedSizeRef:n,mergedDisabledRef:r,nTriggerFormChange:i,nTriggerFormInput:d,nTriggerFormBlur:s,nTriggerFormFocus:u}=nn(e),{mergedClsPrefixRef:c,inlineThemeDisabled:f,mergedRtlRef:h}=Me(e),k=ue("Radio","-radio-group",Mr,zr,e,c),p=I(e.defaultValue),b=O(e,"value"),a=Se(b,p);function g(x){const{onUpdateValue:T,"onUpdate:value":K}=e;T&&L(T,x),K&&L(K,x),p.value=x,i(),d()}function y(x){const{value:T}=t;!T||T.contains(x.relatedTarget)||u()}function w(x){const{value:T}=t;!T||T.contains(x.relatedTarget)||s()}Ze(bn,{mergedClsPrefixRef:c,nameRef:O(e,"name"),valueRef:a,disabledRef:r,mergedSizeRef:n,doUpdateValue:g});const S=rn("Radio",h,c),$=E(()=>{const{value:x}=n,{common:{cubicBezierEaseInOut:T},self:{buttonBorderColor:K,buttonBorderColorActive:re,buttonBorderRadius:Z,buttonBoxShadow:de,buttonBoxShadowFocus:U,buttonBoxShadowHover:Ke,buttonColorActive:Q,buttonTextColor:ae,buttonTextColorActive:le,buttonTextColorHover:Oe,opacityDisabled:te,[At("buttonHeight",x)]:m,[At("fontSize",x)]:B}}=k.value;return{"--n-font-size":B,"--n-bezier":T,"--n-button-border-color":K,"--n-button-border-color-active":re,"--n-button-border-radius":Z,"--n-button-box-shadow":de,"--n-button-box-shadow-focus":U,"--n-button-box-shadow-hover":Ke,"--n-button-color-active":Q,"--n-button-text-color":ae,"--n-button-text-color-hover":Oe,"--n-button-text-color-active":le,"--n-height":m,"--n-opacity-disabled":te}}),P=f?Qe("radio-group",E(()=>n.value[0]),$,e):void 0;return{selfElRef:t,rtlEnabled:S,mergedClsPrefix:c,mergedValue:a,handleFocusout:w,handleFocusin:y,cssVars:f?void 0:$,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender}},render(){var e;const{mergedValue:t,mergedClsPrefix:n,handleFocusin:r,handleFocusout:i}=this,{children:d,isButtonGroup:s}=Ur(lr(ir(this)),t,n);return(e=this.onRender)===null||e===void 0||e.call(this),C("div",{onFocusin:r,onFocusout:i,ref:"selfElRef",class:[`${n}-radio-group`,this.rtlEnabled&&`${n}-radio-group--rtl`,this.themeClass,s&&`${n}-radio-group--button-group`],style:this.cssVars},d)}}),Gr=J({name:"RadioButton",props:Lr,setup:jr,render(){const{mergedClsPrefix:e}=this;return C("label",{class:[`${e}-radio-button`,this.mergedDisabled&&`${e}-radio-button--disabled`,this.renderSafeChecked&&`${e}-radio-button--checked`,this.focus&&[`${e}-radio-button--focus`]]},C("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),C("div",{class:`${e}-radio-button__state-border`}),sr(this.$slots.default,t=>!t&&!this.label?null:C("div",{ref:"labelRef",class:`${e}-radio__label`},t||this.label)))}}),qr=e=>{const{baseColor:t,textColor2:n,bodyColor:r,cardColor:i,dividerColor:d,actionColor:s,scrollbarColor:u,scrollbarColorHover:c,invertedColor:f}=e;return{textColor:n,textColorInverted:"#FFF",color:r,colorEmbedded:s,headerColor:i,headerColorInverted:f,footerColor:s,footerColorInverted:f,headerBorderColor:d,headerBorderColorInverted:f,footerBorderColor:d,footerBorderColorInverted:f,siderBorderColor:d,siderBorderColorInverted:f,siderColor:i,siderColorInverted:f,siderToggleButtonBorder:`1px solid ${d}`,siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:Et(r,u),siderToggleBarColorHover:Et(r,c),__invertScrollbar:"true"}},Yr=dr({name:"Layout",common:tn,peers:{Scrollbar:cr},self:qr}),yn=Yr,Wr=je("n-layout-sider"),pn={type:String,default:"static"},Jr=N("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[N("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),D("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),Xr={embedded:Boolean,position:pn,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},mn=je("n-layout");function _n(e){return J({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},ue.props),Xr),setup(t){const n=I(null),r=I(null),{mergedClsPrefixRef:i,inlineThemeDisabled:d}=Me(t),s=ue("Layout","-layout",Jr,yn,t,i);function u(g,y){if(t.nativeScrollbar){const{value:w}=n;w&&(y===void 0?w.scrollTo(g):w.scrollTo(g,y))}else{const{value:w}=r;w&&w.scrollTo(g,y)}}Ze(mn,t);let c=0,f=0;const h=g=>{var y;const w=g.target;c=w.scrollLeft,f=w.scrollTop,(y=t.onScroll)===null||y===void 0||y.call(t,g)};on(()=>{if(t.nativeScrollbar){const g=n.value;g&&(g.scrollTop=f,g.scrollLeft=c)}});const k={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},p={scrollTo:u},b=E(()=>{const{common:{cubicBezierEaseInOut:g},self:y}=s.value;return{"--n-bezier":g,"--n-color":t.embedded?y.colorEmbedded:y.color,"--n-text-color":y.textColor}}),a=d?Qe("layout",E(()=>t.embedded?"e":""),b,t):void 0;return Object.assign({mergedClsPrefix:i,scrollableElRef:n,scrollbarInstRef:r,hasSiderStyle:k,mergedTheme:s,handleNativeElScroll:h,cssVars:d?void 0:b,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender},p)},render(){var t;const{mergedClsPrefix:n,hasSider:r}=this;(t=this.onRender)===null||t===void 0||t.call(this);const i=r?this.hasSiderStyle:void 0,d=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return C("div",{class:d,style:this.cssVars},this.nativeScrollbar?C("div",{ref:"scrollableElRef",class:`${n}-layout-scroll-container`,style:[this.contentStyle,i],onScroll:this.handleNativeElScroll},this.$slots):C(bt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,i]}),this.$slots))}})}const Zr=_n(!1),Qr=_n(!0),eo=N("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[D("bordered",[F("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),F("left-placement",[D("bordered",[F("border",`
 right: 0;
 `)])]),D("right-placement",`
 justify-content: flex-start;
 `,[D("bordered",[F("border",`
 left: 0;
 `)]),D("collapsed",[N("layout-toggle-button",[N("base-icon",`
 transform: rotate(180deg);
 `)]),N("layout-toggle-bar",[W("&:hover",[F("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),F("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),N("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[N("base-icon",`
 transform: rotate(0);
 `)]),N("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[W("&:hover",[F("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),F("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),D("collapsed",[N("layout-toggle-bar",[W("&:hover",[F("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),F("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),N("layout-toggle-button",[N("base-icon",`
 transform: rotate(0);
 `)])]),N("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[N("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),N("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[F("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),F("bottom",`
 position: absolute;
 top: 34px;
 `),W("&:hover",[F("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),F("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),F("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),W("&:hover",[F("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),F("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),N("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),D("show-content",[N("layout-sider-scroll-container",{opacity:1})]),D("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),to=J({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return C("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},C(an,{clsPrefix:e},{default:()=>C(ur,null)}))}}),no=J({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return C("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},C("div",{class:`${e}-layout-toggle-bar__top`}),C("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),ro={position:pn,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},oo=J({name:"LayoutSider",props:Object.assign(Object.assign({},ue.props),ro),setup(e){const t=pe(mn),n=I(null),r=I(null),i=E(()=>ct(c.value?e.collapsedWidth:e.width)),d=E(()=>e.collapseMode!=="transform"?{}:{minWidth:ct(e.width)}),s=E(()=>t?t.siderPlacement:"left"),u=I(e.defaultCollapsed),c=Se(O(e,"collapsed"),u);function f(x,T){if(e.nativeScrollbar){const{value:K}=n;K&&(T===void 0?K.scrollTo(x):K.scrollTo(x,T))}else{const{value:K}=r;K&&K.scrollTo(x,T)}}function h(){const{"onUpdate:collapsed":x,onUpdateCollapsed:T,onExpand:K,onCollapse:re}=e,{value:Z}=c;T&&L(T,!Z),x&&L(x,!Z),u.value=!Z,Z?K&&L(K):re&&L(re)}let k=0,p=0;const b=x=>{var T;const K=x.target;k=K.scrollLeft,p=K.scrollTop,(T=e.onScroll)===null||T===void 0||T.call(e,x)};on(()=>{if(e.nativeScrollbar){const x=n.value;x&&(x.scrollTop=p,x.scrollLeft=k)}}),Ze(Wr,{collapsedRef:c,collapseModeRef:O(e,"collapseMode")});const{mergedClsPrefixRef:a,inlineThemeDisabled:g}=Me(e),y=ue("Layout","-layout-sider",eo,yn,e,a);function w(x){var T,K;x.propertyName==="max-width"&&(c.value?(T=e.onAfterLeave)===null||T===void 0||T.call(e):(K=e.onAfterEnter)===null||K===void 0||K.call(e))}const S={scrollTo:f},$=E(()=>{const{common:{cubicBezierEaseInOut:x},self:T}=y.value,{siderToggleButtonColor:K,siderToggleButtonBorder:re,siderToggleBarColor:Z,siderToggleBarColorHover:de}=T,U={"--n-bezier":x,"--n-toggle-button-color":K,"--n-toggle-button-border":re,"--n-toggle-bar-color":Z,"--n-toggle-bar-color-hover":de};return e.inverted?(U["--n-color"]=T.siderColorInverted,U["--n-text-color"]=T.textColorInverted,U["--n-border-color"]=T.siderBorderColorInverted,U["--n-toggle-button-icon-color"]=T.siderToggleButtonIconColorInverted,U.__invertScrollbar=T.__invertScrollbar):(U["--n-color"]=T.siderColor,U["--n-text-color"]=T.textColor,U["--n-border-color"]=T.siderBorderColor,U["--n-toggle-button-icon-color"]=T.siderToggleButtonIconColor),U}),P=g?Qe("layout-sider",E(()=>e.inverted?"a":"b"),$,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:r,mergedClsPrefix:a,mergedTheme:y,styleMaxWidth:i,mergedCollapsed:c,scrollContainerStyle:d,siderPlacement:s,handleNativeElScroll:b,handleTransitionend:w,handleTriggerClick:h,inlineThemeDisabled:g,cssVars:$,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender},S)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:r}=this;return(e=this.onRender)===null||e===void 0||e.call(this),C("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:ct(this.width)}]},this.nativeScrollbar?C("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):C(bt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),r?r==="bar"?C(no,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):C(to,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?C("div",{class:`${t}-layout-sider__border`}):null)}}),ao=Object.assign(Object.assign({},ue.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),lo=J({name:"Scrollbar",props:ao,setup(){const e=I(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollBy(n[0],n[1])}}),{scrollbarInstRef:e})},render(){return C(bt,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),io=lo,xn=je("n-tree-select"),Ue=je("n-tree"),so=J({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=pe(Ue,null);return()=>{const{clsPrefix:n}=e;return C("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,{[`${n}-tree-node-switcher--expanded`]:e.expanded,[`${n}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},C("div",{class:`${n}-tree-node-switcher__icon`},C(fr,null,{default:()=>{if(e.loading)return C(hr,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:r}=t;return r?r():C(an,{clsPrefix:n,key:"switcher"},{default:()=>C(Br,null)})}})))}}}),co=J({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=pe(Ue);function n(i){const{onCheck:d}=e;if(d)return d(i)}function r(i){e.indeterminate?n(!1):n(i)}return{handleUpdateValue:r,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:r,disabled:i,focusable:d,handleUpdateValue:s}=this;return C("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},C(gr,{focusable:d,disabled:i,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:r,onUpdateChecked:s}))}}),uo=J({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:r,labelFieldRef:i}=pe(Ue),d=I(null);function s(c){const{onClick:f}=e;f&&f(c)}function u(c){s(c)}return{selfRef:d,renderLabel:t,renderPrefix:n,renderSuffix:r,labelField:i,handleClick:u}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:r=!1,selected:i=!1,renderLabel:d,renderPrefix:s,renderSuffix:u,handleClick:c,onDragstart:f,tmNode:{rawNode:h,rawNode:{prefix:k,suffix:p,[t]:b}}}=this;return C("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:c,draggable:f===void 0?void 0:!0,onDragstart:f}),s||k?C("div",{class:`${e}-tree-node-content__prefix`},s?s({option:h,selected:i,checked:r}):ut(k)):null,C("div",{class:`${e}-tree-node-content__text`},d?d({option:h,selected:i,checked:r}):ut(b)),u||p?C("div",{class:`${e}-tree-node-content__suffix`},u?u({option:h,selected:i,checked:r}):ut(p)):null)}});function Ut({position:e,offsetLevel:t,indent:n,el:r}){const i={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")i.left=0,i.top=0,i.bottom=0,i.borderRadius="inherit",i.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const d=e==="before"?"top":"bottom";i[d]=0,i.left=`${r.offsetLeft+6-t*n}px`,i.height="2px",i.backgroundColor="var(--n-drop-mark-color)",i.transformOrigin=d,i.borderRadius="1px",i.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return C("div",{style:i})}function fo({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}function ve(e,t){return!!e.rawNode[t]}function Cn(e,t,n,r){e==null||e.forEach(i=>{n(i),Cn(i[t],t,n,r),r(i)})}function ho(e,t,n,r,i){const d=new Set,s=new Set,u=[];return Cn(e,r,c=>{if(u.push(c),i(t,c)){s.add(c[n]);for(let f=u.length-2;f>=0;--f)if(!d.has(u[f][n]))d.add(u[f][n]);else return}},()=>{u.pop()}),{expandedKeys:Array.from(d),highlightKeySet:s}}if(vr&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function go(e,t,n,r,i){const d=new Set,s=new Set,u=new Set,c=[],f=[],h=[];function k(b){b.forEach(a=>{if(h.push(a),t(n,a)){d.add(a[r]),u.add(a[r]);for(let y=h.length-2;y>=0;--y){const w=h[y][r];if(!s.has(w))s.add(w),d.has(w)&&d.delete(w);else break}}const g=a[i];g&&k(g),h.pop()})}k(e);function p(b,a){b.forEach(g=>{const y=g[r],w=d.has(y),S=s.has(y);if(!w&&!S)return;const $=g[i];if($)if(w)a.push(g);else{c.push(y);const P=Object.assign(Object.assign({},g),{[i]:[]});a.push(P),p($,P[i])}else a.push(g)})}return p(e,f),{filteredTree:f,highlightKeySet:u,expandedKeys:c}}const vo=J({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=pe(Ue),{droppingNodeParentRef:n,droppingMouseNodeRef:r,draggingNodeRef:i,droppingPositionRef:d,droppingOffsetLevelRef:s,nodePropsRef:u,indentRef:c,blockLineRef:f,checkboxPlacementRef:h,checkOnClickRef:k,disabledFieldRef:p}=t,b=Y(()=>!!e.tmNode.rawNode.checkboxDisabled),a=Y(()=>ve(e.tmNode,p.value)),g=Y(()=>t.disabledRef.value||a.value),y=E(()=>{const{value:m}=u;if(!!m)return m({option:e.tmNode.rawNode})}),w=I(null),S={value:null};br(()=>{S.value=w.value.$el});function $(){const{tmNode:m}=e;if(!m.isLeaf&&!m.shallowLoaded){if(!t.loadingKeysRef.value.has(m.key))t.loadingKeysRef.value.add(m.key);else return;const{onLoadRef:{value:B}}=t;B&&B(m.rawNode).then(()=>{t.handleSwitcherClick(m)}).finally(()=>{t.loadingKeysRef.value.delete(m.key)})}else t.handleSwitcherClick(m)}const P=Y(()=>!a.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),x=Y(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),T=Y(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),K=Y(()=>{const{value:m}=x;if(!m)return!1;const{value:B}=k;return typeof B=="boolean"?B:B(e.tmNode.rawNode)});function re(m){const{value:B}=t.expandOnClickRef,{value:H}=P,{value:we}=K;if(!H&&!B&&!we||zt(m,"checkbox")||zt(m,"switcher"))return;const{tmNode:me}=e;H&&t.handleSelect(me),B&&!me.isLeaf&&$(),we&&U(!T.value)}function Z(m){var B,H;f.value||(g.value||re(m),(H=(B=y.value)===null||B===void 0?void 0:B.onClick)===null||H===void 0||H.call(B,m))}function de(m){var B,H;!f.value||(g.value||re(m),(H=(B=y.value)===null||B===void 0?void 0:B.onClick)===null||H===void 0||H.call(B,m))}function U(m){t.handleCheck(e.tmNode,m)}function Ke(m){t.handleDragStart({event:m,node:e.tmNode})}function Q(m){m.currentTarget===m.target&&t.handleDragEnter({event:m,node:e.tmNode})}function ae(m){m.preventDefault(),t.handleDragOver({event:m,node:e.tmNode})}function le(m){t.handleDragEnd({event:m,node:e.tmNode})}function Oe(m){m.currentTarget===m.target&&t.handleDragLeave({event:m,node:e.tmNode})}function te(m){m.preventDefault(),d.value!==null&&t.handleDrop({event:m,node:e.tmNode,dropPosition:d.value})}return{showDropMark:Y(()=>{const{value:m}=i;if(!m)return;const{value:B}=d;if(!B)return;const{value:H}=r;if(!H)return;const{tmNode:we}=e;return we.key===H.key}),showDropMarkAsParent:Y(()=>{const{value:m}=n;if(!m)return!1;const{tmNode:B}=e,{value:H}=d;return H==="before"||H==="after"?m.key===B.key:!1}),pending:Y(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:Y(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:Y(()=>{var m;return(m=t.highlightKeySetRef.value)===null||m===void 0?void 0:m.has(e.tmNode.key)}),checked:T,indeterminate:Y(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:Y(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:Y(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:g,checkable:x,mergedCheckOnClick:K,checkboxDisabled:b,selectable:P,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:f,nodeProps:y,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:d,droppingOffsetLevel:s,indent:c,checkboxPlacement:h,contentInstRef:w,contentElRef:S,handleCheck:U,handleDrop:te,handleDragStart:Ke,handleDragEnter:Q,handleDragOver:ae,handleDragEnd:le,handleDragLeave:Oe,handleLineClick:de,handleContentClick:Z,handleSwitcherClick:$}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:r,selectable:i,selected:d,checked:s,highlight:u,draggable:c,blockLine:f,indent:h,disabled:k,pending:p,internalScrollable:b,nodeProps:a,checkboxPlacement:g}=this,y=c&&!k?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,w=b?vn(e.key):void 0,S=g==="right",$=n?C(co,{right:S,focusable:this.checkboxFocusable,disabled:k||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return C("div",Object.assign({class:`${t}-tree-node-wrapper`},y),C("div",Object.assign({},f?a:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:d,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:u,[`${t}-tree-node--pending`]:p,[`${t}-tree-node--disabled`]:k,[`${t}-tree-node--selectable`]:i,[`${t}-tree-node--clickable`]:i||r||this.mergedCheckOnClick},a==null?void 0:a.class],"data-key":w,draggable:c&&f,onClick:this.handleLineClick,onDragstart:c&&f&&!k?this.handleDragStart:void 0}),yr(e.level,C("div",{class:`${t}-tree-node-indent`},C("div",{style:{width:`${h}px`}}))),C(so,{clsPrefix:t,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),S?null:$,C(uo,{ref:"contentInstRef",clsPrefix:t,checked:s,selected:d,onClick:this.handleContentClick,nodeProps:f?void 0:a,onDragstart:c&&!f&&!k?this.handleDragStart:void 0,tmNode:e}),c?this.showDropMark?Ut({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:h}):this.showDropMarkAsParent?Ut({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:h}):null:null,S?$:null))}}),kn=vo;function bo({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:r,handleSelect:i,handleSwitcherClick:d}){const{value:s}=r,u=pe(xn,null),c=u?u.pendingNodeKeyRef:I(s.length?s[s.length-1]:null);function f(h){if(!e.keyboard)return;const{value:k}=c;if(k===null){if((h.key==="ArrowDown"||h.key==="ArrowUp")&&h.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(h.key)&&k===null){const{value:p}=t;let b=0;for(;b<p.length;){if(!p[b].disabled){c.value=p[b].key;break}b+=1}}}else{const{value:p}=t;let b=p.findIndex(a=>a.key===k);if(!~b)return;if(h.key==="Enter")i(p[b]);else if(h.key==="ArrowDown")for(h.preventDefault(),b+=1;b<p.length;){if(!p[b].disabled){c.value=p[b].key;break}b+=1}else if(h.key==="ArrowUp")for(h.preventDefault(),b-=1;b>=0;){if(!p[b].disabled){c.value=p[b].key;break}b-=1}else if(h.key==="ArrowLeft"){const a=p[b];if(a.isLeaf||!n.value.includes(k)){const g=a.getParent();g&&(c.value=g.key)}else d(a)}else if(h.key==="ArrowRight"){const a=p[b];if(a.isLeaf)return;if(!n.value.includes(k))d(a);else for(b+=1;b<p.length;){if(!p[b].disabled){c.value=p[b].key;break}b+=1}}}}return{pendingNodeKeyRef:c,handleKeydown:f}}const yo=J({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return C(mr,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>C("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:pr(this.height)}},this.nodes.map(t=>C(kn,{clsPrefix:e,tmNode:t})))})}}),po=N("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[W("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),W(">",[N("tree-node",[W("&:first-child",{marginTop:0})])]),N("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),N("tree-motion-wrapper",[D("expand",[Lt({duration:"0.2s"})]),D("collapse",[Lt({duration:"0.2s",reverse:!0})])]),N("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),N("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[D("highlight",[N("tree-node-content",[F("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),D("disabled",[N("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Ce("disabled",[D("clickable",[N("tree-node-content",`
 cursor: pointer;
 `)])])]),D("block-node",[N("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),Ce("block-line",[N("tree-node",[Ce("disabled",[N("tree-node-content",[W("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),D("selectable",[N("tree-node-content",[W("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),D("pending",[N("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),D("selected",[N("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),D("block-line",[N("tree-node",[Ce("disabled",[W("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),D("pending",`
 background-color: var(--n-node-color-hover);
 `),D("selectable",[Ce("selected",[W("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),D("selected",{backgroundColor:"var(--n-node-color-active)"})]),D("disabled",`
 cursor: not-allowed;
 `)])]),N("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[F("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[N("icon",[ft()]),N("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[ft()]),N("base-icon",[ft()])]),D("hide",{visibility:"hidden"}),D("expanded",{transform:"rotate(90deg)"})]),N("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[D("right","margin-left: 4px;")]),D("checkable",[N("tree-node-content",`
 padding: 0 6px;
 `)]),N("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[W("&:last-child",{marginBottom:0}),F("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),F("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),F("suffix",`
 display: inline-flex;
 `)]),F("empty","margin: auto;")]);var mo=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(d){return d instanceof n?d:new n(function(s){s(d)})}return new(n||(n=Promise))(function(d,s){function u(h){try{f(r.next(h))}catch(k){s(k)}}function c(h){try{f(r.throw(h))}catch(k){s(k)}}function f(h){h.done?d(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})};const Je=30;function _o(e,t,n){return{getIsGroup(){return!1},getKey(r){return r[e]},getChildren(r){return r[t]},getDisabled(r){return!!(r[n]||r.checkboxDisabled)}}}const xo={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Co=Object.assign(Object.assign(Object.assign(Object.assign({},ue.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:fo},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),xo),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),ko=J({name:"Tree",props:Co,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=Me(e),i=rn("Tree",r,t),d=ue("Tree","-tree",po,_r,e,t),s=I(null),u=I(null),c=I(null);function f(){var o;return(o=c.value)===null||o===void 0?void 0:o.listElRef}function h(){var o;return(o=c.value)===null||o===void 0?void 0:o.itemsElRef}const k=E(()=>{const{pattern:o}=e;return o?!o.length||!rt.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:go(e.data,rt.value,o,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),p=E(()=>xr(e.showIrrelevantNodes?e.data:k.value.filteredTree,_o(e.keyField,e.childrenField,e.disabledField))),b=pe(xn,null),a=e.internalTreeSelect?b.dataTreeMate:p,{watchProps:g}=e,y=I([]);g!=null&&g.includes("defaultCheckedKeys")?ze(()=>{y.value=e.defaultCheckedKeys}):y.value=e.defaultCheckedKeys;const w=O(e,"checkedKeys"),S=Se(w,y),$=E(()=>a.value.getCheckedKeys(S.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),P=E(()=>e.leafOnly?"child":e.checkStrategy),x=E(()=>$.value.checkedKeys),T=E(()=>{const{indeterminateKeys:o}=e;return o!==void 0?o:$.value.indeterminateKeys}),K=I([]);g!=null&&g.includes("defaultSelectedKeys")?ze(()=>{K.value=e.defaultSelectedKeys}):K.value=e.defaultSelectedKeys;const re=O(e,"selectedKeys"),Z=Se(re,K),de=I([]),U=o=>{de.value=e.defaultExpandAll?a.value.getNonLeafKeys():o===void 0?e.defaultExpandedKeys:o};g!=null&&g.includes("defaultExpandedKeys")?ze(()=>U(void 0)):ze(()=>U(e.defaultExpandedKeys));const Ke=O(e,"expandedKeys"),Q=Se(Ke,de),ae=E(()=>p.value.getFlattenedNodes(Q.value)),{pendingNodeKeyRef:le,handleKeydown:Oe}=bo({props:e,mergedSelectedKeysRef:Z,fNodesRef:ae,mergedExpandedKeysRef:Q,handleSelect:it,handleSwitcherClick:Nt});let te=null,m=null;const B=I(new Set),H=E(()=>e.internalHighlightKeySet||k.value.highlightKeySet),we=Se(H,B),me=I(new Set),Kn=E(()=>Q.value.filter(o=>!me.value.has(o)));let wt=0;const Fe=I(null),He=I(null),Ve=I(null),Ge=I(null),qe=I(0),On=E(()=>{const{value:o}=He;return o?o.parent:null}),rt=E(()=>{const{filter:o}=e;if(o)return o;const{labelField:l}=e;return(v,_)=>{if(!v.length)return!0;const R=_[l];return typeof R=="string"?R.toLowerCase().includes(v.toLowerCase()):!1}});ye(O(e,"data"),()=>{me.value.clear(),le.value=null,Ae()},{deep:!1});let ot=!1;const at=()=>{ot=!0,be(()=>{ot=!1})};let Be;ye(O(e,"pattern"),(o,l)=>{if(e.showIrrelevantNodes)if(Be=void 0,o){const{expandedKeys:v,highlightKeySet:_}=ho(e.data,e.pattern,e.keyField,e.childrenField,rt.value);B.value=_,at(),$e(v,oe(v))}else B.value=new Set;else if(!o.length)Be!==void 0&&(at(),$e(Be,oe(Be)));else{l.length||(Be=Q.value);const{expandedKeys:v}=k.value;v!==void 0&&(at(),$e(v,oe(v)))}});function Rt(o){return mo(this,void 0,void 0,function*(){const{onLoad:l}=e;if(!l)return yield Promise.resolve();const{value:v}=me;return yield new Promise(_=>{v.has(o.key)||(v.add(o.key),l(o.rawNode).then(()=>{v.delete(o.key),_()}).catch(R=>{console.error(R),Ee()}))})})}ze(()=>{var o;const{value:l}=p;if(!l)return;const{getNode:v}=l;(o=Q.value)===null||o===void 0||o.forEach(_=>{const R=v(_);R&&!R.shallowLoaded&&Rt(R)})});const Re=I(!1),he=I([]);ye(Kn,(o,l)=>{if(!e.animated||ot){be(Ye);return}const v=new Set(l);let _=null,R=null;for(const M of o)if(!v.has(M)){if(_!==null)return;_=M}const G=new Set(o);for(const M of l)if(!G.has(M)){if(R!==null)return;R=M}if(_===null&&R===null)return;const{virtualScroll:V}=e,ce=(V?c.value.listElRef:s.value).offsetHeight,xe=Math.ceil(ce/Je)+1;let ie;if(_!==null&&(ie=l),R!==null&&(ie===void 0?ie=o:ie=ie.filter(M=>M!==R)),Re.value=!0,he.value=p.value.getFlattenedNodes(ie),_!==null){const M=he.value.findIndex(q=>q.key===_);if(~M){const q=he.value[M].children;if(q){const ge=jt(q,o);he.value.splice(M+1,0,{__motion:!0,mode:"expand",height:V?ge.length*Je:void 0,nodes:V?ge.slice(0,xe):ge})}}}if(R!==null){const M=he.value.findIndex(q=>q.key===R);if(~M){const q=he.value[M].children;if(!q)return;Re.value=!0;const ge=jt(q,o);he.value.splice(M+1,0,{__motion:!0,mode:"collapse",height:V?ge.length*Je:void 0,nodes:V?ge.slice(0,xe):ge})}}});const Fn=E(()=>Cr(ae.value)),Bn=E(()=>Re.value?he.value:ae.value);function Ye(){const{value:o}=u;o&&o.sync()}function An(){Re.value=!1,e.virtualScroll&&be(Ye)}function oe(o){const{getNode:l}=a.value;return o.map(v=>{var _;return((_=l(v))===null||_===void 0?void 0:_.rawNode)||null})}function $e(o,l){const{"onUpdate:expandedKeys":v,onUpdateExpandedKeys:_}=e;de.value=o,v&&L(v,o,l),_&&L(_,o,l)}function $t(o,l){const{"onUpdate:checkedKeys":v,onUpdateCheckedKeys:_}=e;y.value=o,_&&L(_,o,l),v&&L(v,o,l)}function En(o,l){const{"onUpdate:indeterminateKeys":v,onUpdateIndeterminateKeys:_}=e;v&&L(v,o,l),_&&L(_,o,l)}function lt(o,l){const{"onUpdate:selectedKeys":v,onUpdateSelectedKeys:_}=e;K.value=o,_&&L(_,o,l),v&&L(v,o,l)}function zn(o){const{onDragenter:l}=e;l&&L(l,o)}function Ln(o){const{onDragleave:l}=e;l&&L(l,o)}function jn(o){const{onDragend:l}=e;l&&L(l,o)}function Mn(o){const{onDragstart:l}=e;l&&L(l,o)}function Un(o){const{onDragover:l}=e;l&&L(l,o)}function Hn(o){const{onDrop:l}=e;l&&L(l,o)}function Ae(){Vn(),_e()}function Vn(){Fe.value=null}function _e(){qe.value=0,He.value=null,Ve.value=null,Ge.value=null,Ee()}function Ee(){te&&(window.clearTimeout(te),te=null),m=null}function Tt(o,l){if(e.disabled||ve(o,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){it(o);return}const{checkedKeys:v,indeterminateKeys:_}=a.value[l?"check":"uncheck"](o.key,x.value,{cascade:e.cascade,checkStrategy:P.value,allowNotLoaded:e.allowCheckingNotLoaded});$t(v,oe(v)),En(_,oe(_))}function Gn(o){if(e.disabled)return;const{key:l}=o,{value:v}=Q,_=v.findIndex(R=>R===l);if(~_){const R=Array.from(v);R.splice(_,1),$e(R,oe(R))}else{const R=p.value.getNode(l);if(!R||R.isLeaf)return;let G;if(e.accordion){const V=new Set(o.siblings.map(({key:ce})=>ce));G=v.filter(ce=>!V.has(ce)),G.push(l)}else G=v.concat(l);$e(G,oe(G))}}function Nt(o){e.disabled||Re.value||Gn(o)}function it(o){if(!(e.disabled||!e.selectable)){if(le.value=o.key,e.internalUnifySelectCheck){const{value:{checkedKeys:l,indeterminateKeys:v}}=$;e.multiple?Tt(o,!(l.includes(o.key)||v.includes(o.key))):$t([o.key],oe([o.key]))}if(e.multiple){const l=Array.from(Z.value),v=l.findIndex(_=>_===o.key);~v?e.cancelable&&l.splice(v,1):~v||l.push(o.key),lt(l,oe(l))}else Z.value.includes(o.key)?e.cancelable&&lt([],[]):lt([o.key],oe([o.key]))}}function qn(o){if(te&&(window.clearTimeout(te),te=null),o.isLeaf)return;m=o.key;const l=()=>{if(m!==o.key)return;const{value:v}=Ve;if(v&&v.key===o.key&&!Q.value.includes(o.key)){const _=Q.value.concat(o.key);$e(_,oe(_))}te=null,m=null};o.shallowLoaded?te=window.setTimeout(()=>{l()},1e3):te=window.setTimeout(()=>{Rt(o).then(()=>{l()})},1e3)}function Yn({event:o,node:l}){!e.draggable||e.disabled||ve(l,e.disabledField)||(Pt({event:o,node:l},!1),zn({event:o,node:l.rawNode}))}function Wn({event:o,node:l}){!e.draggable||e.disabled||ve(l,e.disabledField)||Ln({event:o,node:l.rawNode})}function Jn(o){o.target===o.currentTarget&&_e()}function Xn({event:o,node:l}){Ae(),!(!e.draggable||e.disabled||ve(l,e.disabledField))&&jn({event:o,node:l.rawNode})}function Zn({event:o,node:l}){!e.draggable||e.disabled||ve(l,e.disabledField)||(wt=o.clientX,Fe.value=l,Mn({event:o,node:l.rawNode}))}function Pt({event:o,node:l},v=!0){var _;if(!e.draggable||e.disabled||ve(l,e.disabledField))return;const{value:R}=Fe;if(!R)return;const{allowDrop:G,indent:V}=e;v&&Un({event:o,node:l.rawNode});const ce=o.currentTarget,{height:xe,top:ie}=ce.getBoundingClientRect(),M=o.clientY-ie;let q;G({node:l.rawNode,dropPosition:"inside",phase:"drag"})?M<=8?q="before":M>=xe-8?q="after":q="inside":M<=xe/2?q="before":q="after";const{value:or}=Fn;let A,ee;const st=or(l.key);if(st===null){_e();return}let Kt=!1;q==="inside"?(A=l,ee="inside"):q==="before"?l.isFirstChild?(A=l,ee="before"):(A=ae.value[st-1],ee="after"):(A=l,ee="after"),!A.isLeaf&&Q.value.includes(A.key)&&(Kt=!0,ee==="after"&&(A=ae.value[st+1],A?ee="before":(A=l,ee="inside")));const Ot=A;if(Ve.value=Ot,!Kt&&R.isLastChild&&R.key===A.key&&(ee="after"),ee==="after"){let Ft=wt-o.clientX,dt=0;for(;Ft>=V/2&&A.parent!==null&&A.isLastChild&&dt<1;)Ft-=V,dt+=1,A=A.parent;qe.value=dt}else qe.value=0;if((R.contains(A)||ee==="inside"&&((_=R.parent)===null||_===void 0?void 0:_.key)===A.key)&&!(R.key===Ot.key&&R.key===A.key)){_e();return}if(!G({node:A.rawNode,dropPosition:ee,phase:"drag"})){_e();return}if(R.key===A.key)Ee();else if(m!==A.key)if(ee==="inside"){if(e.expandOnDragenter){if(qn(A),!A.shallowLoaded&&m!==A.key){Ae();return}}else if(!A.shallowLoaded){Ae();return}}else Ee();else ee!=="inside"&&Ee();Ge.value=ee,He.value=A}function Qn({event:o,node:l,dropPosition:v}){if(!e.draggable||e.disabled||ve(l,e.disabledField))return;const{value:_}=Fe,{value:R}=He,{value:G}=Ge;if(!(!_||!R||!G)&&!!e.allowDrop({node:R.rawNode,dropPosition:G,phase:"drag"})&&_.key!==R.key){if(G==="before"){const V=_.getNext({includeDisabled:!0});if(V&&V.key===R.key){_e();return}}if(G==="after"){const V=_.getPrev({includeDisabled:!0});if(V&&V.key===R.key){_e();return}}Hn({event:o,node:R.rawNode,dragNode:_.rawNode,dropPosition:v}),Ae()}}function er(){Ye()}function tr(){Ye()}function nr(o){var l;if(e.virtualScroll||e.internalScrollable){const{value:v}=u;if(!((l=v==null?void 0:v.containerRef)===null||l===void 0)&&l.contains(o.relatedTarget))return;le.value=null}else{const{value:v}=s;if(v!=null&&v.contains(o.relatedTarget))return;le.value=null}}ye(le,o=>{var l,v;if(o!==null){if(e.virtualScroll)(l=c.value)===null||l===void 0||l.scrollTo({key:o});else if(e.internalScrollable){const{value:_}=u;if(_===null)return;const R=(v=_.contentRef)===null||v===void 0?void 0:v.querySelector(`[data-key="${vn(o)}"]`);if(!R)return;_.scrollTo({el:R})}}}),Ze(Ue,{loadingKeysRef:me,highlightKeySetRef:we,displayedCheckedKeysRef:x,displayedIndeterminateKeysRef:T,mergedSelectedKeysRef:Z,mergedExpandedKeysRef:Q,mergedThemeRef:d,mergedCheckStrategyRef:P,nodePropsRef:O(e,"nodeProps"),disabledRef:O(e,"disabled"),checkableRef:O(e,"checkable"),selectableRef:O(e,"selectable"),expandOnClickRef:O(e,"expandOnClick"),onLoadRef:O(e,"onLoad"),draggableRef:O(e,"draggable"),blockLineRef:O(e,"blockLine"),indentRef:O(e,"indent"),cascadeRef:O(e,"cascade"),checkOnClickRef:O(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Ve,droppingNodeParentRef:On,draggingNodeRef:Fe,droppingPositionRef:Ge,droppingOffsetLevelRef:qe,fNodesRef:ae,pendingNodeKeyRef:le,disabledFieldRef:O(e,"disabledField"),internalScrollableRef:O(e,"internalScrollable"),internalCheckboxFocusableRef:O(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:O(e,"renderLabel"),renderPrefixRef:O(e,"renderPrefix"),renderSuffixRef:O(e,"renderSuffix"),renderSwitcherIconRef:O(e,"renderSwitcherIcon"),labelFieldRef:O(e,"labelField"),multipleRef:O(e,"multiple"),handleSwitcherClick:Nt,handleDragEnd:Xn,handleDragEnter:Yn,handleDragLeave:Wn,handleDragStart:Zn,handleDrop:Qn,handleDragOver:Pt,handleSelect:it,handleCheck:Tt});function rr(o){var l;(l=c.value)===null||l===void 0||l.scrollTo(o)}const It={handleKeydown:Oe,scrollTo:rr},Dt=E(()=>{const{common:{cubicBezierEaseInOut:o},self:{fontSize:l,nodeBorderRadius:v,nodeColorHover:_,nodeColorPressed:R,nodeColorActive:G,arrowColor:V,loadingColor:ce,nodeTextColor:xe,nodeTextColorDisabled:ie,dropMarkColor:M}}=d.value;return{"--n-arrow-color":V,"--n-loading-color":ce,"--n-bezier":o,"--n-font-size":l,"--n-node-border-radius":v,"--n-node-color-active":G,"--n-node-color-hover":_,"--n-node-color-pressed":R,"--n-node-text-color":xe,"--n-node-text-color-disabled":ie,"--n-drop-mark-color":M}}),Te=n?Qe("tree",void 0,Dt,e):void 0;return{mergedClsPrefix:t,mergedTheme:d,rtlEnabled:i,fNodes:Bn,aip:Re,selfElRef:s,virtualListInstRef:c,scrollbarInstRef:u,handleFocusout:nr,handleDragLeaveTree:Jn,handleScroll:er,getScrollContainer:f,getScrollContent:h,handleAfterEnter:An,handleResize:tr,handleKeydown:It.handleKeydown,scrollTo:It.scrollTo,cssVars:n?void 0:Dt,themeClass:Te==null?void 0:Te.themeClass,onRender:Te==null?void 0:Te.onRender}},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:r,blockNode:i,blockLine:d,draggable:s,disabled:u,internalFocusable:c,checkable:f,handleKeydown:h,rtlEnabled:k,handleFocusout:p}=this,b=c&&!u,a=b?"0":void 0,g=[`${r}-tree`,k&&`${r}-tree--rtl`,f&&`${r}-tree--checkable`,(d||i)&&`${r}-tree--block-node`,d&&`${r}-tree--block-line`],y=S=>"__motion"in S?C(yo,{height:S.height,nodes:S.nodes,clsPrefix:r,mode:S.mode,onAfterEnter:this.handleAfterEnter}):C(kn,{key:S.key,tmNode:S,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:S,internalScrollablePadding:$}=this,P=kr($||"0");return C(Mt,{ref:"scrollbarInstRef",onDragleave:s?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:g,theme:S.peers.Scrollbar,themeOverrides:S.peerOverrides.Scrollbar,tabindex:a,onKeydown:b?h:void 0,onFocusout:b?p:void 0},{default:()=>{var x;return(x=this.onRender)===null||x===void 0||x.call(this),C(Sr,{ref:"virtualListInstRef",items:this.fNodes,itemSize:Je,ignoreItemResize:this.aip,paddingTop:P.top,paddingBottom:P.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:P.left,paddingRight:P.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:T})=>y(T)})}})}const{internalScrollable:w}=this;return g.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),w?C(Mt,{class:g,tabindex:a,onKeydown:b?h:void 0,onFocusout:b?p:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>C("div",{onDragleave:s?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(y))}):C("div",{class:g,tabindex:a,ref:"selfElRef",style:this.cssVars,onKeydown:b?h:void 0,onFocusout:b?p:void 0,onDragleave:s?this.handleDragLeaveTree:void 0},t.length?t.map(y):wr(this.$slots.empty,()=>[C(Rr,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}});var So=Array.isArray,pt=So,wo=typeof We=="object"&&We&&We.Object===Object&&We,Ro=wo,$o=Ro,To=typeof self=="object"&&self&&self.Object===Object&&self,No=$o||To||Function("return this")(),mt=No,Po=mt,Io=Po.Symbol,_t=Io,Ht=_t,Sn=Object.prototype,Do=Sn.hasOwnProperty,Ko=Sn.toString,Le=Ht?Ht.toStringTag:void 0;function Oo(e){var t=Do.call(e,Le),n=e[Le];try{e[Le]=void 0;var r=!0}catch{}var i=Ko.call(e);return r&&(t?e[Le]=n:delete e[Le]),i}var Fo=Oo,Bo=Object.prototype,Ao=Bo.toString;function Eo(e){return Ao.call(e)}var zo=Eo,Vt=_t,Lo=Fo,jo=zo,Mo="[object Null]",Uo="[object Undefined]",Gt=Vt?Vt.toStringTag:void 0;function Ho(e){return e==null?e===void 0?Uo:Mo:Gt&&Gt in Object(e)?Lo(e):jo(e)}var wn=Ho;function Vo(e){return e!=null&&typeof e=="object"}var Go=Vo,qo=wn,Yo=Go,Wo="[object Symbol]";function Jo(e){return typeof e=="symbol"||Yo(e)&&qo(e)==Wo}var xt=Jo,Xo=pt,Zo=xt,Qo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ea=/^\w*$/;function ta(e,t){if(Xo(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Zo(e)?!0:ea.test(e)||!Qo.test(e)||t!=null&&e in Object(t)}var na=ta;function ra(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ct=ra,oa=wn,aa=Ct,la="[object AsyncFunction]",ia="[object Function]",sa="[object GeneratorFunction]",da="[object Proxy]";function ca(e){if(!aa(e))return!1;var t=oa(e);return t==ia||t==sa||t==la||t==da}var ua=ca,fa=mt,ha=fa["__core-js_shared__"],ga=ha,ht=ga,qt=function(){var e=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function va(e){return!!qt&&qt in e}var ba=va,ya=Function.prototype,pa=ya.toString;function ma(e){if(e!=null){try{return pa.call(e)}catch{}try{return e+""}catch{}}return""}var _a=ma,xa=ua,Ca=ba,ka=Ct,Sa=_a,wa=/[\\^$.*+?()[\]{}|]/g,Ra=/^\[object .+?Constructor\]$/,$a=Function.prototype,Ta=Object.prototype,Na=$a.toString,Pa=Ta.hasOwnProperty,Ia=RegExp("^"+Na.call(Pa).replace(wa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Da(e){if(!ka(e)||Ca(e))return!1;var t=xa(e)?Ia:Ra;return t.test(Sa(e))}var Ka=Da;function Oa(e,t){return e==null?void 0:e[t]}var Fa=Oa,Ba=Ka,Aa=Fa;function Ea(e,t){var n=Aa(e,t);return Ba(n)?n:void 0}var kt=Ea,za=kt,La=za(Object,"create"),et=La,Yt=et;function ja(){this.__data__=Yt?Yt(null):{},this.size=0}var Ma=ja;function Ua(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ha=Ua,Va=et,Ga="__lodash_hash_undefined__",qa=Object.prototype,Ya=qa.hasOwnProperty;function Wa(e){var t=this.__data__;if(Va){var n=t[e];return n===Ga?void 0:n}return Ya.call(t,e)?t[e]:void 0}var Ja=Wa,Xa=et,Za=Object.prototype,Qa=Za.hasOwnProperty;function el(e){var t=this.__data__;return Xa?t[e]!==void 0:Qa.call(t,e)}var tl=el,nl=et,rl="__lodash_hash_undefined__";function ol(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nl&&t===void 0?rl:t,this}var al=ol,ll=Ma,il=Ha,sl=Ja,dl=tl,cl=al;function Pe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pe.prototype.clear=ll;Pe.prototype.delete=il;Pe.prototype.get=sl;Pe.prototype.has=dl;Pe.prototype.set=cl;var ul=Pe;function fl(){this.__data__=[],this.size=0}var hl=fl;function gl(e,t){return e===t||e!==e&&t!==t}var Rn=gl,vl=Rn;function bl(e,t){for(var n=e.length;n--;)if(vl(e[n][0],t))return n;return-1}var tt=bl,yl=tt,pl=Array.prototype,ml=pl.splice;function _l(e){var t=this.__data__,n=yl(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ml.call(t,n,1),--this.size,!0}var xl=_l,Cl=tt;function kl(e){var t=this.__data__,n=Cl(t,e);return n<0?void 0:t[n][1]}var Sl=kl,wl=tt;function Rl(e){return wl(this.__data__,e)>-1}var $l=Rl,Tl=tt;function Nl(e,t){var n=this.__data__,r=Tl(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Pl=Nl,Il=hl,Dl=xl,Kl=Sl,Ol=$l,Fl=Pl;function Ie(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ie.prototype.clear=Il;Ie.prototype.delete=Dl;Ie.prototype.get=Kl;Ie.prototype.has=Ol;Ie.prototype.set=Fl;var Bl=Ie,Al=kt,El=mt,zl=Al(El,"Map"),Ll=zl,Wt=ul,jl=Bl,Ml=Ll;function Ul(){this.size=0,this.__data__={hash:new Wt,map:new(Ml||jl),string:new Wt}}var Hl=Ul;function Vl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Gl=Vl,ql=Gl;function Yl(e,t){var n=e.__data__;return ql(t)?n[typeof t=="string"?"string":"hash"]:n.map}var nt=Yl,Wl=nt;function Jl(e){var t=Wl(this,e).delete(e);return this.size-=t?1:0,t}var Xl=Jl,Zl=nt;function Ql(e){return Zl(this,e).get(e)}var ei=Ql,ti=nt;function ni(e){return ti(this,e).has(e)}var ri=ni,oi=nt;function ai(e,t){var n=oi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var li=ai,ii=Hl,si=Xl,di=ei,ci=ri,ui=li;function De(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}De.prototype.clear=ii;De.prototype.delete=si;De.prototype.get=di;De.prototype.has=ci;De.prototype.set=ui;var fi=De,$n=fi,hi="Expected a function";function St(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hi);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],d=n.cache;if(d.has(i))return d.get(i);var s=e.apply(this,r);return n.cache=d.set(i,s)||d,s};return n.cache=new(St.Cache||$n),n}St.Cache=$n;var gi=St,vi=gi,bi=500;function yi(e){var t=vi(e,function(r){return n.size===bi&&n.clear(),r}),n=t.cache;return t}var pi=yi,mi=pi,_i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xi=/\\(\\)?/g,Ci=mi(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_i,function(n,r,i,d){t.push(i?d.replace(xi,"$1"):r||n)}),t}),ki=Ci;function Si(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var wi=Si,Jt=_t,Ri=wi,$i=pt,Ti=xt,Ni=1/0,Xt=Jt?Jt.prototype:void 0,Zt=Xt?Xt.toString:void 0;function Tn(e){if(typeof e=="string")return e;if($i(e))return Ri(e,Tn)+"";if(Ti(e))return Zt?Zt.call(e):"";var t=e+"";return t=="0"&&1/e==-Ni?"-0":t}var Pi=Tn,Ii=Pi;function Di(e){return e==null?"":Ii(e)}var Ki=Di,Oi=pt,Fi=na,Bi=ki,Ai=Ki;function Ei(e,t){return Oi(e)?e:Fi(e,t)?[e]:Bi(Ai(e))}var Nn=Ei,zi=xt,Li=1/0;function ji(e){if(typeof e=="string"||zi(e))return e;var t=e+"";return t=="0"&&1/e==-Li?"-0":t}var Pn=ji,Mi=Nn,Ui=Pn;function Hi(e,t){t=Mi(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ui(t[n++])];return n&&n==r?e:void 0}var Vi=Hi,Gi=Vi;function qi(e,t,n){var r=e==null?void 0:Gi(e,t);return r===void 0?n:r}var Yi=qi;const Wi=Yi;var Ji=kt,Xi=function(){try{var e=Ji(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Zi=Xi,Qt=Zi;function Qi(e,t,n){t=="__proto__"&&Qt?Qt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var es=Qi,ts=es,ns=Rn,rs=Object.prototype,os=rs.hasOwnProperty;function as(e,t,n){var r=e[t];(!(os.call(e,t)&&ns(r,n))||n===void 0&&!(t in e))&&ts(e,t,n)}var ls=as,is=9007199254740991,ss=/^(?:0|[1-9]\d*)$/;function ds(e,t){var n=typeof e;return t=t==null?is:t,!!t&&(n=="number"||n!="symbol"&&ss.test(e))&&e>-1&&e%1==0&&e<t}var cs=ds,us=ls,fs=Nn,hs=cs,en=Ct,gs=Pn;function vs(e,t,n,r){if(!en(e))return e;t=fs(t,e);for(var i=-1,d=t.length,s=d-1,u=e;u!=null&&++i<d;){var c=gs(t[i]),f=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=s){var h=u[c];f=r?r(h,c,u):void 0,f===void 0&&(f=en(h)?h:hs(t[i+1])?[]:{})}us(u,c,f),u=u[c]}return e}var bs=vs,ys=bs;function ps(e,t,n){return e==null?e:ys(e,t,n)}var ms=ps;const _s=J({name:"BatchTranslateItem",props:{dirItem:{type:Object,required:!0},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""}},setup(e,{emit:t}){const{dirItem:n,filePathArr:r,translatePath:i}=ln(e),d=()=>{let a=null;const g=(y,w,S=0)=>{const $=w[S];if(!!y)for(let P=0;P<y.length;P++){const x=y[P];if(x.label===$&&S===w.length-1)throw a=x,new Error("item found");x.children&&g(x.children,w,S+1)}};try{g(n.value.children,r.value)}catch{}return a},s=E(()=>d()),u=sn(null),c=I(null),f=I(!1),h=I(!1),k=()=>{const a=Wi(u.value,i.value,null);return Array.isArray(a)?(h.value=!0,JSON.stringify(a,null,2)):(h.value=!1,a)},p=(a=c.value)=>{h.value&&a&&(a=JSON.parse(a)),ms(u.value,i.value,a)};ye(s,async a=>{if(!a){u.value=null,c.value=null,h.value=!1,be(()=>{f.value=!1});return}const g=await a.entry.getFile(),y=await dn(g);u.value=JSON.parse(y),c.value=k(),be(()=>{f.value=!1})},{immediate:!0}),ye(c,()=>{f.value=!0}),ye(i,a=>{c.value=k(),be(()=>{f.value=!1})});const b=async()=>{try{if(!s.value)return;const a=s.value.entry;if(!a)return;const g=await a.getFile(),y=await a.createWritable(),w=JSON.stringify(u.value,null,2);await y.write(w),await y.close(),window.$message.success("Saved!")}catch(a){console.error(a),window.$message.error("Save Failed!"+a.message)}};return{currentItem:s,translateObj:u,translateText:c,isChanged:f,async saveChange(){p(),await b(),be(()=>{f.value=!1})},cancelChange(){c.value=k(),be(()=>{f.value=!1})},createField(a){p(a),c.value=a,h.value=Array.isArray(a)},isFieldArray:h}}});const xs={style:{color:"darkseagreen"},class:"font-code"},Cs={key:0,style:{color:"red","margin-bottom":"10px"}},ks=fe("Save"),Ss=fe("Cancel"),ws=fe("Create text"),Rs=fe("Create Array"),$s={key:2,style:{color:"darkgoldenrod"}};function Ts(e,t,n,r,i,d){const s=un,u=fn,c=hn,f=gn;return j(),ne(f,{size:"small",class:"batch-translate-item",title:e.dirItem.label+"/"+e.filePathArr.join("/")},{"header-extra":z(()=>[Xe("span",xs,$r(e.translatePath),1)]),default:z(()=>[e.currentItem?e.translatePath?(j(),se(Ne,{key:1},[e.translateText!==null?(j(),ne(c,{key:0,align:"center"},{default:z(()=>[X(s,{type:"textarea",size:"small",value:e.translateText,"onUpdate:value":t[0]||(t[0]=h=>e.translateText=h),placeholder:e.isFieldArray?"Input array":"Input text",rows:e.isFieldArray?8:1,style:{width:"450px"},class:cn({"font-code":e.isFieldArray})},null,8,["value","placeholder","rows","class"]),e.isChanged?(j(),ne(u,{key:0,size:"small",type:"primary",onClick:e.saveChange},{default:z(()=>[ks]),_:1},8,["onClick"])):ke("",!0),e.isChanged?(j(),ne(u,{key:1,size:"small",onClick:e.cancelChange},{default:z(()=>[Ss]),_:1},8,["onClick"])):ke("",!0)]),_:1})):(j(),ne(c,{key:1},{default:z(()=>[X(u,{size:"small",onClick:t[1]||(t[1]=h=>e.createField("")),type:"primary"},{default:z(()=>[ws]),_:1}),X(u,{size:"small",onClick:t[2]||(t[2]=h=>e.createField([]))},{default:z(()=>[Rs]),_:1})]),_:1}))],64)):(j(),se("div",$s,"Please select a translation field on the left")):(j(),se("div",Cs," File does not exist, please create it on your local file system "))]),_:1},8,["title"])}const In=yt(_s,[["render",Ts],["__scopeId","data-v-19e2dc64"]]),Ns=J({name:"BatchTranslate",components:{BatchTranslateItem:In},props:{dirTree:{type:Array,default(){return[]}},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""}},setup(e,{emit:t}){return ln(e),{}}});const Ps={class:"batch-translate"};function Is(e,t,n,r,i,d){const s=In;return j(),se("div",Ps,[(j(!0),se(Ne,null,vt(e.dirTree.filter(u=>u.kind==="directory"),u=>(j(),ne(s,{key:u.key,"dir-item":u,"file-path-arr":e.filePathArr,"translate-path":e.translatePath},null,8,["dir-item","file-path-arr","translate-path"]))),128))])}const Dn=yt(Ns,[["render",Is],["__scopeId","data-v-720493b0"]]);let gt=0;const Ds=J({name:"VueI18nDirTool",components:{BatchTranslate:Dn},setup(){const e=I([]),t=async(a,g=0,y=[],w=[])=>{gt++;let S=0;for await(const $ of a.values())if(S++,$.kind==="directory"){let P=[];y.push({key:`${gt}-D-${g}-${S}`,kind:$.kind,label:$.name,entry:$,parentDirs:w,children:P}),await t($,g+1,P,[...w,$.name])}else/\.json$/gi.test($.name)&&y.push({key:`${gt}-F-${g}-${S}`,kind:$.kind,label:$.name,entry:$,parentDirs:w,children:null});return y},n=sn(),r=async()=>{n.value=await window.showDirectoryPicker(),e.value=await t(n.value)},i=async()=>{e.value=await t(n.value)},d=I(null),s=I(null),u=I([]),c=I(""),f=async()=>{try{const a=d.value;if(!a)return;const g=await a.getFile(),y=await a.createWritable();k.value!=="text"&&(s.value=JSON.stringify(Ir(p.value),null,2)),await y.write(s.value),await y.close(),await i(),window.$message.success("Saved!")}catch(a){console.error(a),window.$message.error("Save Failed!"+a.message)}},h=["text","gui","batch"],k=I("batch"),p=I([Nr()]),b=()=>{if(k.value!=="text"){if(!s.value){p.value=[];return}const a=JSON.parse(s.value);p.value=Dr(a)}};return ye(k,a=>{b()}),{iconTranslate:Pr,handlePickDir:r,dirTree:e,dirHandle:n,reloadPickedDir:i,nodeProps:({option:a})=>({async onClick(){if(a.kind==="file"){const g=a.entry;d.value=g;const y=await dn(await g.getFile());s.value=y,u.value=[...a.parentDirs,a.label],c.value="",b()}}}),currentEditText:s,currentEditEntry:d,handleSaveFile:f,editMode:k,editModeList:h,translateTreeRoot:p,currentFilePathArr:u,translatePath:c,handleKeyClick(a){console.log(a),c.value=a}}}});const Ks={class:"vue-i18n-copy-tool"},Os=fe(" Vue i18n Dir Tool "),Fs=fe("Save Changes"),Bs=fe(" Edit Mode:"),As=fe(" Pick i18n Directory "),Es=fe(" Refresh "),zs={class:"_container"},Ls={class:"main-edit-wrap"};function js(e,t,n,r,i,d){const s=Or,u=fn,c=Gr,f=Vr,h=hn,k=Fr,p=gn,b=ko,a=io,g=oo,y=un,w=Kr,S=Dn,$=Qr,P=Zr;return j(),se("div",Ks,[X(p,{size:"small"},{default:z(()=>[X(k,{subtitle:"",onBack:t[1]||(t[1]=x=>e.$router.push({name:"HomeView"}))},{title:z(()=>[Os]),avatar:z(()=>[X(s,{src:e.iconTranslate,style:{background:"none"}},null,8,["src"])]),extra:z(()=>[X(h,{align:"center"},{default:z(()=>[e.currentEditEntry?(j(),ne(u,{key:0,type:"primary",onClick:e.handleSaveFile},{default:z(()=>[Fs]),_:1},8,["onClick"])):ke("",!0),Bs,X(f,{size:"small",value:e.editMode,"onUpdate:value":t[0]||(t[0]=x=>e.editMode=x)},{default:z(()=>[(j(!0),se(Ne,null,vt(e.editModeList,x=>(j(),ne(c,{key:x,value:x,label:x.toUpperCase()},null,8,["value","label"]))),128))]),_:1},8,["value"]),X(u,{type:"primary",size:"small",onClick:e.handlePickDir},{default:z(()=>[As]),_:1},8,["onClick"]),e.dirHandle?(j(),ne(u,{key:1,size:"small",onClick:e.reloadPickedDir},{default:z(()=>[Es]),_:1},8,["onClick"])):ke("",!0)]),_:1})]),_:1})]),_:1}),Xe("div",zs,[X(P,{style:{height:"100%"},"has-sider":""},{default:z(()=>[X(g,{"collapse-mode":"width","collapsed-width":0,width:300,"show-trigger":"arrow-circle","content-style":"padding: 10px;",bordered:""},{default:z(()=>[X(a,{style:{height:"100%"}},{default:z(()=>[X(b,{"block-line":"",data:e.dirTree,"node-props":e.nodeProps,"default-expand-all":"","expand-on-click":"",selectable:""},null,8,["data","node-props"])]),_:1})]),_:1}),X($,null,{default:z(()=>[Xe("div",Ls,[e.currentEditEntry?(j(),se(Ne,{key:0},[ke("",!0),Xe("div",{class:cn(["edit-content-wrap",{"batch-mode":e.editMode==="batch"}])},[e.editMode==="text"?(j(),ne(y,{key:0,type:"textarea",value:e.currentEditText,"onUpdate:value":t[2]||(t[2]=x=>e.currentEditText=x),class:"font-code",style:{height:"100%"},placeholder:"Edit Text"},null,8,["value"])):(j(),se(Ne,{key:1},[X(a,{style:Tr([{height:"100%"},{width:e.editMode==="batch"?"500px":"100%"}])},{default:z(()=>[(j(!0),se(Ne,null,vt(e.translateTreeRoot,(x,T)=>(j(),ne(w,{key:T,item:x,"is-lite":e.editMode==="batch",onOnKeyClick:e.handleKeyClick},null,8,["item","is-lite","onOnKeyClick"]))),128))]),_:1},8,["style"]),e.editMode==="batch"?(j(),ne(a,{key:0,style:{height:"100%"}},{default:z(()=>[X(S,{"dir-tree":e.dirTree,"file-path-arr":e.currentFilePathArr.slice(1),"translate-path":e.translatePath},null,8,["dir-tree","file-path-arr","translate-path"])]),_:1})):ke("",!0)],64))],2)],64)):ke("",!0)])]),_:1})]),_:1})])])}const Vs=yt(Ds,[["render",js],["__scopeId","data-v-72a4495e"]]);export{Vs as default};

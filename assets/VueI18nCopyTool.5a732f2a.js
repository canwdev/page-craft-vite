import{_ as h,f as S,p,i as I,e as d}from"./translate.7cb620ba.js";import{d as N,r as O,s as F,$ as V,_ as $,o as r,m as u,e as a,a as n,c as m,a0 as x,b as J,F as z,n as B,p as c,q as P,a1 as j,x as D,z as E}from"./index.e6a55876.js";import{_ as R,a as H}from"./PageHeader.6f52f00c.js";const f={types:[{description:"JSON",accept:{"application/JSON":[".json"]}}]},L=N({name:"VueI18nCopyTool",components:{TranslateTreeItem:h},setup(){const e=O([S()]),o=F();return{translateTreeRoot:e,fileHandle:o,handleImport:async l=>{const[s]=await window.showOpenFilePicker(f);o.value=s;const t=await V(await s.getFile()),i=JSON.parse(t);e.value=p(i)},handleSaveFile:async()=>{if(!o.value)return;const l=await o.value.createWritable(),s=JSON.stringify(d(e.value),null,2);await l.write(s),await l.close(),window.$message.success("Saved!")},handleExport:async()=>{var i;const l=JSON.stringify(d(e.value),null,2),t=await(await window.showSaveFilePicker({suggestedName:(i=o.value)==null?void 0:i.name,...f})).createWritable();await t.write(l),await t.close(),window.$message.success("Saved!")},loadDemo(){e.value=p({hello_world:{section_a:{test_str:"This is a test string","":"It's fast and cool"},section_b:{"":"Blur this input and it'll fill left blank automatically!"}}})},iconTranslate:I}}});const W={class:"vue-i18n-copy-tool"},q=c(" Vue i18n Copy Tool "),A=c(" Open JSON "),G=c("Save"),K=c("Save as..."),M=c("Demo"),Q=c(" Load Demo? This will override editing content. "),U={class:"_container"};function X(e,o,w,v,g,l){const s=R,t=P,i=j,y=D,k=H,b=E,T=h;return r(),u("div",W,[a(b,{size:"small",style:{position:"sticky",top:"0","z-index":"100","margin-bottom":"10px"}},{default:n(()=>[a(k,{subtitle:"",onBack:o[0]||(o[0]=_=>e.$router.push({name:"HomeView"}))},{title:n(()=>[q]),avatar:n(()=>[a(s,{src:e.iconTranslate,style:{background:"none"}},null,8,["src"])]),extra:n(()=>[a(y,null,{default:n(()=>[a(t,{type:"primary",onClick:e.handleImport,size:"small"},{default:n(()=>[A]),_:1},8,["onClick"]),e.fileHandle?(r(),m(t,{key:0,onClick:e.handleSaveFile,size:"small",type:"info"},{default:n(()=>[G]),_:1},8,["onClick"])):x("",!0),a(t,{onClick:e.handleExport,size:"small"},{default:n(()=>[K]),_:1},8,["onClick"]),a(i,{onPositiveClick:e.loadDemo},{trigger:n(()=>[a(t,{size:"small"},{default:n(()=>[M]),_:1})]),default:n(()=>[Q]),_:1},8,["onPositiveClick"])]),_:1})]),_:1})]),_:1}),J("div",U,[(r(!0),u(z,null,B(e.translateTreeRoot,(_,C)=>(r(),m(T,{key:C,item:_},null,8,["item"]))),128))])])}const ne=$(L,[["render",X],["__scopeId","data-v-b00bd51a"]]);export{ne as default};

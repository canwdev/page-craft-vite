import{u as e}from"./use-model-wrapper-C3eqSSDB.js";import{r as t,a}from"./index-BWzdhM7Z.js";import{d as s,M as o,r as l,E as i,at as n,y as r,au as p,av as m,bM as u,_ as d,i as c,o as v,p as x,l as f,a1 as h,f as y,c as g,a as C,k as T,F as _,W as w,X as M,g as V,a9 as b,q as k,U as j,V as z}from"./index-B_8g2bxo.js";import{V as P}from"./index-B6cBd3b0.js";import{V as R}from"./index-Byyymg_I.js";import{a as E,C as L}from"./Copy20Regular-sZkODe5h.js";import{_ as N}from"./ButtonGroup-BslXupHZ.js";import{_ as U}from"./Select-B9LExM5-.js";import{_ as A}from"./Checkbox-BMCJIerk.js";import{N as I}from"./Icon-CMxllykI.js";import"./Popover-BKGBJvpF.js";import"./Tag-DZeuv2Mx.js";const O=s({name:"DialogTextTransformer",components:{ViewPortWindow:R,VueMonaco:P,ClipboardPaste20Regular:E,Copy20Regular:L},props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(s,{emit:d}){const{t:c}=o(),v=e(s,d,"visible"),x=l(""),f=l(""),h=i("text_converter_copy_mode",n.JSON,localStorage,{listenToStorageChanges:!1}),y=l(!0),g=l(""),C=l("");r(x,(()=>{T()})),r(h,(()=>{T()})),r(y,(()=>{T()})),r(g,(()=>{T()})),r(C,(()=>{T()}));const T=()=>{f.value=p(x.value,h.value,{isTrimEmptyLines:y.value,htmlTagName:g.value,htmlAttrs:C.value})},_=async()=>{x.value=await t()},w=async()=>{await a(f.value),window.$message.success(c("msgs.copy_success"))},M=l(),V=u((()=>{M.value.resize()}),300);return{mVisible:v,textInput:x,textOutput:f,TextConvertMode:n,TextConvertOptions:m,mMode:h,isTrimEmptyLines:y,htmlTagName:g,htmlAttrs:C,handleAutoPasteCopy:async()=>{await _(),setTimeout((()=>{w()}))},handlePaste:_,handleCopy:w,monacoEditorRef:M,resizeMonaco:V}}}),H={key:0,class:"text-converter-wrap"},S={class:"tool-header",align:"center"},$={class:"main-box font-code"},B={class:"input-wrapper"},W=(e=>(j("data-v-9682cd3f"),e=e(),z(),e))((()=>C("div",{class:"input-tip"},"Text Input: text",-1))),D={class:"input-wrapper"},q={class:"input-tip"};const F=d(O,[["render",function(e,t,a,s,o,l){const i=U,n=A,r=c("ClipboardPaste20Regular"),p=I,m=c("Copy20Regular"),u=b,d=N,j=k,z=c("VueMonaco"),P=c("ViewPortWindow");return v(),x(P,{visible:e.mVisible,"onUpdate:visible":t[6]||(t[6]=t=>e.mVisible=t),wid:"text_converter","allow-maximum":"",onResize:e.resizeMonaco,"init-win-options":{width:"600px",height:"500px"},"init-center":""},{titleBarLeft:f((()=>[h(y(e.$t("common.text_transformer")),1)])),default:f((()=>[e.mVisible?(v(),g("div",H,[C("div",S,[h(" Convert to: "),T(i,{size:"small",value:e.mMode,"onUpdate:value":t[0]||(t[0]=t=>e.mMode=t),options:e.TextConvertOptions,style:{width:"100px"}},null,8,["value","options"]),T(n,{size:"small",checked:e.isTrimEmptyLines,"onUpdate:checked":t[1]||(t[1]=t=>e.isTrimEmptyLines=t)},{default:f((()=>[h(y(e.$t("msgs.trim_empty_lines")),1)])),_:1},8,["checked"]),e.mMode===e.TextConvertMode.HTML?(v(),g(_,{key:0},[w(C("input",{class:"vp-input","onUpdate:modelValue":t[2]||(t[2]=t=>e.htmlTagName=t),placeholder:"HTML Tag Name",size:"small"},null,512),[[M,e.htmlTagName]]),e.htmlTagName?w((v(),g("input",{key:0,class:"vp-input","onUpdate:modelValue":t[3]||(t[3]=t=>e.htmlAttrs=t),placeholder:"HTML Attrs",size:"small"},null,512)),[[M,e.htmlAttrs]]):V("",!0)],64)):V("",!0),T(d,null,{default:f((()=>[T(u,{onClick:e.handleAutoPasteCopy,size:"small",type:"primary",title:e.$t("msgs.auto_paste_and_copy"),class:"focus-auto-action"},{default:f((()=>[T(p,null,{default:f((()=>[T(r)])),_:1}),h("+ "),T(p,null,{default:f((()=>[T(m)])),_:1})])),_:1},8,["onClick","title"]),T(u,{onClick:e.handlePaste,size:"small",title:"Paste"},{icon:f((()=>[T(r)])),_:1},8,["onClick"]),T(u,{onClick:e.handleCopy,size:"small",title:"Copy Result"},{icon:f((()=>[T(m)])),_:1},8,["onClick"])])),_:1})]),C("div",$,[C("div",B,[W,T(j,{class:"input-text",type:"textarea",value:e.textInput,"onUpdate:value":t[4]||(t[4]=t=>e.textInput=t),placeholder:"Text Input"},null,8,["value"])]),C("div",D,[C("div",q,"Text Output: "+y(e.mMode),1),T(z,{modelValue:e.textOutput,"onUpdate:modelValue":t[5]||(t[5]=t=>e.textOutput=t),language:e.mMode,class:"input-text",ref:"monacoEditorRef"},null,8,["modelValue","language"])])])])):V("",!0)])),_:1},8,["visible","onResize"])}],["__scopeId","data-v-9682cd3f"]]);export{F as default};

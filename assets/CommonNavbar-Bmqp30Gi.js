import{d as e,a2 as r,bb as n,bc as a,ca as t,bl as o,cb as s,bk as l,bf as i,r as c,bn as d,e as v,be as u,cc as b,bV as g,bi as h,cd as f,s as p,bD as m,x as z,y as x,bF as k,bS as y,bT as O,bC as $,bm as w,ce as C,o as P,c as _,k as F,l as R,a1 as j,f as S,z as L,j as E,ar as H,p as T,g as B,_ as M}from"./index-B89s4h30.js";import{o as V,i as D}from"./utils-qyy2zKdG.js";import{t as A}from"./Tag-DedM7ulB.js";const I=e({name:"ArrowBack",render:()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r("path",{d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"}))}),W=n("n-avatar-group"),N=a("avatar","\n width: var(--n-merged-size);\n height: var(--n-merged-size);\n color: #FFF;\n font-size: var(--n-font-size);\n display: inline-flex;\n position: relative;\n overflow: hidden;\n text-align: center;\n border: var(--n-border);\n border-radius: var(--n-border-radius);\n --n-merged-color: var(--n-color);\n background-color: var(--n-merged-color);\n transition:\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n",[t(o("&","--n-merged-color: var(--n-color-modal);")),s(o("&","--n-merged-color: var(--n-color-popover);")),o("img","\n width: 100%;\n height: 100%;\n "),l("text","\n white-space: nowrap;\n display: inline-block;\n position: absolute;\n left: 50%;\n top: 50%;\n "),a("icon","\n vertical-align: bottom;\n font-size: calc(var(--n-merged-size) - 6px);\n "),l("text","line-height: 1.25")]),X=e({name:"Avatar",props:Object.assign(Object.assign({},u.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),setup(e){const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=i(e),a=c(!1);let t=null;const o=c(null),s=c(null),l=d(W,null),k=v((()=>{const{size:r}=e;if(r)return r;const{size:n}=l||{};return n||"medium"})),y=u("Avatar","-avatar",N,b,e,r),O=d(A,null),$=v((()=>{if(l)return!0;const{round:r,circle:n}=e;return void 0!==r||void 0!==n?r||n:!!O&&O.roundRef.value})),w=v((()=>!!l||(e.bordered||!1))),C=v((()=>{const r=k.value,n=$.value,a=w.value,{color:t}=e,{self:{borderRadius:o,fontSize:s,color:l,border:i,colorModal:c,colorPopover:d},common:{cubicBezierEaseInOut:v}}=y.value;let u;return u="number"==typeof r?`${r}px`:y.value.self[g("height",r)],{"--n-font-size":s,"--n-border":a?i:"none","--n-border-radius":n?"50%":o,"--n-color":t||l,"--n-color-modal":t||c,"--n-color-popover":t||d,"--n-bezier":v,"--n-merged-size":`var(--n-avatar-size-override, ${u})`}})),P=n?h("avatar",v((()=>{const r=k.value,n=$.value,a=w.value,{color:t}=e;let o="";return r&&(o+="number"==typeof r?`a${r}`:r[0]),n&&(o+="b"),a&&(o+="c"),t&&(o+=f(t)),o})),C,e):void 0,_=c(!e.lazy);p((()=>{if(e.lazy&&e.intersectionObserverOptions){let r;const n=m((()=>{null==r||r(),r=void 0,e.lazy&&(r=V(s.value,e.intersectionObserverOptions,_))}));z((()=>{n(),null==r||r()}))}})),x((()=>{var r;return e.src||(null===(r=e.imgProps)||void 0===r?void 0:r.src)}),(()=>{a.value=!1}));const F=c(!e.lazy);return{textRef:o,selfRef:s,mergedRoundRef:$,mergedClsPrefix:r,fitTextTransform:()=>{const{value:e}=o;if(e&&(null===t||t!==e.innerHTML)){t=e.innerHTML;const{value:r}=s;if(r){const{offsetWidth:n,offsetHeight:a}=r,{offsetWidth:t,offsetHeight:o}=e,s=.9,l=Math.min(n/t*s,a/o*s,1);e.style.transform=`translateX(-50%) translateY(-50%) scale(${l})`}}},cssVars:n?void 0:C,themeClass:null==P?void 0:P.themeClass,onRender:null==P?void 0:P.onRender,hasLoadError:a,shouldStartLoading:_,loaded:F,mergedOnError:r=>{if(!_.value)return;a.value=!0;const{onError:n,imgProps:{onError:t}={}}=e;null==n||n(r),null==t||t(r)},mergedOnLoad:r=>{const{onLoad:n,imgProps:{onLoad:a}={}}=e;null==n||n(r),null==a||a(r),F.value=!0}}},render(){var e,n;const{$slots:a,src:t,mergedClsPrefix:o,lazy:s,onRender:l,loaded:i,hasLoadError:c,imgProps:d={}}=this;let v;null==l||l();const u=!i&&!c&&(this.renderPlaceholder?this.renderPlaceholder():null===(n=(e=this.$slots).placeholder)||void 0===n?void 0:n.call(e));return v=this.hasLoadError?this.renderFallback?this.renderFallback():k(a.fallback,(()=>[r("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})])):y(a.default,(e=>{if(e)return r(O,{onResize:this.fitTextTransform},{default:()=>r("span",{ref:"textRef",class:`${o}-avatar__text`},e)});if(t||d.src){const e=this.src||d.src;return r("img",Object.assign(Object.assign({},d),{loading:D&&!this.intersectionObserverOptions&&s?"lazy":"eager",src:s&&this.intersectionObserverOptions?this.shouldStartLoading?e:void 0:e,"data-image-src":e,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[d.style||"",{objectFit:this.objectFit},u?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}})),r("span",{ref:"selfRef",class:[`${o}-avatar`,this.themeClass],style:this.cssVars},v,s&&u)}}),Y=o([a("page-header-header","\n margin-bottom: 20px;\n "),a("page-header","\n display: flex;\n align-items: center;\n justify-content: space-between;\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[l("main","\n display: flex;\n flex-wrap: nowrap;\n align-items: center;\n "),l("back","\n display: flex;\n margin-right: 16px;\n font-size: var(--n-back-size);\n cursor: pointer;\n color: var(--n-back-color);\n transition: color .3s var(--n-bezier);\n ",[o("&:hover","color: var(--n-back-color-hover);"),o("&:active","color: var(--n-back-color-pressed);")]),l("avatar","\n display: flex;\n margin-right: 12px\n "),l("title","\n margin-right: 16px;\n transition: color .3s var(--n-bezier);\n font-size: var(--n-title-font-size);\n font-weight: var(--n-title-font-weight);\n color: var(--n-title-text-color);\n "),l("subtitle","\n font-size: 14px;\n transition: color .3s var(--n-bezier);\n color: var(--n-subtitle-text-color);\n ")]),a("page-header-content","\n font-size: var(--n-font-size);\n ",[o("&:not(:first-child)","margin-top: 20px;")]),a("page-header-footer","\n font-size: var(--n-font-size);\n ",[o("&:not(:first-child)","margin-top: 20px;")])]),q=e({name:"PageHeader",props:Object.assign(Object.assign({},u.props),{title:String,subtitle:String,extra:String,onBack:Function}),setup(e){const{mergedClsPrefixRef:r,mergedRtlRef:n,inlineThemeDisabled:a}=i(e),t=u("PageHeader","-page-header",Y,C,e,r),o=$("PageHeader",n,r),s=v((()=>{const{self:{titleTextColor:e,subtitleTextColor:r,backColor:n,fontSize:a,titleFontSize:o,backSize:s,titleFontWeight:l,backColorHover:i,backColorPressed:c},common:{cubicBezierEaseInOut:d}}=t.value;return{"--n-title-text-color":e,"--n-title-font-size":o,"--n-title-font-weight":l,"--n-font-size":a,"--n-back-size":s,"--n-subtitle-text-color":r,"--n-back-color":n,"--n-back-color-hover":i,"--n-back-color-pressed":c,"--n-bezier":d}})),l=a?h("page-header",void 0,s,e):void 0;return{rtlEnabled:o,mergedClsPrefix:r,cssVars:a?void 0:s,themeClass:null==l?void 0:l.themeClass,onRender:null==l?void 0:l.onRender}},render(){var e;const{onBack:n,title:a,subtitle:t,extra:o,mergedClsPrefix:s,cssVars:l,$slots:i}=this;null===(e=this.onRender)||void 0===e||e.call(this);const{title:c,subtitle:d,extra:v,default:u,header:b,avatar:g,footer:h,back:f}=i,p=n,m=a||c,z=t||d,x=o||v;return r("div",{style:l,class:[`${s}-page-header-wrapper`,this.themeClass,this.rtlEnabled&&`${s}-page-header-wrapper--rtl`]},b?r("div",{class:`${s}-page-header-header`,key:"breadcrumb"},b()):null,(p||g||m||z||x)&&r("div",{class:`${s}-page-header`,key:"header"},r("div",{class:`${s}-page-header__main`,key:"back"},p?r("div",{class:`${s}-page-header__back`,onClick:n},f?f():r(w,{clsPrefix:s},{default:()=>r(I,null)})):null,g?r("div",{class:`${s}-page-header__avatar`},g()):null,m?r("div",{class:`${s}-page-header__title`,key:"title"},a||c()):null,z?r("div",{class:`${s}-page-header__subtitle`,key:"subtitle"},t||d()):null),x?r("div",{class:`${s}-page-header__extra`},o||v()):null),u?r("div",{class:`${s}-page-header-content`,key:"content"},u()):null,h?r("div",{class:`${s}-page-header-footer`,key:"footer"},h()):null)}}),G={class:"vp-bg common-navbar-wrap"},J=M(e({__name:"CommonNavbar",setup(e){const r=H();return(e,n)=>{const a=X,t=q;return P(),_("div",G,[F(t,{subtitle:"",onBack:n[0]||(n[0]=r=>e.$router.push({name:"HomePage"}))},{title:R((()=>{var e;return[j(S(null==(e=L(r).meta)?void 0:e.title),1)]})),avatar:R((()=>[E(e.$slots,"avatar",{},(()=>{var e;return[(null==(e=L(r).meta)?void 0:e.icon)?(P(),T(a,{key:0,src:L(r).meta.icon,style:{background:"none"}},null,8,["src"])):B("",!0)]}),!0)])),extra:R((()=>[E(e.$slots,"extra",{},void 0,!0)])),_:3})])}}}),[["__scopeId","data-v-79ba855e"]]);export{J as C};

import{d as t,D as e,r as a,q as s,aB as o,K as i,aC as n,a as l,aD as p,bp as u,_ as m,i as r,o as d,p as c,L as v,P as x,f as h,b as y,e as b,O as f,F as g,k as T,v as w,g as V,ax as _,Z as C,$ as M}from"./index-D7imv_Md.js";/* empty css                    */import{u as A}from"./use-model-wrapper-B0P8Zqss.js";import{r as P,b as j}from"./index-BR_HEkHY.js";import{V as k}from"./index-CP_TvyA7.js";import{V as L}from"./index-ChBI-IfP.js";import{R}from"./RectSwitch-DEmfWnCV.js";const $=t({name:"DialogTextTransformer",components:{RectSwitch:R,ViewPortWindow:L,VueMonaco:k},props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(t,{emit:m}){const{t:r}=e(),d=A(t,m,"visible"),c=a(""),v=a(""),x=s("text_converter_copy_mode",o.JSON,localStorage,{listenToStorageChanges:!1}),h=a(!0),y=a(""),b=a("");i(c,(()=>{f()})),i(x,(()=>{f()})),i(h,(()=>{f()})),i(y,(()=>{f()})),i(b,(()=>{f()}));const f=()=>{v.value=n(c.value,x.value,{isTrimEmptyLines:h.value,htmlTagName:y.value,htmlAttrs:b.value})},g=async()=>{c.value=await P()},T=async()=>{await j(v.value),window.$message.success(r("msgs.copy_success"))},w=a(),V=u((()=>{w.value.resize()}),300);return{mVisible:d,settingsStore:l(),textInput:c,textOutput:v,TextConvertMode:o,TextConvertOptions:p,mMode:x,isTrimEmptyLines:h,htmlTagName:y,htmlAttrs:b,handleAutoPasteCopy:async()=>{await g(),setTimeout((()=>{T()}))},handlePaste:g,handleCopy:T,monacoEditorRef:w,resizeMonaco:V}}}),O={key:0,class:"text-converter-wrap"},S={class:"tool-header flex-row-center-gap"},N={class:"vp-button-group"},U=["title"],E={key:0,class:"js-focus-auto-action-tip"},I={class:"main-box font-code"},z={class:"input-wrapper"},B=(t=>(C("data-v-df81818d"),t=t(),M(),t))((()=>b("div",{class:"input-tip"},"Text Input: text",-1))),D={class:"input-wrapper"},F={class:"input-tip"};const H=m($,[["render",function(t,e,a,s,o,i){const n=r("RectSwitch"),l=_,p=r("VueMonaco"),u=r("ViewPortWindow");return d(),c(u,{visible:t.mVisible,"onUpdate:visible":e[9]||(e[9]=e=>t.mVisible=e),wid:"text_converter","allow-maximum":"",onResize:t.resizeMonaco,"init-win-options":{width:"600px",height:"500px"},"init-center":""},{titleBarLeft:v((()=>[x(h(t.$t("common.text_transformer")),1)])),default:v((()=>[t.mVisible?(d(),y("div",O,[b("div",S,[x(" Convert to: "),f(n,{options:t.TextConvertOptions,modelValue:t.mMode,"onUpdate:modelValue":e[0]||(e[0]=e=>t.mMode=e)},null,8,["options","modelValue"]),f(l,{modelValue:t.isTrimEmptyLines,"onUpdate:modelValue":e[1]||(e[1]=e=>t.isTrimEmptyLines=e)},{default:v((()=>[x(h(t.$t("msgs.trim_empty_lines")),1)])),_:1},8,["modelValue"]),t.mMode===t.TextConvertMode.HTML?(d(),y(g,{key:0},[T(b("input",{class:"vp-input","onUpdate:modelValue":e[2]||(e[2]=e=>t.htmlTagName=e),placeholder:"HTML Tag Name"},null,512),[[w,t.htmlTagName]]),t.htmlTagName?T((d(),y("input",{key:0,"onUpdate:modelValue":e[3]||(e[3]=e=>t.htmlAttrs=e),placeholder:"HTML Attrs",class:"vp-button"},null,512)),[[w,t.htmlAttrs]]):V("",!0)],64)):V("",!0),b("div",N,[b("button",{onClick:e[4]||(e[4]=(...e)=>t.handleAutoPasteCopy&&t.handleAutoPasteCopy(...e)),title:t.$t("msgs.auto_paste_and_copy"),class:"vp-button primary js_focus_auto_action"},[x(h(t.$t("actions.paste"))+"+"+h(t.$t("actions.copy"))+" ",1),t.settingsStore.enableFocusAutoAction?(d(),y("span",E)):V("",!0)],8,U),b("button",{onClick:e[5]||(e[5]=(...e)=>t.handlePaste&&t.handlePaste(...e)),class:"vp-button",title:"Paste"},h(t.$t("actions.paste")),1),b("button",{onClick:e[6]||(e[6]=(...e)=>t.handleCopy&&t.handleCopy(...e)),class:"vp-button",title:"Copy Result"},h(t.$t("actions.copy")),1)])]),b("div",I,[b("div",z,[B,T(b("textarea",{class:"input-text vp-input",type:"textarea","onUpdate:modelValue":e[7]||(e[7]=e=>t.textInput=e),placeholder:"Text Input"},null,512),[[w,t.textInput]])]),b("div",D,[b("div",F,"Text Output: "+h(t.mMode),1),f(p,{modelValue:t.textOutput,"onUpdate:modelValue":e[8]||(e[8]=e=>t.textOutput=e),language:t.mMode,class:"input-text",ref:"monacoEditorRef"},null,8,["modelValue","language"])])])])):V("",!0)])),_:1},8,["visible","onResize"])}],["__scopeId","data-v-df81818d"]]);export{H as default};

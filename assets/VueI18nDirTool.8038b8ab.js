import{d as X,I as k,ai as nn,aj as so,ak as At,J as je,al as on,r as P,Q as ye,am as F,an as Se,ao as Y,P as Me,ap as L,K as N,O,aq as K,M as J,ar as xe,S as fe,as as Ze,a3 as rn,R as E,W as Et,X as Qe,at as co,au as uo,a0 as fo,av as ho,aw as go,ax as zt,ay as an,az as pt,a4 as ln,aA as vo,aB as ct,aC as bo,aD as po,aE as yo,aF as ut,aG as mo,j as _o,aH as Co,aI as Lt,aJ as xo,ad as ko,aa as jt,aK as ft,aL as So,aM as wo,Z as ze,w as pe,aN as ue,aO as Mt,aP as Ro,aQ as $o,aR as To,aS as Ut,aT as No,aU as Po,aV as Ye,t as sn,s as dn,a5 as cn,_ as yt,o as j,c as ne,a as z,b as Xe,x as un,n as se,e as G,aW as fn,a6 as ke,F as Ne,q as he,f as hn,A as gn,C as vn,E as bn,y as bt,i as Do,p as Io,v as Ko,T as Fo,aX as Oo,z as ht}from"./index.710af264.js";import{f as Bo,i as Ao,e as Eo,I as zo,_ as Lo}from"./translate.30dba4db.js";import{_ as pn,u as jo,a as Mo,b as Uo}from"./use-file-drop.6c6ee6ce.js";function yn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const Ho=X({name:"Switcher",render(){return k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},k("path",{d:"M12 8l10 8l-10 8z"}))}}),Vo=e=>{const{borderColor:t,primaryColor:n,baseColor:o,textColorDisabled:l,inputColorDisabled:d,textColor2:s,opacityDisabled:u,borderRadius:c,fontSizeSmall:f,fontSizeMedium:h,fontSizeLarge:S,heightSmall:p,heightMedium:v,heightLarge:y,lineHeight:a}=e;return Object.assign(Object.assign({},so),{labelLineHeight:a,buttonHeightSmall:p,buttonHeightMedium:v,buttonHeightLarge:y,fontSizeSmall:f,fontSizeMedium:h,fontSizeLarge:S,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${At(n,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:o,colorDisabled:d,colorActive:"#0000",textColor:s,textColorDisabled:l,dotColorActive:n,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:n,buttonBorderColorHover:t,buttonColor:o,buttonColorActive:o,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:n,opacityDisabled:u,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${At(n,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:c})},Go={name:"Radio",common:nn,self:Vo},qo=Go,Wo={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},mn=je("n-radio-group");function Yo(e){const t=on(e,{mergedSize(w){const{size:D}=e;if(D!==void 0)return D;if(s){const{mergedSizeRef:{value:$}}=s;if($!==void 0)return $}return w?w.mergedSize.value:"medium"},mergedDisabled(w){return!!(e.disabled||s!=null&&s.disabledRef.value||w!=null&&w.disabled.value)}}),{mergedSizeRef:n,mergedDisabledRef:o}=t,l=P(null),d=P(null),s=ye(mn,null),u=P(e.defaultChecked),c=F(e,"checked"),f=Se(c,u),h=Y(()=>s?s.valueRef.value===e.value:f.value),S=Y(()=>{const{name:w}=e;if(w!==void 0)return w;if(s)return s.nameRef.value}),p=P(!1);function v(){if(s){const{doUpdateValue:w}=s,{value:D}=e;L(w,D)}else{const{onUpdateChecked:w,"onUpdate:checked":D}=e,{nTriggerFormInput:$,nTriggerFormChange:R}=t;w&&L(w,!0),D&&L(D,!0),$(),R(),u.value=!0}}function y(){o.value||h.value||v()}function a(){y()}function m(){p.value=!1}function C(){p.value=!0}return{mergedClsPrefix:s?s.mergedClsPrefixRef:Me(e).mergedClsPrefixRef,inputRef:l,labelRef:d,mergedName:S,mergedDisabled:o,uncontrolledChecked:u,renderSafeChecked:h,focus:p,mergedSize:n,handleRadioInputChange:a,handleRadioInputBlur:m,handleRadioInputFocus:C}}const Jo=N("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[O("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[K("checked",{backgroundColor:"var(--n-button-border-color-active)"}),K("disabled",{opacity:"var(--n-opacity-disabled)"})]),K("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[N("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),O("splitor",{height:"var(--n-height)"})]),N("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[N("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),O("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),J("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[O("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),J("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[O("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),xe("disabled",`
 cursor: pointer;
 `,[J("&:hover",[O("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),xe("checked",{color:"var(--n-button-text-color-hover)"})]),K("focus",[J("&:not(:active)",[O("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),K("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),K("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function Xo(e,t,n){var o;const l=[];let d=!1;for(let s=0;s<e.length;++s){const u=e[s],c=(o=u.type)===null||o===void 0?void 0:o.name;c==="RadioButton"&&(d=!0);const f=u.props;if(c!=="RadioButton"){l.push(u);continue}if(s===0)l.push(u);else{const h=l[l.length-1].props,S=t===h.value,p=h.disabled,v=t===f.value,y=f.disabled,a=(S?2:0)+(p?0:1),m=(v?2:0)+(y?0:1),C={[`${n}-radio-group__splitor--disabled`]:p,[`${n}-radio-group__splitor--checked`]:S},w={[`${n}-radio-group__splitor--disabled`]:y,[`${n}-radio-group__splitor--checked`]:v},D=a<m?w:C;l.push(k("div",{class:[`${n}-radio-group__splitor`,D]}),u)}}return{children:l,isButtonGroup:d}}const Zo=Object.assign(Object.assign({},fe.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Qo=X({name:"RadioGroup",props:Zo,setup(e){const t=P(null),{mergedSizeRef:n,mergedDisabledRef:o,nTriggerFormChange:l,nTriggerFormInput:d,nTriggerFormBlur:s,nTriggerFormFocus:u}=on(e),{mergedClsPrefixRef:c,inlineThemeDisabled:f,mergedRtlRef:h}=Me(e),S=fe("Radio","-radio-group",Jo,qo,e,c),p=P(e.defaultValue),v=F(e,"value"),y=Se(v,p);function a(R){const{onUpdateValue:b,"onUpdate:value":I}=e;b&&L(b,R),I&&L(I,R),p.value=R,l(),d()}function m(R){const{value:b}=t;!b||b.contains(R.relatedTarget)||u()}function C(R){const{value:b}=t;!b||b.contains(R.relatedTarget)||s()}Ze(mn,{mergedClsPrefixRef:c,nameRef:F(e,"name"),valueRef:y,disabledRef:o,mergedSizeRef:n,doUpdateValue:a});const w=rn("Radio",h,c),D=E(()=>{const{value:R}=n,{common:{cubicBezierEaseInOut:b},self:{buttonBorderColor:I,buttonBorderColorActive:oe,buttonBorderRadius:Z,buttonBoxShadow:de,buttonBoxShadowFocus:U,buttonBoxShadowHover:Ke,buttonColorActive:Q,buttonTextColor:ae,buttonTextColorActive:le,buttonTextColorHover:Fe,opacityDisabled:te,[Et("buttonHeight",R)]:_,[Et("fontSize",R)]:B}}=S.value;return{"--n-font-size":B,"--n-bezier":b,"--n-button-border-color":I,"--n-button-border-color-active":oe,"--n-button-border-radius":Z,"--n-button-box-shadow":de,"--n-button-box-shadow-focus":U,"--n-button-box-shadow-hover":Ke,"--n-button-color-active":Q,"--n-button-text-color":ae,"--n-button-text-color-hover":Fe,"--n-button-text-color-active":le,"--n-height":_,"--n-opacity-disabled":te}}),$=f?Qe("radio-group",E(()=>n.value[0]),D,e):void 0;return{selfElRef:t,rtlEnabled:w,mergedClsPrefix:c,mergedValue:y,handleFocusout:C,handleFocusin:m,cssVars:f?void 0:D,themeClass:$==null?void 0:$.themeClass,onRender:$==null?void 0:$.onRender}},render(){var e;const{mergedValue:t,mergedClsPrefix:n,handleFocusin:o,handleFocusout:l}=this,{children:d,isButtonGroup:s}=Xo(co(uo(this)),t,n);return(e=this.onRender)===null||e===void 0||e.call(this),k("div",{onFocusin:o,onFocusout:l,ref:"selfElRef",class:[`${n}-radio-group`,this.rtlEnabled&&`${n}-radio-group--rtl`,this.themeClass,s&&`${n}-radio-group--button-group`],style:this.cssVars},d)}}),er=X({name:"RadioButton",props:Wo,setup:Yo,render(){const{mergedClsPrefix:e}=this;return k("label",{class:[`${e}-radio-button`,this.mergedDisabled&&`${e}-radio-button--disabled`,this.renderSafeChecked&&`${e}-radio-button--checked`,this.focus&&[`${e}-radio-button--focus`]]},k("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),k("div",{class:`${e}-radio-button__state-border`}),fo(this.$slots.default,t=>!t&&!this.label?null:k("div",{ref:"labelRef",class:`${e}-radio__label`},t||this.label)))}}),tr=e=>{const{baseColor:t,textColor2:n,bodyColor:o,cardColor:l,dividerColor:d,actionColor:s,scrollbarColor:u,scrollbarColorHover:c,invertedColor:f}=e;return{textColor:n,textColorInverted:"#FFF",color:o,colorEmbedded:s,headerColor:l,headerColorInverted:f,footerColor:s,footerColorInverted:f,headerBorderColor:d,headerBorderColorInverted:f,footerBorderColor:d,footerBorderColorInverted:f,siderBorderColor:d,siderBorderColorInverted:f,siderColor:l,siderColorInverted:f,siderToggleButtonBorder:`1px solid ${d}`,siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:zt(o,u),siderToggleBarColorHover:zt(o,c),__invertScrollbar:"true"}},nr=ho({name:"Layout",common:nn,peers:{Scrollbar:go},self:tr}),_n=nr,or=je("n-layout-sider"),Cn={type:String,default:"static"},rr=N("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[N("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),K("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),ar={embedded:Boolean,position:Cn,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},xn=je("n-layout");function kn(e){return X({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},fe.props),ar),setup(t){const n=P(null),o=P(null),{mergedClsPrefixRef:l,inlineThemeDisabled:d}=Me(t),s=fe("Layout","-layout",rr,_n,t,l);function u(a,m){if(t.nativeScrollbar){const{value:C}=n;C&&(m===void 0?C.scrollTo(a):C.scrollTo(a,m))}else{const{value:C}=o;C&&C.scrollTo(a,m)}}Ze(xn,t);let c=0,f=0;const h=a=>{var m;const C=a.target;c=C.scrollLeft,f=C.scrollTop,(m=t.onScroll)===null||m===void 0||m.call(t,a)};an(()=>{if(t.nativeScrollbar){const a=n.value;a&&(a.scrollTop=f,a.scrollLeft=c)}});const S={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},p={scrollTo:u},v=E(()=>{const{common:{cubicBezierEaseInOut:a},self:m}=s.value;return{"--n-bezier":a,"--n-color":t.embedded?m.colorEmbedded:m.color,"--n-text-color":m.textColor}}),y=d?Qe("layout",E(()=>t.embedded?"e":""),v,t):void 0;return Object.assign({mergedClsPrefix:l,scrollableElRef:n,scrollbarInstRef:o,hasSiderStyle:S,mergedTheme:s,handleNativeElScroll:h,cssVars:d?void 0:v,themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender},p)},render(){var t;const{mergedClsPrefix:n,hasSider:o}=this;(t=this.onRender)===null||t===void 0||t.call(this);const l=o?this.hasSiderStyle:void 0,d=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return k("div",{class:d,style:this.cssVars},this.nativeScrollbar?k("div",{ref:"scrollableElRef",class:`${n}-layout-scroll-container`,style:[this.contentStyle,l],onScroll:this.handleNativeElScroll},this.$slots):k(pt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,l]}),this.$slots))}})}const lr=kn(!1),ir=kn(!0),sr=N("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[K("bordered",[O("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),O("left-placement",[K("bordered",[O("border",`
 right: 0;
 `)])]),K("right-placement",`
 justify-content: flex-start;
 `,[K("bordered",[O("border",`
 left: 0;
 `)]),K("collapsed",[N("layout-toggle-button",[N("base-icon",`
 transform: rotate(180deg);
 `)]),N("layout-toggle-bar",[J("&:hover",[O("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),N("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[N("base-icon",`
 transform: rotate(0);
 `)]),N("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[J("&:hover",[O("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),K("collapsed",[N("layout-toggle-bar",[J("&:hover",[O("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),N("layout-toggle-button",[N("base-icon",`
 transform: rotate(0);
 `)])]),N("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[N("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),N("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[O("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),O("bottom",`
 position: absolute;
 top: 34px;
 `),J("&:hover",[O("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),O("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),O("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),J("&:hover",[O("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),O("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),N("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),K("show-content",[N("layout-sider-scroll-container",{opacity:1})]),K("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),dr=X({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return k("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},k(ln,{clsPrefix:e},{default:()=>k(vo,null)}))}}),cr=X({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return k("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},k("div",{class:`${e}-layout-toggle-bar__top`}),k("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),ur={position:Cn,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},fr=X({name:"LayoutSider",props:Object.assign(Object.assign({},fe.props),ur),setup(e){const t=ye(xn),n=P(null),o=P(null),l=E(()=>ct(c.value?e.collapsedWidth:e.width)),d=E(()=>e.collapseMode!=="transform"?{}:{minWidth:ct(e.width)}),s=E(()=>t?t.siderPlacement:"left"),u=P(e.defaultCollapsed),c=Se(F(e,"collapsed"),u);function f(R,b){if(e.nativeScrollbar){const{value:I}=n;I&&(b===void 0?I.scrollTo(R):I.scrollTo(R,b))}else{const{value:I}=o;I&&I.scrollTo(R,b)}}function h(){const{"onUpdate:collapsed":R,onUpdateCollapsed:b,onExpand:I,onCollapse:oe}=e,{value:Z}=c;b&&L(b,!Z),R&&L(R,!Z),u.value=!Z,Z?I&&L(I):oe&&L(oe)}let S=0,p=0;const v=R=>{var b;const I=R.target;S=I.scrollLeft,p=I.scrollTop,(b=e.onScroll)===null||b===void 0||b.call(e,R)};an(()=>{if(e.nativeScrollbar){const R=n.value;R&&(R.scrollTop=p,R.scrollLeft=S)}}),Ze(or,{collapsedRef:c,collapseModeRef:F(e,"collapseMode")});const{mergedClsPrefixRef:y,inlineThemeDisabled:a}=Me(e),m=fe("Layout","-layout-sider",sr,_n,e,y);function C(R){var b,I;R.propertyName==="max-width"&&(c.value?(b=e.onAfterLeave)===null||b===void 0||b.call(e):(I=e.onAfterEnter)===null||I===void 0||I.call(e))}const w={scrollTo:f},D=E(()=>{const{common:{cubicBezierEaseInOut:R},self:b}=m.value,{siderToggleButtonColor:I,siderToggleButtonBorder:oe,siderToggleBarColor:Z,siderToggleBarColorHover:de}=b,U={"--n-bezier":R,"--n-toggle-button-color":I,"--n-toggle-button-border":oe,"--n-toggle-bar-color":Z,"--n-toggle-bar-color-hover":de};return e.inverted?(U["--n-color"]=b.siderColorInverted,U["--n-text-color"]=b.textColorInverted,U["--n-border-color"]=b.siderBorderColorInverted,U["--n-toggle-button-icon-color"]=b.siderToggleButtonIconColorInverted,U.__invertScrollbar=b.__invertScrollbar):(U["--n-color"]=b.siderColor,U["--n-text-color"]=b.textColor,U["--n-border-color"]=b.siderBorderColor,U["--n-toggle-button-icon-color"]=b.siderToggleButtonIconColor),U}),$=a?Qe("layout-sider",E(()=>e.inverted?"a":"b"),D,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:o,mergedClsPrefix:y,mergedTheme:m,styleMaxWidth:l,mergedCollapsed:c,scrollContainerStyle:d,siderPlacement:s,handleNativeElScroll:v,handleTransitionend:C,handleTriggerClick:h,inlineThemeDisabled:a,cssVars:D,themeClass:$==null?void 0:$.themeClass,onRender:$==null?void 0:$.onRender},w)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:o}=this;return(e=this.onRender)===null||e===void 0||e.call(this),k("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:ct(this.width)}]},this.nativeScrollbar?k("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):k(pt,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),o?o==="bar"?k(cr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):k(dr,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?k("div",{class:`${t}-layout-sider__border`}):null)}}),hr=Object.assign(Object.assign({},fe.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),gr=X({name:"Scrollbar",props:hr,setup(){const e=P(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var o;(o=e.value)===null||o===void 0||o.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var o;(o=e.value)===null||o===void 0||o.scrollBy(n[0],n[1])}}),{scrollbarInstRef:e})},render(){return k(pt,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),vr=gr,Sn=je("n-tree-select"),Ue=je("n-tree"),br=X({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=ye(Ue,null);return()=>{const{clsPrefix:n}=e;return k("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,{[`${n}-tree-node-switcher--expanded`]:e.expanded,[`${n}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},k("div",{class:`${n}-tree-node-switcher__icon`},k(bo,null,{default:()=>{if(e.loading)return k(po,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:o}=t;return o?o():k(ln,{clsPrefix:n,key:"switcher"},{default:()=>k(Ho,null)})}})))}}}),pr=X({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=ye(Ue);function n(l){const{onCheck:d}=e;if(d)return d(l)}function o(l){e.indeterminate?n(!1):n(l)}return{handleUpdateValue:o,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:o,disabled:l,focusable:d,handleUpdateValue:s}=this;return k("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},k(yo,{focusable:d,disabled:l,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:o,onUpdateChecked:s}))}}),yr=X({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:o,labelFieldRef:l}=ye(Ue),d=P(null);function s(c){const{onClick:f}=e;f&&f(c)}function u(c){s(c)}return{selfRef:d,renderLabel:t,renderPrefix:n,renderSuffix:o,labelField:l,handleClick:u}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:o=!1,selected:l=!1,renderLabel:d,renderPrefix:s,renderSuffix:u,handleClick:c,onDragstart:f,tmNode:{rawNode:h,rawNode:{prefix:S,suffix:p,[t]:v}}}=this;return k("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:c,draggable:f===void 0?void 0:!0,onDragstart:f}),s||S?k("div",{class:`${e}-tree-node-content__prefix`},s?s({option:h,selected:l,checked:o}):ut(S)):null,k("div",{class:`${e}-tree-node-content__text`},d?d({option:h,selected:l,checked:o}):ut(v)),u||p?k("div",{class:`${e}-tree-node-content__suffix`},u?u({option:h,selected:l,checked:o}):ut(p)):null)}});function Ht({position:e,offsetLevel:t,indent:n,el:o}){const l={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")l.left=0,l.top=0,l.bottom=0,l.borderRadius="inherit",l.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const d=e==="before"?"top":"bottom";l[d]=0,l.left=`${o.offsetLeft+6-t*n}px`,l.height="2px",l.backgroundColor="var(--n-drop-mark-color)",l.transformOrigin=d,l.borderRadius="1px",l.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return k("div",{style:l})}function mr({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}function be(e,t){return!!e.rawNode[t]}function wn(e,t,n,o){e==null||e.forEach(l=>{n(l),wn(l[t],t,n,o),o(l)})}function _r(e,t,n,o,l){const d=new Set,s=new Set,u=[];return wn(e,o,c=>{if(u.push(c),l(t,c)){s.add(c[n]);for(let f=u.length-2;f>=0;--f)if(!d.has(u[f][n]))d.add(u[f][n]);else return}},()=>{u.pop()}),{expandedKeys:Array.from(d),highlightKeySet:s}}if(mo&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Cr(e,t,n,o,l){const d=new Set,s=new Set,u=new Set,c=[],f=[],h=[];function S(v){v.forEach(y=>{if(h.push(y),t(n,y)){d.add(y[o]),u.add(y[o]);for(let m=h.length-2;m>=0;--m){const C=h[m][o];if(!s.has(C))s.add(C),d.has(C)&&d.delete(C);else break}}const a=y[l];a&&S(a),h.pop()})}S(e);function p(v,y){v.forEach(a=>{const m=a[o],C=d.has(m),w=s.has(m);if(!C&&!w)return;const D=a[l];if(D)if(C)y.push(a);else{c.push(m);const $=Object.assign(Object.assign({},a),{[l]:[]});y.push($),p(D,$[l])}else y.push(a)})}return p(e,f),{filteredTree:f,highlightKeySet:u,expandedKeys:c}}const xr=X({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=ye(Ue),{droppingNodeParentRef:n,droppingMouseNodeRef:o,draggingNodeRef:l,droppingPositionRef:d,droppingOffsetLevelRef:s,nodePropsRef:u,indentRef:c,blockLineRef:f,checkboxPlacementRef:h,checkOnClickRef:S,disabledFieldRef:p}=t,v=Y(()=>!!e.tmNode.rawNode.checkboxDisabled),y=Y(()=>be(e.tmNode,p.value)),a=Y(()=>t.disabledRef.value||y.value),m=E(()=>{const{value:_}=u;if(!!_)return _({option:e.tmNode.rawNode})}),C=P(null),w={value:null};_o(()=>{w.value=C.value.$el});function D(){const{tmNode:_}=e;if(!_.isLeaf&&!_.shallowLoaded){if(!t.loadingKeysRef.value.has(_.key))t.loadingKeysRef.value.add(_.key);else return;const{onLoadRef:{value:B}}=t;B&&B(_.rawNode).then(()=>{t.handleSwitcherClick(_)}).finally(()=>{t.loadingKeysRef.value.delete(_.key)})}else t.handleSwitcherClick(_)}const $=Y(()=>!y.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),R=Y(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),b=Y(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),I=Y(()=>{const{value:_}=R;if(!_)return!1;const{value:B}=S;return typeof B=="boolean"?B:B(e.tmNode.rawNode)});function oe(_){const{value:B}=t.expandOnClickRef,{value:H}=$,{value:we}=I;if(!H&&!B&&!we||Lt(_,"checkbox")||Lt(_,"switcher"))return;const{tmNode:me}=e;H&&t.handleSelect(me),B&&!me.isLeaf&&D(),we&&U(!b.value)}function Z(_){var B,H;f.value||(a.value||oe(_),(H=(B=m.value)===null||B===void 0?void 0:B.onClick)===null||H===void 0||H.call(B,_))}function de(_){var B,H;!f.value||(a.value||oe(_),(H=(B=m.value)===null||B===void 0?void 0:B.onClick)===null||H===void 0||H.call(B,_))}function U(_){t.handleCheck(e.tmNode,_)}function Ke(_){t.handleDragStart({event:_,node:e.tmNode})}function Q(_){_.currentTarget===_.target&&t.handleDragEnter({event:_,node:e.tmNode})}function ae(_){_.preventDefault(),t.handleDragOver({event:_,node:e.tmNode})}function le(_){t.handleDragEnd({event:_,node:e.tmNode})}function Fe(_){_.currentTarget===_.target&&t.handleDragLeave({event:_,node:e.tmNode})}function te(_){_.preventDefault(),d.value!==null&&t.handleDrop({event:_,node:e.tmNode,dropPosition:d.value})}return{showDropMark:Y(()=>{const{value:_}=l;if(!_)return;const{value:B}=d;if(!B)return;const{value:H}=o;if(!H)return;const{tmNode:we}=e;return we.key===H.key}),showDropMarkAsParent:Y(()=>{const{value:_}=n;if(!_)return!1;const{tmNode:B}=e,{value:H}=d;return H==="before"||H==="after"?_.key===B.key:!1}),pending:Y(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:Y(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:Y(()=>{var _;return(_=t.highlightKeySetRef.value)===null||_===void 0?void 0:_.has(e.tmNode.key)}),checked:b,indeterminate:Y(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:Y(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:Y(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:a,checkable:R,mergedCheckOnClick:I,checkboxDisabled:v,selectable:$,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:f,nodeProps:m,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:d,droppingOffsetLevel:s,indent:c,checkboxPlacement:h,contentInstRef:C,contentElRef:w,handleCheck:U,handleDrop:te,handleDragStart:Ke,handleDragEnter:Q,handleDragOver:ae,handleDragEnd:le,handleDragLeave:Fe,handleLineClick:de,handleContentClick:Z,handleSwitcherClick:D}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:o,selectable:l,selected:d,checked:s,highlight:u,draggable:c,blockLine:f,indent:h,disabled:S,pending:p,internalScrollable:v,nodeProps:y,checkboxPlacement:a}=this,m=c&&!S?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,C=v?yn(e.key):void 0,w=a==="right",D=n?k(pr,{right:w,focusable:this.checkboxFocusable,disabled:S||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return k("div",Object.assign({class:`${t}-tree-node-wrapper`},m),k("div",Object.assign({},f?y:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:d,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:u,[`${t}-tree-node--pending`]:p,[`${t}-tree-node--disabled`]:S,[`${t}-tree-node--selectable`]:l,[`${t}-tree-node--clickable`]:l||o||this.mergedCheckOnClick},y==null?void 0:y.class],"data-key":C,draggable:c&&f,onClick:this.handleLineClick,onDragstart:c&&f&&!S?this.handleDragStart:void 0}),Co(e.level,k("div",{class:`${t}-tree-node-indent`},k("div",{style:{width:`${h}px`}}))),k(br,{clsPrefix:t,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),w?null:D,k(yr,{ref:"contentInstRef",clsPrefix:t,checked:s,selected:d,onClick:this.handleContentClick,nodeProps:f?void 0:y,onDragstart:c&&!f&&!S?this.handleDragStart:void 0,tmNode:e}),c?this.showDropMark?Ht({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:h}):this.showDropMarkAsParent?Ht({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:h}):null:null,w?D:null))}}),Rn=xr;function kr({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:o,handleSelect:l,handleSwitcherClick:d}){const{value:s}=o,u=ye(Sn,null),c=u?u.pendingNodeKeyRef:P(s.length?s[s.length-1]:null);function f(h){if(!e.keyboard)return;const{value:S}=c;if(S===null){if((h.key==="ArrowDown"||h.key==="ArrowUp")&&h.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(h.key)&&S===null){const{value:p}=t;let v=0;for(;v<p.length;){if(!p[v].disabled){c.value=p[v].key;break}v+=1}}}else{const{value:p}=t;let v=p.findIndex(y=>y.key===S);if(!~v)return;if(h.key==="Enter")l(p[v]);else if(h.key==="ArrowDown")for(h.preventDefault(),v+=1;v<p.length;){if(!p[v].disabled){c.value=p[v].key;break}v+=1}else if(h.key==="ArrowUp")for(h.preventDefault(),v-=1;v>=0;){if(!p[v].disabled){c.value=p[v].key;break}v-=1}else if(h.key==="ArrowLeft"){const y=p[v];if(y.isLeaf||!n.value.includes(S)){const a=y.getParent();a&&(c.value=a.key)}else d(y)}else if(h.key==="ArrowRight"){const y=p[v];if(y.isLeaf)return;if(!n.value.includes(S))d(y);else for(v+=1;v<p.length;){if(!p[v].disabled){c.value=p[v].key;break}v+=1}}}}return{pendingNodeKeyRef:c,handleKeydown:f}}const Sr=X({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return k(ko,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>k("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:xo(this.height)}},this.nodes.map(t=>k(Rn,{clsPrefix:e,tmNode:t})))})}}),wr=N("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[J("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),J(">",[N("tree-node",[J("&:first-child",{marginTop:0})])]),N("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),N("tree-motion-wrapper",[K("expand",[jt({duration:"0.2s"})]),K("collapse",[jt({duration:"0.2s",reverse:!0})])]),N("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),N("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[K("highlight",[N("tree-node-content",[O("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),K("disabled",[N("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),xe("disabled",[K("clickable",[N("tree-node-content",`
 cursor: pointer;
 `)])])]),K("block-node",[N("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),xe("block-line",[N("tree-node",[xe("disabled",[N("tree-node-content",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),K("selectable",[N("tree-node-content",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),K("pending",[N("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),K("selected",[N("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),K("block-line",[N("tree-node",[xe("disabled",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),K("pending",`
 background-color: var(--n-node-color-hover);
 `),K("selectable",[xe("selected",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),K("selected",{backgroundColor:"var(--n-node-color-active)"})]),K("disabled",`
 cursor: not-allowed;
 `)])]),N("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[O("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[N("icon",[ft()]),N("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[ft()]),N("base-icon",[ft()])]),K("hide",{visibility:"hidden"}),K("expanded",{transform:"rotate(90deg)"})]),N("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[K("right","margin-left: 4px;")]),K("checkable",[N("tree-node-content",`
 padding: 0 6px;
 `)]),N("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[J("&:last-child",{marginBottom:0}),O("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),O("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),O("suffix",`
 display: inline-flex;
 `)]),O("empty","margin: auto;")]);var Rr=globalThis&&globalThis.__awaiter||function(e,t,n,o){function l(d){return d instanceof n?d:new n(function(s){s(d)})}return new(n||(n=Promise))(function(d,s){function u(h){try{f(o.next(h))}catch(S){s(S)}}function c(h){try{f(o.throw(h))}catch(S){s(S)}}function f(h){h.done?d(h.value):l(h.value).then(u,c)}f((o=o.apply(e,t||[])).next())})};const Je=30;function $r(e,t,n){return{getIsGroup(){return!1},getKey(o){return o[e]},getChildren(o){return o[t]},getDisabled(o){return!!(o[n]||o.checkboxDisabled)}}}const Tr={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Nr=Object.assign(Object.assign(Object.assign(Object.assign({},fe.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:mr},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Tr),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Pr=X({name:"Tree",props:Nr,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:o}=Me(e),l=rn("Tree",o,t),d=fe("Tree","-tree",wr,So,e,t),s=P(null),u=P(null),c=P(null);function f(){var r;return(r=c.value)===null||r===void 0?void 0:r.listElRef}function h(){var r;return(r=c.value)===null||r===void 0?void 0:r.itemsElRef}const S=E(()=>{const{pattern:r}=e;return r?!r.length||!ot.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Cr(e.data,ot.value,r,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),p=E(()=>wo(e.showIrrelevantNodes?e.data:S.value.filteredTree,$r(e.keyField,e.childrenField,e.disabledField))),v=ye(Sn,null),y=e.internalTreeSelect?v.dataTreeMate:p,{watchProps:a}=e,m=P([]);a!=null&&a.includes("defaultCheckedKeys")?ze(()=>{m.value=e.defaultCheckedKeys}):m.value=e.defaultCheckedKeys;const C=F(e,"checkedKeys"),w=Se(C,m),D=E(()=>y.value.getCheckedKeys(w.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),$=E(()=>e.leafOnly?"child":e.checkStrategy),R=E(()=>D.value.checkedKeys),b=E(()=>{const{indeterminateKeys:r}=e;return r!==void 0?r:D.value.indeterminateKeys}),I=P([]);a!=null&&a.includes("defaultSelectedKeys")?ze(()=>{I.value=e.defaultSelectedKeys}):I.value=e.defaultSelectedKeys;const oe=F(e,"selectedKeys"),Z=Se(oe,I),de=P([]),U=r=>{de.value=e.defaultExpandAll?y.value.getNonLeafKeys():r===void 0?e.defaultExpandedKeys:r};a!=null&&a.includes("defaultExpandedKeys")?ze(()=>U(void 0)):ze(()=>U(e.defaultExpandedKeys));const Ke=F(e,"expandedKeys"),Q=Se(Ke,de),ae=E(()=>p.value.getFlattenedNodes(Q.value)),{pendingNodeKeyRef:le,handleKeydown:Fe}=kr({props:e,mergedSelectedKeysRef:Z,fNodesRef:ae,mergedExpandedKeysRef:Q,handleSelect:it,handleSwitcherClick:Pt});let te=null,_=null;const B=P(new Set),H=E(()=>e.internalHighlightKeySet||S.value.highlightKeySet),we=Se(H,B),me=P(new Set),Bn=E(()=>Q.value.filter(r=>!me.value.has(r)));let Rt=0;const Oe=P(null),He=P(null),Ve=P(null),Ge=P(null),qe=P(0),An=E(()=>{const{value:r}=He;return r?r.parent:null}),ot=E(()=>{const{filter:r}=e;if(r)return r;const{labelField:i}=e;return(g,x)=>{if(!g.length)return!0;const T=x[i];return typeof T=="string"?T.toLowerCase().includes(g.toLowerCase()):!1}});pe(F(e,"data"),()=>{me.value.clear(),le.value=null,Ae()},{deep:!1});let rt=!1;const at=()=>{rt=!0,ue(()=>{rt=!1})};let Be;pe(F(e,"pattern"),(r,i)=>{if(e.showIrrelevantNodes)if(Be=void 0,r){const{expandedKeys:g,highlightKeySet:x}=_r(e.data,e.pattern,e.keyField,e.childrenField,ot.value);B.value=x,at(),$e(g,re(g))}else B.value=new Set;else if(!r.length)Be!==void 0&&(at(),$e(Be,re(Be)));else{i.length||(Be=Q.value);const{expandedKeys:g}=S.value;g!==void 0&&(at(),$e(g,re(g)))}});function $t(r){return Rr(this,void 0,void 0,function*(){const{onLoad:i}=e;if(!i)return yield Promise.resolve();const{value:g}=me;return yield new Promise(x=>{g.has(r.key)||(g.add(r.key),i(r.rawNode).then(()=>{g.delete(r.key),x()}).catch(T=>{console.error(T),Ee()}))})})}ze(()=>{var r;const{value:i}=p;if(!i)return;const{getNode:g}=i;(r=Q.value)===null||r===void 0||r.forEach(x=>{const T=g(x);T&&!T.shallowLoaded&&$t(T)})});const Re=P(!1),ge=P([]);pe(Bn,(r,i)=>{if(!e.animated||rt){ue(We);return}const g=new Set(i);let x=null,T=null;for(const M of r)if(!g.has(M)){if(x!==null)return;x=M}const q=new Set(r);for(const M of i)if(!q.has(M)){if(T!==null)return;T=M}if(x===null&&T===null)return;const{virtualScroll:V}=e,ce=(V?c.value.listElRef:s.value).offsetHeight,Ce=Math.ceil(ce/Je)+1;let ie;if(x!==null&&(ie=i),T!==null&&(ie===void 0?ie=r:ie=ie.filter(M=>M!==T)),Re.value=!0,ge.value=p.value.getFlattenedNodes(ie),x!==null){const M=ge.value.findIndex(W=>W.key===x);if(~M){const W=ge.value[M].children;if(W){const ve=Mt(W,r);ge.value.splice(M+1,0,{__motion:!0,mode:"expand",height:V?ve.length*Je:void 0,nodes:V?ve.slice(0,Ce):ve})}}}if(T!==null){const M=ge.value.findIndex(W=>W.key===T);if(~M){const W=ge.value[M].children;if(!W)return;Re.value=!0;const ve=Mt(W,r);ge.value.splice(M+1,0,{__motion:!0,mode:"collapse",height:V?ve.length*Je:void 0,nodes:V?ve.slice(0,Ce):ve})}}});const En=E(()=>Ro(ae.value)),zn=E(()=>Re.value?ge.value:ae.value);function We(){const{value:r}=u;r&&r.sync()}function Ln(){Re.value=!1,e.virtualScroll&&ue(We)}function re(r){const{getNode:i}=y.value;return r.map(g=>{var x;return((x=i(g))===null||x===void 0?void 0:x.rawNode)||null})}function $e(r,i){const{"onUpdate:expandedKeys":g,onUpdateExpandedKeys:x}=e;de.value=r,g&&L(g,r,i),x&&L(x,r,i)}function Tt(r,i){const{"onUpdate:checkedKeys":g,onUpdateCheckedKeys:x}=e;m.value=r,x&&L(x,r,i),g&&L(g,r,i)}function jn(r,i){const{"onUpdate:indeterminateKeys":g,onUpdateIndeterminateKeys:x}=e;g&&L(g,r,i),x&&L(x,r,i)}function lt(r,i){const{"onUpdate:selectedKeys":g,onUpdateSelectedKeys:x}=e;I.value=r,x&&L(x,r,i),g&&L(g,r,i)}function Mn(r){const{onDragenter:i}=e;i&&L(i,r)}function Un(r){const{onDragleave:i}=e;i&&L(i,r)}function Hn(r){const{onDragend:i}=e;i&&L(i,r)}function Vn(r){const{onDragstart:i}=e;i&&L(i,r)}function Gn(r){const{onDragover:i}=e;i&&L(i,r)}function qn(r){const{onDrop:i}=e;i&&L(i,r)}function Ae(){Wn(),_e()}function Wn(){Oe.value=null}function _e(){qe.value=0,He.value=null,Ve.value=null,Ge.value=null,Ee()}function Ee(){te&&(window.clearTimeout(te),te=null),_=null}function Nt(r,i){if(e.disabled||be(r,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){it(r);return}const{checkedKeys:g,indeterminateKeys:x}=y.value[i?"check":"uncheck"](r.key,R.value,{cascade:e.cascade,checkStrategy:$.value,allowNotLoaded:e.allowCheckingNotLoaded});Tt(g,re(g)),jn(x,re(x))}function Yn(r){if(e.disabled)return;const{key:i}=r,{value:g}=Q,x=g.findIndex(T=>T===i);if(~x){const T=Array.from(g);T.splice(x,1),$e(T,re(T))}else{const T=p.value.getNode(i);if(!T||T.isLeaf)return;let q;if(e.accordion){const V=new Set(r.siblings.map(({key:ce})=>ce));q=g.filter(ce=>!V.has(ce)),q.push(i)}else q=g.concat(i);$e(q,re(q))}}function Pt(r){e.disabled||Re.value||Yn(r)}function it(r){if(!(e.disabled||!e.selectable)){if(le.value=r.key,e.internalUnifySelectCheck){const{value:{checkedKeys:i,indeterminateKeys:g}}=D;e.multiple?Nt(r,!(i.includes(r.key)||g.includes(r.key))):Tt([r.key],re([r.key]))}if(e.multiple){const i=Array.from(Z.value),g=i.findIndex(x=>x===r.key);~g?e.cancelable&&i.splice(g,1):~g||i.push(r.key),lt(i,re(i))}else Z.value.includes(r.key)?e.cancelable&&lt([],[]):lt([r.key],re([r.key]))}}function Jn(r){if(te&&(window.clearTimeout(te),te=null),r.isLeaf)return;_=r.key;const i=()=>{if(_!==r.key)return;const{value:g}=Ve;if(g&&g.key===r.key&&!Q.value.includes(r.key)){const x=Q.value.concat(r.key);$e(x,re(x))}te=null,_=null};r.shallowLoaded?te=window.setTimeout(()=>{i()},1e3):te=window.setTimeout(()=>{$t(r).then(()=>{i()})},1e3)}function Xn({event:r,node:i}){!e.draggable||e.disabled||be(i,e.disabledField)||(Dt({event:r,node:i},!1),Mn({event:r,node:i.rawNode}))}function Zn({event:r,node:i}){!e.draggable||e.disabled||be(i,e.disabledField)||Un({event:r,node:i.rawNode})}function Qn(r){r.target===r.currentTarget&&_e()}function eo({event:r,node:i}){Ae(),!(!e.draggable||e.disabled||be(i,e.disabledField))&&Hn({event:r,node:i.rawNode})}function to({event:r,node:i}){!e.draggable||e.disabled||be(i,e.disabledField)||(Rt=r.clientX,Oe.value=i,Vn({event:r,node:i.rawNode}))}function Dt({event:r,node:i},g=!0){var x;if(!e.draggable||e.disabled||be(i,e.disabledField))return;const{value:T}=Oe;if(!T)return;const{allowDrop:q,indent:V}=e;g&&Gn({event:r,node:i.rawNode});const ce=r.currentTarget,{height:Ce,top:ie}=ce.getBoundingClientRect(),M=r.clientY-ie;let W;q({node:i.rawNode,dropPosition:"inside",phase:"drag"})?M<=8?W="before":M>=Ce-8?W="after":W="inside":M<=Ce/2?W="before":W="after";const{value:io}=En;let A,ee;const st=io(i.key);if(st===null){_e();return}let Ft=!1;W==="inside"?(A=i,ee="inside"):W==="before"?i.isFirstChild?(A=i,ee="before"):(A=ae.value[st-1],ee="after"):(A=i,ee="after"),!A.isLeaf&&Q.value.includes(A.key)&&(Ft=!0,ee==="after"&&(A=ae.value[st+1],A?ee="before":(A=i,ee="inside")));const Ot=A;if(Ve.value=Ot,!Ft&&T.isLastChild&&T.key===A.key&&(ee="after"),ee==="after"){let Bt=Rt-r.clientX,dt=0;for(;Bt>=V/2&&A.parent!==null&&A.isLastChild&&dt<1;)Bt-=V,dt+=1,A=A.parent;qe.value=dt}else qe.value=0;if((T.contains(A)||ee==="inside"&&((x=T.parent)===null||x===void 0?void 0:x.key)===A.key)&&!(T.key===Ot.key&&T.key===A.key)){_e();return}if(!q({node:A.rawNode,dropPosition:ee,phase:"drag"})){_e();return}if(T.key===A.key)Ee();else if(_!==A.key)if(ee==="inside"){if(e.expandOnDragenter){if(Jn(A),!A.shallowLoaded&&_!==A.key){Ae();return}}else if(!A.shallowLoaded){Ae();return}}else Ee();else ee!=="inside"&&Ee();Ge.value=ee,He.value=A}function no({event:r,node:i,dropPosition:g}){if(!e.draggable||e.disabled||be(i,e.disabledField))return;const{value:x}=Oe,{value:T}=He,{value:q}=Ge;if(!(!x||!T||!q)&&!!e.allowDrop({node:T.rawNode,dropPosition:q,phase:"drag"})&&x.key!==T.key){if(q==="before"){const V=x.getNext({includeDisabled:!0});if(V&&V.key===T.key){_e();return}}if(q==="after"){const V=x.getPrev({includeDisabled:!0});if(V&&V.key===T.key){_e();return}}qn({event:r,node:T.rawNode,dragNode:x.rawNode,dropPosition:g}),Ae()}}function oo(){We()}function ro(){We()}function ao(r){var i;if(e.virtualScroll||e.internalScrollable){const{value:g}=u;if(!((i=g==null?void 0:g.containerRef)===null||i===void 0)&&i.contains(r.relatedTarget))return;le.value=null}else{const{value:g}=s;if(g!=null&&g.contains(r.relatedTarget))return;le.value=null}}pe(le,r=>{var i,g;if(r!==null){if(e.virtualScroll)(i=c.value)===null||i===void 0||i.scrollTo({key:r});else if(e.internalScrollable){const{value:x}=u;if(x===null)return;const T=(g=x.contentRef)===null||g===void 0?void 0:g.querySelector(`[data-key="${yn(r)}"]`);if(!T)return;x.scrollTo({el:T})}}}),Ze(Ue,{loadingKeysRef:me,highlightKeySetRef:we,displayedCheckedKeysRef:R,displayedIndeterminateKeysRef:b,mergedSelectedKeysRef:Z,mergedExpandedKeysRef:Q,mergedThemeRef:d,mergedCheckStrategyRef:$,nodePropsRef:F(e,"nodeProps"),disabledRef:F(e,"disabled"),checkableRef:F(e,"checkable"),selectableRef:F(e,"selectable"),expandOnClickRef:F(e,"expandOnClick"),onLoadRef:F(e,"onLoad"),draggableRef:F(e,"draggable"),blockLineRef:F(e,"blockLine"),indentRef:F(e,"indent"),cascadeRef:F(e,"cascade"),checkOnClickRef:F(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Ve,droppingNodeParentRef:An,draggingNodeRef:Oe,droppingPositionRef:Ge,droppingOffsetLevelRef:qe,fNodesRef:ae,pendingNodeKeyRef:le,disabledFieldRef:F(e,"disabledField"),internalScrollableRef:F(e,"internalScrollable"),internalCheckboxFocusableRef:F(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:F(e,"renderLabel"),renderPrefixRef:F(e,"renderPrefix"),renderSuffixRef:F(e,"renderSuffix"),renderSwitcherIconRef:F(e,"renderSwitcherIcon"),labelFieldRef:F(e,"labelField"),multipleRef:F(e,"multiple"),handleSwitcherClick:Pt,handleDragEnd:eo,handleDragEnter:Xn,handleDragLeave:Zn,handleDragStart:to,handleDrop:no,handleDragOver:Dt,handleSelect:it,handleCheck:Nt});function lo(r){var i;(i=c.value)===null||i===void 0||i.scrollTo(r)}const It={handleKeydown:Fe,scrollTo:lo},Kt=E(()=>{const{common:{cubicBezierEaseInOut:r},self:{fontSize:i,nodeBorderRadius:g,nodeColorHover:x,nodeColorPressed:T,nodeColorActive:q,arrowColor:V,loadingColor:ce,nodeTextColor:Ce,nodeTextColorDisabled:ie,dropMarkColor:M}}=d.value;return{"--n-arrow-color":V,"--n-loading-color":ce,"--n-bezier":r,"--n-font-size":i,"--n-node-border-radius":g,"--n-node-color-active":q,"--n-node-color-hover":x,"--n-node-color-pressed":T,"--n-node-text-color":Ce,"--n-node-text-color-disabled":ie,"--n-drop-mark-color":M}}),Te=n?Qe("tree",void 0,Kt,e):void 0;return{mergedClsPrefix:t,mergedTheme:d,rtlEnabled:l,fNodes:zn,aip:Re,selfElRef:s,virtualListInstRef:c,scrollbarInstRef:u,handleFocusout:ao,handleDragLeaveTree:Qn,handleScroll:oo,getScrollContainer:f,getScrollContent:h,handleAfterEnter:Ln,handleResize:ro,handleKeydown:It.handleKeydown,scrollTo:It.scrollTo,cssVars:n?void 0:Kt,themeClass:Te==null?void 0:Te.themeClass,onRender:Te==null?void 0:Te.onRender}},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:o,blockNode:l,blockLine:d,draggable:s,disabled:u,internalFocusable:c,checkable:f,handleKeydown:h,rtlEnabled:S,handleFocusout:p}=this,v=c&&!u,y=v?"0":void 0,a=[`${o}-tree`,S&&`${o}-tree--rtl`,f&&`${o}-tree--checkable`,(d||l)&&`${o}-tree--block-node`,d&&`${o}-tree--block-line`],m=w=>"__motion"in w?k(Sr,{height:w.height,nodes:w.nodes,clsPrefix:o,mode:w.mode,onAfterEnter:this.handleAfterEnter}):k(Rn,{key:w.key,tmNode:w,clsPrefix:o});if(this.virtualScroll){const{mergedTheme:w,internalScrollablePadding:D}=this,$=$o(D||"0");return k(Ut,{ref:"scrollbarInstRef",onDragleave:s?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:a,theme:w.peers.Scrollbar,themeOverrides:w.peerOverrides.Scrollbar,tabindex:y,onKeydown:v?h:void 0,onFocusout:v?p:void 0},{default:()=>{var R;return(R=this.onRender)===null||R===void 0||R.call(this),k(To,{ref:"virtualListInstRef",items:this.fNodes,itemSize:Je,ignoreItemResize:this.aip,paddingTop:$.top,paddingBottom:$.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:$.left,paddingRight:$.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:b})=>m(b)})}})}const{internalScrollable:C}=this;return a.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),C?k(Ut,{class:a,tabindex:y,onKeydown:v?h:void 0,onFocusout:v?p:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>k("div",{onDragleave:s?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(m))}):k("div",{class:a,tabindex:y,ref:"selfElRef",style:this.cssVars,onKeydown:v?h:void 0,onFocusout:v?p:void 0,onDragleave:s?this.handleDragLeaveTree:void 0},t.length?t.map(m):No(this.$slots.empty,()=>[k(Po,{class:`${o}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}});var Dr=Array.isArray,mt=Dr,Ir=typeof Ye=="object"&&Ye&&Ye.Object===Object&&Ye,Kr=Ir,Fr=Kr,Or=typeof self=="object"&&self&&self.Object===Object&&self,Br=Fr||Or||Function("return this")(),_t=Br,Ar=_t,Er=Ar.Symbol,Ct=Er,Vt=Ct,$n=Object.prototype,zr=$n.hasOwnProperty,Lr=$n.toString,Le=Vt?Vt.toStringTag:void 0;function jr(e){var t=zr.call(e,Le),n=e[Le];try{e[Le]=void 0;var o=!0}catch{}var l=Lr.call(e);return o&&(t?e[Le]=n:delete e[Le]),l}var Mr=jr,Ur=Object.prototype,Hr=Ur.toString;function Vr(e){return Hr.call(e)}var Gr=Vr,Gt=Ct,qr=Mr,Wr=Gr,Yr="[object Null]",Jr="[object Undefined]",qt=Gt?Gt.toStringTag:void 0;function Xr(e){return e==null?e===void 0?Jr:Yr:qt&&qt in Object(e)?qr(e):Wr(e)}var Tn=Xr;function Zr(e){return e!=null&&typeof e=="object"}var Qr=Zr,ea=Tn,ta=Qr,na="[object Symbol]";function oa(e){return typeof e=="symbol"||ta(e)&&ea(e)==na}var xt=oa,ra=mt,aa=xt,la=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ia=/^\w*$/;function sa(e,t){if(ra(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||aa(e)?!0:ia.test(e)||!la.test(e)||t!=null&&e in Object(t)}var da=sa;function ca(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kt=ca,ua=Tn,fa=kt,ha="[object AsyncFunction]",ga="[object Function]",va="[object GeneratorFunction]",ba="[object Proxy]";function pa(e){if(!fa(e))return!1;var t=ua(e);return t==ga||t==va||t==ha||t==ba}var ya=pa,ma=_t,_a=ma["__core-js_shared__"],Ca=_a,gt=Ca,Wt=function(){var e=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xa(e){return!!Wt&&Wt in e}var ka=xa,Sa=Function.prototype,wa=Sa.toString;function Ra(e){if(e!=null){try{return wa.call(e)}catch{}try{return e+""}catch{}}return""}var $a=Ra,Ta=ya,Na=ka,Pa=kt,Da=$a,Ia=/[\\^$.*+?()[\]{}|]/g,Ka=/^\[object .+?Constructor\]$/,Fa=Function.prototype,Oa=Object.prototype,Ba=Fa.toString,Aa=Oa.hasOwnProperty,Ea=RegExp("^"+Ba.call(Aa).replace(Ia,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function za(e){if(!Pa(e)||Na(e))return!1;var t=Ta(e)?Ea:Ka;return t.test(Da(e))}var La=za;function ja(e,t){return e==null?void 0:e[t]}var Ma=ja,Ua=La,Ha=Ma;function Va(e,t){var n=Ha(e,t);return Ua(n)?n:void 0}var St=Va,Ga=St,qa=Ga(Object,"create"),et=qa,Yt=et;function Wa(){this.__data__=Yt?Yt(null):{},this.size=0}var Ya=Wa;function Ja(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xa=Ja,Za=et,Qa="__lodash_hash_undefined__",el=Object.prototype,tl=el.hasOwnProperty;function nl(e){var t=this.__data__;if(Za){var n=t[e];return n===Qa?void 0:n}return tl.call(t,e)?t[e]:void 0}var ol=nl,rl=et,al=Object.prototype,ll=al.hasOwnProperty;function il(e){var t=this.__data__;return rl?t[e]!==void 0:ll.call(t,e)}var sl=il,dl=et,cl="__lodash_hash_undefined__";function ul(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=dl&&t===void 0?cl:t,this}var fl=ul,hl=Ya,gl=Xa,vl=ol,bl=sl,pl=fl;function Pe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Pe.prototype.clear=hl;Pe.prototype.delete=gl;Pe.prototype.get=vl;Pe.prototype.has=bl;Pe.prototype.set=pl;var yl=Pe;function ml(){this.__data__=[],this.size=0}var _l=ml;function Cl(e,t){return e===t||e!==e&&t!==t}var Nn=Cl,xl=Nn;function kl(e,t){for(var n=e.length;n--;)if(xl(e[n][0],t))return n;return-1}var tt=kl,Sl=tt,wl=Array.prototype,Rl=wl.splice;function $l(e){var t=this.__data__,n=Sl(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():Rl.call(t,n,1),--this.size,!0}var Tl=$l,Nl=tt;function Pl(e){var t=this.__data__,n=Nl(t,e);return n<0?void 0:t[n][1]}var Dl=Pl,Il=tt;function Kl(e){return Il(this.__data__,e)>-1}var Fl=Kl,Ol=tt;function Bl(e,t){var n=this.__data__,o=Ol(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var Al=Bl,El=_l,zl=Tl,Ll=Dl,jl=Fl,Ml=Al;function De(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}De.prototype.clear=El;De.prototype.delete=zl;De.prototype.get=Ll;De.prototype.has=jl;De.prototype.set=Ml;var Ul=De,Hl=St,Vl=_t,Gl=Hl(Vl,"Map"),ql=Gl,Jt=yl,Wl=Ul,Yl=ql;function Jl(){this.size=0,this.__data__={hash:new Jt,map:new(Yl||Wl),string:new Jt}}var Xl=Jl;function Zl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ql=Zl,ei=Ql;function ti(e,t){var n=e.__data__;return ei(t)?n[typeof t=="string"?"string":"hash"]:n.map}var nt=ti,ni=nt;function oi(e){var t=ni(this,e).delete(e);return this.size-=t?1:0,t}var ri=oi,ai=nt;function li(e){return ai(this,e).get(e)}var ii=li,si=nt;function di(e){return si(this,e).has(e)}var ci=di,ui=nt;function fi(e,t){var n=ui(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var hi=fi,gi=Xl,vi=ri,bi=ii,pi=ci,yi=hi;function Ie(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Ie.prototype.clear=gi;Ie.prototype.delete=vi;Ie.prototype.get=bi;Ie.prototype.has=pi;Ie.prototype.set=yi;var mi=Ie,Pn=mi,_i="Expected a function";function wt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_i);var n=function(){var o=arguments,l=t?t.apply(this,o):o[0],d=n.cache;if(d.has(l))return d.get(l);var s=e.apply(this,o);return n.cache=d.set(l,s)||d,s};return n.cache=new(wt.Cache||Pn),n}wt.Cache=Pn;var Ci=wt,xi=Ci,ki=500;function Si(e){var t=xi(e,function(o){return n.size===ki&&n.clear(),o}),n=t.cache;return t}var wi=Si,Ri=wi,$i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ti=/\\(\\)?/g,Ni=Ri(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($i,function(n,o,l,d){t.push(l?d.replace(Ti,"$1"):o||n)}),t}),Pi=Ni;function Di(e,t){for(var n=-1,o=e==null?0:e.length,l=Array(o);++n<o;)l[n]=t(e[n],n,e);return l}var Ii=Di,Xt=Ct,Ki=Ii,Fi=mt,Oi=xt,Bi=1/0,Zt=Xt?Xt.prototype:void 0,Qt=Zt?Zt.toString:void 0;function Dn(e){if(typeof e=="string")return e;if(Fi(e))return Ki(e,Dn)+"";if(Oi(e))return Qt?Qt.call(e):"";var t=e+"";return t=="0"&&1/e==-Bi?"-0":t}var Ai=Dn,Ei=Ai;function zi(e){return e==null?"":Ei(e)}var Li=zi,ji=mt,Mi=da,Ui=Pi,Hi=Li;function Vi(e,t){return ji(e)?e:Mi(e,t)?[e]:Ui(Hi(e))}var In=Vi,Gi=xt,qi=1/0;function Wi(e){if(typeof e=="string"||Gi(e))return e;var t=e+"";return t=="0"&&1/e==-qi?"-0":t}var Kn=Wi,Yi=In,Ji=Kn;function Xi(e,t){t=Yi(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[Ji(t[n++])];return n&&n==o?e:void 0}var Zi=Xi,Qi=Zi;function es(e,t,n){var o=e==null?void 0:Qi(e,t);return o===void 0?n:o}var ts=es;const ns=ts;var os=St,rs=function(){try{var e=os(Object,"defineProperty");return e({},"",{}),e}catch{}}(),as=rs,en=as;function ls(e,t,n){t=="__proto__"&&en?en(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var is=ls,ss=is,ds=Nn,cs=Object.prototype,us=cs.hasOwnProperty;function fs(e,t,n){var o=e[t];(!(us.call(e,t)&&ds(o,n))||n===void 0&&!(t in e))&&ss(e,t,n)}var hs=fs,gs=9007199254740991,vs=/^(?:0|[1-9]\d*)$/;function bs(e,t){var n=typeof e;return t=t==null?gs:t,!!t&&(n=="number"||n!="symbol"&&vs.test(e))&&e>-1&&e%1==0&&e<t}var ps=bs,ys=hs,ms=In,_s=ps,tn=kt,Cs=Kn;function xs(e,t,n,o){if(!tn(e))return e;t=ms(t,e);for(var l=-1,d=t.length,s=d-1,u=e;u!=null&&++l<d;){var c=Cs(t[l]),f=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(l!=s){var h=u[c];f=o?o(h,c,u):void 0,f===void 0&&(f=tn(h)?h:_s(t[l+1])?[]:{})}ys(u,c,f),u=u[c]}return e}var ks=xs,Ss=ks;function ws(e,t,n){return e==null?e:Ss(e,t,n)}var Rs=ws;const $s=X({name:"BatchTranslateItem",props:{dirItem:{type:Object,required:!0},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""}},emits:["saveChanged"],setup(e,{emit:t}){const{dirItem:n,filePathArr:o,translatePath:l}=sn(e),d=()=>{let a=null;const m=(C,w,D=0)=>{const $=w[D];if(!!C)for(let R=0;R<C.length;R++){const b=C[R];if(b.label===$&&D===w.length-1)throw a=b,new Error("item found");b.children&&m(b.children,w,D+1)}};try{m(n.value.children,o.value)}catch{}return a},s=E(()=>d()),u=dn(null),c=P(null),f=P(!1),h=P(!1),S=()=>{const a=ns(u.value,l.value,null);return Array.isArray(a)?(h.value=!0,JSON.stringify(a,null,2)):(h.value=!1,a)},p=(a=c.value)=>{h.value&&a&&(a=JSON.parse(a)),Rs(u.value,l.value,a)};pe(s,async a=>{if(!a){u.value=null,c.value=null,h.value=!1,ue(()=>{f.value=!1});return}const m=await a.entry.getFile(),C=await cn(m);u.value=JSON.parse(C),c.value=S(),ue(()=>{f.value=!1})},{immediate:!0}),pe(c,()=>{f.value=!0}),pe(l,a=>{c.value=S(),ue(()=>{f.value=!1})});const v=async()=>{try{if(!s.value)return;const a=s.value.entry;if(!a)return;const m=await a.getFile(),C=await a.createWritable(),w=JSON.stringify(u.value,null,2);await C.write(w),await C.close(),window.$message.success("Saved!")}catch(a){console.error(a),window.$message.error("Save Failed!"+a.message)}},y=P();return{currentItem:s,translateObj:u,translateText:c,isChanged:f,async saveChange({isEmit:a=!1}={}){!f.value||(p(),await v(),ue(()=>{f.value=!1}),a&&t("saveChanged"))},cancelChange(){c.value=S(),ue(()=>{f.value=!1})},createField(a){p(a),c.value=a,h.value=Array.isArray(a),ue(()=>{y.value.focus()})},isFieldArray:h,inputRef:y}}});const Ts={class:"translate-path font-code"},Ns={key:0,style:{color:"hotpink","margin-bottom":"10px"}},Ps=he("Save"),Ds=he("Cancel"),Is=he("Create text"),Ks=he("Create Array"),Fs={key:2,style:{color:"darkgoldenrod"}};function Os(e,t,n,o,l,d){const s=hn,u=gn,c=vn,f=bn;return j(),ne(f,{size:"small",class:"batch-translate-item",title:e.dirItem.label+"/"+e.filePathArr.join("/")},{"header-extra":z(()=>[Xe("span",Ts,un(e.translatePath),1)]),default:z(()=>[e.currentItem?e.translatePath?(j(),se(Ne,{key:1},[e.translateText!==null?(j(),ne(c,{key:0,align:"center"},{default:z(()=>[G(s,{ref:"inputRef",type:"textarea",size:"small",value:e.translateText,"onUpdate:value":t[0]||(t[0]=h=>e.translateText=h),placeholder:e.isFieldArray?"Input array":"Input text",rows:e.isFieldArray?8:1,style:{width:"450px"},class:fn({"font-code":e.isFieldArray})},null,8,["value","placeholder","rows","class"]),e.isChanged?(j(),ne(u,{key:0,size:"small",type:"primary",onClick:t[1]||(t[1]=h=>e.saveChange({isEmit:!0}))},{default:z(()=>[Ps]),_:1})):ke("",!0),e.isChanged?(j(),ne(u,{key:1,size:"small",onClick:e.cancelChange},{default:z(()=>[Ds]),_:1},8,["onClick"])):ke("",!0)]),_:1})):(j(),ne(c,{key:1},{default:z(()=>[G(u,{size:"small",onClick:t[2]||(t[2]=h=>e.createField("")),type:"primary"},{default:z(()=>[Is]),_:1}),G(u,{size:"small",onClick:t[3]||(t[3]=h=>e.createField([]))},{default:z(()=>[Ks]),_:1})]),_:1}))],64)):(j(),se("div",Fs,"Please select a translation field on the left")):(j(),se("div",Ns," File does not exist, please create it on your local file system "))]),_:1},8,["title"])}const Fn=yt($s,[["render",Os],["__scopeId","data-v-3b3f4283"]]),Bs=X({name:"BatchTranslate",components:{BatchTranslateItem:Fn},props:{dirTree:{type:Array,default(){return[]}},filePathArr:{type:Array,default(){return[]}},translatePath:{type:String,default:""}},setup(e,{emit:t}){sn(e);const n=P();return{handleSaveChanged:async()=>{for(let l=0;l<n.value.length;l++)await n.value[l].saveChange()},itemsRef:n}}});const As={class:"batch-translate"};function Es(e,t,n,o,l,d){const s=Fn;return j(),se("div",As,[(j(!0),se(Ne,null,bt(e.dirTree.filter(u=>u.kind==="directory"),u=>(j(),ne(s,{ref_for:!0,ref:"itemsRef",key:u.key,"dir-item":u,"file-path-arr":e.filePathArr,"translate-path":e.translatePath,onSaveChanged:e.handleSaveChanged},null,8,["dir-item","file-path-arr","translate-path","onSaveChanged"]))),128))])}const On=yt(Bs,[["render",Es],["__scopeId","data-v-19add45c"]]);let vt=0;const zs=X({name:"VueI18nBatchTool",components:{BatchTranslate:On,DropZone:pn},setup(){const e=P([]),t=async(a,m=0,C=[],w=[])=>{vt++;let D=0;for await(const $ of a.values())if(D++,$.kind==="directory"){let R=[];C.push({key:`${vt}-D-${m}-${D}`,kind:$.kind,label:$.name,entry:$,parentDirs:w,children:R}),await t($,m+1,R,[...w,$.name])}else/\.json$/gi.test($.name)&&C.push({key:`${vt}-F-${m}-${D}`,kind:$.kind,label:$.name,entry:$,parentDirs:w,children:null});return C},n=dn(),o=async()=>{n.value=await window.showDirectoryPicker(),e.value=await t(n.value)},l=async()=>{e.value=await t(n.value)},d=P(null),s=P(null),u=P([]),c=P(""),f=async()=>{try{const a=d.value;if(!a)return;const m=await a.getFile(),C=await a.createWritable();S.value!=="text"&&(s.value=JSON.stringify(Eo(p.value),null,2)),await C.write(s.value),await C.close(),await l(),window.$message.success("Saved!")}catch(a){console.error(a),window.$message.error("Save Failed!"+a.message)}},h=["text","gui","batch"],S=P("batch"),p=P([Bo()]),v=()=>{if(S.value!=="text"){if(!s.value){p.value=[];return}const a=JSON.parse(s.value);p.value=zo.parseWithRoot(a)}};pe(S,a=>{v()});const{metaTitle:y}=Do();return{metaTitle:y,iconTranslate:Ao,handlePickDir:o,dirTree:e,dirHandle:n,reloadPickedDir:l,nodeProps:({option:a})=>({async onClick(){if(a.kind==="file"){const m=a.entry;d.value=m;const C=await cn(await m.getFile());s.value=C,u.value=[...a.parentDirs,a.label],c.value="",v()}}}),currentEditText:s,currentEditEntry:d,handleSaveFile:f,editMode:S,editModeList:h,translateTreeRoot:p,currentFilePathArr:u,translatePath:c,handleKeyClick(a){console.log(a),c.value=a},...jo({cb:async a=>{for(const m of a.dataTransfer.items)if(m.kind==="file"){const C=await m.getAsFileSystemHandle();C.kind==="directory"&&(n.value=C,e.value=await t(n.value))}}})}}});const Ls=he("Save Changes"),js=he(" Edit Mode:"),Ms=he(" Pick i18n Directory "),Us=he(" Refresh "),Hs={class:"_container"},Vs={class:"main-edit-wrap"};function Gs(e,t,n,o,l,d){const s=pn,u=Mo,c=gn,f=er,h=Qo,S=vn,p=Uo,v=bn,y=Pr,a=vr,m=fr,C=hn,w=Lo,D=On,$=ir,R=lr;return j(),se("div",{class:"vue-i18n-copy-tool",onDragover:t[3]||(t[3]=ht((...b)=>e.fileDragover&&e.fileDragover(...b),["prevent","stop"])),onDragleave:t[4]||(t[4]=ht(b=>e.showDropzone=!1,["prevent","stop"])),onDrop:t[5]||(t[5]=ht((...b)=>e.fileDrop&&e.fileDrop(...b),["prevent","stop"]))},[G(Fo,{name:"fade"},{default:z(()=>[Io(G(s,{text:"Drop locale folder here"},null,512),[[Ko,e.showDropzone]])]),_:1}),G(v,{size:"small"},{default:z(()=>[G(p,{subtitle:"",onBack:t[1]||(t[1]=b=>e.$router.push({name:"HomeView"}))},{title:z(()=>[he(un(e.metaTitle),1)]),avatar:z(()=>[G(u,{src:e.iconTranslate,style:{background:"none"}},null,8,["src"])]),extra:z(()=>[G(S,{align:"center"},{default:z(()=>[e.currentEditEntry?(j(),ne(c,{key:0,type:"primary",onClick:e.handleSaveFile},{default:z(()=>[Ls]),_:1},8,["onClick"])):ke("",!0),js,G(h,{size:"small",value:e.editMode,"onUpdate:value":t[0]||(t[0]=b=>e.editMode=b)},{default:z(()=>[(j(!0),se(Ne,null,bt(e.editModeList,b=>(j(),ne(f,{key:b,value:b,label:b.toUpperCase()},null,8,["value","label"]))),128))]),_:1},8,["value"]),G(c,{type:"primary",size:"small",onClick:e.handlePickDir},{default:z(()=>[Ms]),_:1},8,["onClick"]),e.dirHandle?(j(),ne(c,{key:1,size:"small",onClick:e.reloadPickedDir},{default:z(()=>[Us]),_:1},8,["onClick"])):ke("",!0)]),_:1})]),_:1})]),_:1}),Xe("div",Hs,[G(R,{style:{height:"100%"},"has-sider":""},{default:z(()=>[G(m,{"collapse-mode":"width","collapsed-width":0,width:300,"show-trigger":"arrow-circle","content-style":"padding: 10px;",bordered:""},{default:z(()=>[G(a,{style:{height:"100%"}},{default:z(()=>[G(y,{"block-line":"",data:e.dirTree,"node-props":e.nodeProps,"default-expand-all":"","expand-on-click":"",selectable:""},null,8,["data","node-props"])]),_:1})]),_:1}),G($,null,{default:z(()=>[Xe("div",Vs,[e.currentEditEntry?(j(),se(Ne,{key:0},[ke("",!0),Xe("div",{class:fn(["edit-content-wrap",{"batch-mode":e.editMode==="batch"}])},[e.editMode==="text"?(j(),ne(C,{key:0,type:"textarea",value:e.currentEditText,"onUpdate:value":t[2]||(t[2]=b=>e.currentEditText=b),class:"font-code",style:{height:"100%"},placeholder:"Edit Text"},null,8,["value"])):(j(),se(Ne,{key:1},[G(a,{style:Oo([{height:"100%"},{width:e.editMode==="batch"?"500px":"100%"}])},{default:z(()=>[(j(!0),se(Ne,null,bt(e.translateTreeRoot,(b,I)=>(j(),ne(w,{key:I,item:b,"is-lite":e.editMode==="batch",onOnKeyClick:e.handleKeyClick},null,8,["item","is-lite","onOnKeyClick"]))),128))]),_:1},8,["style"]),e.editMode==="batch"?(j(),ne(a,{key:0,style:{height:"100%"}},{default:z(()=>[G(D,{"dir-tree":e.dirTree,"file-path-arr":e.currentFilePathArr.slice(1),"translate-path":e.translatePath},null,8,["dir-tree","file-path-arr","translate-path"])]),_:1})):ke("",!0)],64))],2)],64)):ke("",!0)])]),_:1})]),_:1})])],32)}const Js=yt(zs,[["render",Gs],["__scopeId","data-v-ce10d9f1"]]);export{Js as default};

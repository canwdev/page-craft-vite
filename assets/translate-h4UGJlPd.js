import{d as P,Z as S,an as xe,$ as De,bn as yt,bo as bt,ap as _t,a8 as ze,af as ie,r as T,n as j,bp as Ct,bq as wt,br as kt,bs as Tt,ad as $t,aa as Ae,bt as At,a3 as Rt,a5 as It,a6 as Vt,a7 as F,w as W,ah as Mt,bu as St,bv as X,am as Re,bw as Ie,aH as Ve,as as Me,bx as Se,be as Pt,a9 as G,aN as Bt,c as r,y as M,C as R,by as Ot,T as E,g as Le,bz as Ce,bA as le,x as Nt,b as Y,e as _,A as c,z as y,bB as xt,bC as He,a_ as Ee,aT as we,K as se,D as $,aW as ke,aX as Fe,aY as je,X as z,J as x,I as L,O as Te,h as Ke,o as Ue,bD as Dt,bE as ae,p as Ge,bF as zt,bG as Lt,M as _e,b4 as Je,aZ as Ze,Y as qe,Q as Qe,i as Ht,bH as Et,W as Ft,b1 as jt,bI as Pe,bJ as Kt,b2 as Ut,F as Gt,bK as Jt,bL as Zt}from"./index-mqCekWp6.js";const qt=P({name:"Remove",render(){return S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},S("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),Qt=e=>{const{borderRadius:t,boxShadow2:s,baseColor:l}=e;return Object.assign(Object.assign({},bt),{borderRadius:t,boxShadow:s,color:_t(l,"rgba(0, 0, 0, .85)"),textColor:l})},Wt=xe({name:"Tooltip",common:De,peers:{Popover:yt},self:Qt}),Xt=Wt,Yt=Object.assign(Object.assign({},wt),ie.props),en=P({name:"Tooltip",props:Yt,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=ze(e),s=ie("Tooltip","-tooltip",void 0,Xt,e,t),l=T(null);return Object.assign(Object.assign({},{syncPosition(){l.value.syncPosition()},setShow(m){l.value.setShow(m)}}),{popoverRef:l,mergedTheme:s,popoverThemeOverrides:j(()=>s.value.self)})},render(){const{mergedTheme:e,internalExtraClass:t}=this;return S(Ct,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),tn=e=>{const{textColorDisabled:t}=e;return{iconColorDisabled:t}},nn=xe({name:"InputNumber",common:De,peers:{Button:kt,Input:Tt},self:tn}),on=nn;function ln(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function an(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function ye(e){return e==null?!0:!Number.isNaN(e)}function Be(e,t){return e==null?"":t===void 0?String(e):e.toFixed(t)}function be(e){if(e===null)return null;if(typeof e=="number")return e;{const t=Number(e);return Number.isNaN(t)?null:t}}const sn=$t([Ae("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),Ae("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),Oe=800,Ne=100,rn=Object.assign(Object.assign({},ie.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},inputProps:Object,readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),un=P({name:"InputNumber",props:rn,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:s,mergedRtlRef:l}=ze(e),o=ie("InputNumber","-input-number",sn,on,e,s),{localeRef:m}=At("InputNumber"),v=Rt(e),{mergedSizeRef:h,mergedDisabledRef:g,mergedStatusRef:C}=v,f=T(null),A=T(null),I=T(null),i=T(e.defaultValue),b=It(e,"value"),u=Vt(b,i),p=T(""),B=n=>{const a=String(n).split(".")[1];return a?a.length:0},J=n=>{const a=[e.min,e.max,e.step,n].map(d=>d===void 0?0:B(d));return Math.max(...a)},ue=F(()=>{const{placeholder:n}=e;return n!==void 0?n:m.value.placeholder}),K=F(()=>{const n=be(e.step);return n!==null?n===0?1:Math.abs(n):1}),ee=F(()=>{const n=be(e.min);return n!==null?n:null}),te=F(()=>{const n=be(e.max);return n!==null?n:null}),V=n=>{const{value:a}=u;if(n===a){O();return}const{"onUpdate:value":d,onUpdateValue:w,onChange:N}=e,{nTriggerFormInput:D,nTriggerFormChange:U}=v;N&&G(N,n),w&&G(w,n),d&&G(d,n),i.value=n,D(),U()},k=({offset:n,doUpdateIfValid:a,fixPrecision:d,isInputing:w})=>{const{value:N}=p;if(w&&an(N))return!1;const D=(e.parse||ln)(N);if(D===null)return a&&V(null),null;if(ye(D)){const U=B(D),{precision:Q}=e;if(Q!==void 0&&Q<U&&!d)return!1;let H=parseFloat((D+n).toFixed(Q??J(D)));if(ye(H)){const{value:ge}=te,{value:he}=ee;if(ge!==null&&H>ge){if(!a||w)return!1;H=ge}if(he!==null&&H<he){if(!a||w)return!1;H=he}return e.validator&&!e.validator(H)?!1:(a&&V(H),H)}}return!1},O=()=>{const{value:n}=u;if(ye(n)){const{format:a,precision:d}=e;a?p.value=a(n):n===null||d===void 0||B(n)>d?p.value=Be(n,void 0):p.value=Be(n,d)}else p.value=String(n)};O();const nt=F(()=>k({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),de=F(()=>{const{value:n}=u;if(e.validator&&n===null)return!1;const{value:a}=K;return k({offset:-a,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),ce=F(()=>{const{value:n}=u;if(e.validator&&n===null)return!1;const{value:a}=K;return k({offset:+a,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function ot(n){const{onFocus:a}=e,{nTriggerFormFocus:d}=v;a&&G(a,n),d()}function lt(n){var a,d;if(n.target===((a=f.value)===null||a===void 0?void 0:a.wrapperElRef))return;const w=k({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(w!==!1){const U=(d=f.value)===null||d===void 0?void 0:d.inputElRef;U&&(U.value=String(w||"")),u.value===w&&O()}else O();const{onBlur:N}=e,{nTriggerFormBlur:D}=v;N&&G(N,n),D(),Bt(()=>{O()})}function at(n){const{onClear:a}=e;a&&G(a,n)}function pe(){const{value:n}=ce;if(!n){ve();return}const{value:a}=u;if(a===null)e.validator||V($e());else{const{value:d}=K;k({offset:d,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function me(){const{value:n}=de;if(!n){fe();return}const{value:a}=u;if(a===null)e.validator||V($e());else{const{value:d}=K;k({offset:-d,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const st=ot,it=lt;function $e(){if(e.validator)return null;const{value:n}=ee,{value:a}=te;return n!==null?Math.max(0,n):a!==null?Math.min(0,a):0}function rt(n){at(n),V(null)}function ut(n){var a,d,w;!((a=I.value)===null||a===void 0)&&a.$el.contains(n.target)&&n.preventDefault(),!((d=A.value)===null||d===void 0)&&d.$el.contains(n.target)&&n.preventDefault(),(w=f.value)===null||w===void 0||w.activate()}let Z=null,q=null,ne=null;function fe(){ne&&(window.clearTimeout(ne),ne=null),Z&&(window.clearInterval(Z),Z=null)}function ve(){oe&&(window.clearTimeout(oe),oe=null),q&&(window.clearInterval(q),q=null)}function dt(){fe(),ne=window.setTimeout(()=>{Z=window.setInterval(()=>{me()},Ne)},Oe),Ie("mouseup",document,fe,{once:!0})}let oe=null;function ct(){ve(),oe=window.setTimeout(()=>{q=window.setInterval(()=>{pe()},Ne)},Oe),Ie("mouseup",document,ve,{once:!0})}const pt=()=>{q||pe()},mt=()=>{Z||me()};function ft(n){var a,d;if(n.key==="Enter"){if(n.target===((a=f.value)===null||a===void 0?void 0:a.wrapperElRef))return;k({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((d=f.value)===null||d===void 0||d.deactivate())}else if(n.key==="ArrowUp"){if(!ce.value||e.keyboard.ArrowUp===!1)return;n.preventDefault(),k({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&pe()}else if(n.key==="ArrowDown"){if(!de.value||e.keyboard.ArrowDown===!1)return;n.preventDefault(),k({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&me()}}function vt(n){p.value=n,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&k({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}W(u,()=>{O()});const gt={focus:()=>{var n;return(n=f.value)===null||n===void 0?void 0:n.focus()},blur:()=>{var n;return(n=f.value)===null||n===void 0?void 0:n.blur()},select:()=>{var n;return(n=f.value)===null||n===void 0?void 0:n.select()}},ht=Mt("InputNumber",l,s);return Object.assign(Object.assign({},gt),{rtlEnabled:ht,inputInstRef:f,minusButtonInstRef:A,addButtonInstRef:I,mergedClsPrefix:s,mergedBordered:t,uncontrolledValue:i,mergedValue:u,mergedPlaceholder:ue,displayedValueInvalid:nt,mergedSize:h,mergedDisabled:g,displayedValue:p,addable:ce,minusable:de,mergedStatus:C,handleFocus:st,handleBlur:it,handleClear:rt,handleMouseDown:ut,handleAddClick:pt,handleMinusClick:mt,handleAddMousedown:ct,handleMinusMousedown:dt,handleKeyDown:ft,handleUpdateDisplayedValue:vt,mergedTheme:o,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:j(()=>{const{self:{iconColorDisabled:n}}=o.value,[a,d,w,N]=St(n);return{textColorTextDisabled:`rgb(${a}, ${d}, ${w})`,opacityDisabled:`${N}`}})})},render(){const{mergedClsPrefix:e,$slots:t}=this,s=()=>S(Se,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>Ve(t["minus-icon"],()=>[S(Me,{clsPrefix:e},{default:()=>S(qt,null)})])}),l=()=>S(Se,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>Ve(t["add-icon"],()=>[S(Me,{clsPrefix:e},{default:()=>S(Pt,null)})])});return S("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},S(X,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,inputProps:this.inputProps,internalLoadingBeforeSuffix:!0},{prefix:()=>{var o;return this.showButton&&this.buttonPlacement==="both"?[s(),Re(t.prefix,m=>m?S("span",{class:`${e}-input-number-prefix`},m):null)]:(o=t.prefix)===null||o===void 0?void 0:o.call(t)},suffix:()=>{var o;return this.showButton?[Re(t.suffix,m=>m?S("span",{class:`${e}-input-number-suffix`},m):null),this.buttonPlacement==="right"?s():null,l()]:(o=t.suffix)===null||o===void 0?void 0:o.call(t)}}))}}),dn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},cn=R("g",{fill:"none"},[R("path",{d:"M10 2.5a.5.5 0 0 0-1 0V9H2.5a.5.5 0 0 0 0 1H9v6.5a.5.5 0 0 0 1 0V10h6.5a.5.5 0 0 0 0-1H10V2.5z",fill:"currentColor"})],-1),pn=[cn],mn=P({name:"Add20Regular",render:function(t,s){return r(),M("svg",dn,pn)}}),fn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},vn=R("g",{fill:"none"},[R("path",{d:"M3 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5zm2-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5zm5 2a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 10 6z",fill:"currentColor"})],-1),gn=[vn],hn=P({name:"AddSquare20Regular",render:function(t,s){return r(),M("svg",fn,gn)}}),yn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},bn=R("g",{fill:"none"},[R("path",{d:"M11.5 4a1.5 1.5 0 0 0-3 0h-1a2.5 2.5 0 0 1 5 0H17a.5.5 0 0 1 0 1h-.554L15.15 16.23A2 2 0 0 1 13.163 18H6.837a2 2 0 0 1-1.987-1.77L3.553 5H3a.5.5 0 0 1-.492-.41L2.5 4.5A.5.5 0 0 1 3 4h8.5zm3.938 1H4.561l1.282 11.115a1 1 0 0 0 .994.885h6.326a1 1 0 0 0 .993-.885L15.438 5zM8.5 7.5c.245 0 .45.155.492.359L9 7.938v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L8 14.062V7.939c0-.242.224-.438.5-.438zm3 0c.245 0 .45.155.492.359l.008.079v6.125c0 .241-.224.437-.5.437c-.245 0-.45-.155-.492-.359L11 14.062V7.939c0-.242.224-.438.5-.438z",fill:"currentColor"})],-1),_n=[bn],We=P({name:"Delete20Regular",render:function(t,s){return r(),M("svg",yn,_n)}}),Cn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},wn=R("g",{fill:"none"},[R("path",{d:"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM8 3c.374 0 .875.356 1.313 1.318c.094.208.181.436.26.682H6.427a6.19 6.19 0 0 1 .26-.682C7.125 3.356 7.627 3 8 3zm-2.223.904c-.15.332-.283.7-.393 1.096H4a5.017 5.017 0 0 1 2.038-1.6a5.45 5.45 0 0 0-.261.504zM5.163 6A12.055 12.055 0 0 0 5 8c0 .699.057 1.373.163 2H3.416A4.983 4.983 0 0 1 3 8c0-.711.148-1.388.416-2h1.747zm.221 5c.11.396.242.764.393 1.096c.079.174.166.343.26.504A5.017 5.017 0 0 1 4 11h1.384zm1.043 0h3.146a6.195 6.195 0 0 1-.26.682C8.875 12.644 8.373 13 8 13c-.374 0-.875-.356-1.313-1.318a6.195 6.195 0 0 1-.26-.682zm3.394-1H6.18A10.936 10.936 0 0 1 6 8c0-.714.064-1.39.179-2H9.82c.115.61.179 1.286.179 2s-.064 1.39-.179 2zm.795 1H12a5.018 5.018 0 0 1-2.038 1.6c.095-.161.182-.33.26-.504c.152-.332.284-.7.394-1.096zm1.968-1h-1.747A12.05 12.05 0 0 0 11 8c0-.699-.057-1.372-.163-2h1.747c.268.612.416 1.289.416 2c0 .711-.148 1.388-.416 2zM9.962 3.4A5.018 5.018 0 0 1 12 5h-1.384a7.526 7.526 0 0 0-.393-1.096a5.454 5.454 0 0 0-.26-.504z",fill:"currentColor"})],-1),kn=[wn],Tn=P({name:"Globe16Regular",render:function(t,s){return r(),M("svg",Cn,kn)}}),$n={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},An=R("g",{fill:"none"},[R("path",{d:"M10 18a8 8 0 1 0 0-16a8 8 0 0 0 0 16zm0-15c.657 0 1.407.59 2.022 1.908c.217.466.406 1.002.559 1.592H7.419c.153-.59.342-1.126.56-1.592C8.592 3.59 9.342 3 10 3zM7.072 4.485A10.502 10.502 0 0 0 6.389 6.5H3.936a7.022 7.022 0 0 1 3.778-3.118c-.241.33-.456.704-.642 1.103zM6.192 7.5A15.97 15.97 0 0 0 6 10c0 .87.067 1.712.193 2.5H3.46A6.984 6.984 0 0 1 3 10c0-.88.163-1.724.46-2.5h2.733zm.197 6c.176.743.407 1.422.683 2.015c.186.399.401.773.642 1.103A7.022 7.022 0 0 1 3.936 13.5H6.39zm1.03 0h5.162a9.248 9.248 0 0 1-.56 1.592C11.408 16.41 10.658 17 10 17c-.657 0-1.407-.59-2.022-1.908A9.254 9.254 0 0 1 7.42 13.5zm5.375-1H7.206A14.87 14.87 0 0 1 7 10c0-.883.073-1.725.206-2.5h5.588c.133.775.206 1.617.206 2.5s-.073 1.725-.206 2.5zm.817 1h2.453a7.022 7.022 0 0 1-3.778 3.118c.241-.33.456-.704.642-1.103c.276-.593.507-1.272.683-2.015zm2.93-1h-2.734c.126-.788.193-1.63.193-2.5c0-.87-.067-1.712-.193-2.5h2.733c.297.776.46 1.62.46 2.5c0 .88-.163 1.724-.46 2.5zm-4.255-9.118A7.021 7.021 0 0 1 16.064 6.5H13.61a10.504 10.504 0 0 0-.683-2.015a6.635 6.635 0 0 0-.642-1.103z",fill:"currentColor"})],-1),Rn=[An],In=P({name:"Globe20Regular",render:function(t,s){return r(),M("svg",$n,Rn)}}),re=Ot("i18nToolSettings",{state:()=>({isFoldersMode:!0,autoPasteTrimQuotes:!0,autoPasteTextConvertMode:E.TEXT,ignoreFolders:["node_modules",".git",".idea",".vscode",".DS_Store"]}),getters:{ignoreFoldersMap(){const e={};return this.ignoreFolders.forEach(t=>{e[t]=!0}),e}},persist:{key:"ls_key_i18n_tool_settings"}}),Vn=P({name:"I18nToolSettings",props:{visible:{type:Boolean,default:!1}},setup(e,{emit:t}){const{t:s}=Le(),l=Ce(e,t,"visible"),o=re(),m=j(()=>[{label:s("common.i18njson_editing_too"),key:"json_editing",children:[{label:"自动粘贴: 移除首尾引号",subtitle:"Trim: ` | ' | \"",key:"autoPasteTrimQuotes",store:o,type:le.SWITCH},{label:"自动粘贴: 文本转换器模式",key:"autoPasteTextConvertMode",store:o,type:le.SELECT,selectOptions:[{label:"Disabled",value:E.DISABLED},{label:"Number",value:E.NUMBER},...Nt]}]},{label:s("common.i18njson_batch_tool"),key:"json_editing",children:[{label:s("common.folders_mode"),key:"isFoldersMode",store:o,type:le.SWITCH},{label:"ignoreFolders",key:"ignoreFolders",store:o,type:le.DYNAMIC_TAGS}]}]);return{mVisible:l,optionList:m,dialogIconRender(){return S(In)}}}});function Mn(e,t,s,l,o,m){const v=xt,h=He;return r(),_(h,{show:e.mVisible,"onUpdate:show":t[0]||(t[0]=g=>e.mVisible=g),preset:"dialog",title:e.$t("common.settings"),style:{"padding-left":"10px","padding-right":"10px"},icon:e.dialogIconRender},{default:c(()=>[y(v,{"option-list":e.optionList},null,8,["option-list"])]),_:1},8,["show","title","icon"])}const eo=Y(Vn,[["render",Mn]]),Sn=P({name:"DialogTextEdit",components:{VueMonaco:Ee},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Text edit"},placeholder:{type:String,default:"Input text"},text:{type:String,default:""},isTextarea:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},type:{type:String,default:"text"}},emits:["onSave","update:modelValue","update:visible"],setup(e,{emit:t}){const{text:s}=we(e),l=Ce(e,t,"visible"),o=T(),m=T("");return W(s,v=>{m.value=v},{immediate:!0}),W(l,v=>{v&&setTimeout(()=>{var h;(h=o.value)==null||h.focus()})}),{inputRef:o,mVisible:l,editingText:m,handleSave(){t("onSave",m.value)}}}});function Pn(e,t,s,l,o,m){const v=Ee,h=X,g=He;return r(),_(g,{style:{width:"700px"},preset:"dialog","negative-text":e.$t("actions.cancel"),"positive-text":e.$t("actions.done"),title:e.title,onPositiveClick:e.handleSave,onNegativeClick:t[2]||(t[2]=C=>e.mVisible=!1),onClose:t[3]||(t[3]=C=>e.mVisible=!1),show:e.mVisible},{default:c(()=>[e.mVisible?(r(),M(se,{key:0},[e.isTextarea?(r(),_(v,{key:0,ref:"inputRef",modelValue:e.editingText,"onUpdate:modelValue":t[0]||(t[0]=C=>e.editingText=C),language:"json",style:{height:"500px"}},null,8,["modelValue"])):(r(),_(h,{key:1,ref:"inputRef",type:e.type,value:e.editingText,"onUpdate:value":t[1]||(t[1]=C=>e.editingText=C),class:"font-code",rows:e.isTextarea?25:null,placeholder:e.placeholder,autofocus:"",clearable:e.clearable},null,8,["type","value","rows","placeholder","clearable"]))],64)):$("",!0)]),_:1},8,["negative-text","positive-text","title","onPositiveClick","show"])}const Xe=Y(Sn,[["render",Pn]]),Bn=e=>{const t=re(),s=T(null);return W(e,o=>{if(o==null){s.value=null;return}s.value=typeof o},{immediate:!0}),{autoPasteConvertMode:j(()=>{const o=s.value;return o==="number"?E.NUMBER:o==="string"?t.autoPasteTextConvertMode===E.HTML?E.HTML:E.TEXT:o==="object"?E.JSON:t.autoPasteTextConvertMode}),valType:s}},On=P({name:"FieldEdit",components:{ClipboardPaste20Regular:ke},props:{modelValue:{type:[String,Number,Array]}},emits:["onValueBlur","previewArray","update:modelValue"],setup(e,{emit:t}){const s=Ce(e,t),l=re(),o=()=>{t("onValueBlur")},{valType:m,autoPasteConvertMode:v}=Bn(s),h=async()=>{let f=await Fe();s.value=je(f,v.value,{isTrimQuotes:l.autoPasteTrimQuotes}),setTimeout(()=>{o()})},g=T();return{intSettingsStore:l,mValue:s,valType:m,handleValueBlur:o,handlePaste:h,autoPasteConvertMode:v,focus:()=>{setTimeout(()=>{g.value.focus()})},valueInputRef:g}}}),Nn={class:"item-value-edit-wrap"};function xn(e,t,s,l,o,m){const v=un,h=Te,g=X,C=z("ClipboardPaste20Regular");return r(),M("div",Nn,[e.valType==="number"?(r(),_(v,{key:0,ref:"valueInputRef",value:e.mValue,"onUpdate:value":t[0]||(t[0]=f=>e.mValue=f),placeholder:"number value",size:"small",class:"item-value-edit jssl_value",onBlur:e.handleValueBlur},null,8,["value","onBlur"])):e.valType==="object"?(r(),_(h,{key:1,title:e.mValue,size:"small",class:"item-value-edit _button",onClick:t[1]||(t[1]=f=>e.$emit("previewArray"))},{default:c(()=>[L(" 📝 "+x(e.$t("common.array")),1)]),_:1},8,["title"])):(r(),_(g,{key:2,ref:"valueInputRef",type:"textarea",rows:"1",size:"small",class:"item-value-edit",value:e.mValue,"onUpdate:value":t[2]||(t[2]=f=>e.mValue=f),placeholder:"text value",onBlur:e.handleValueBlur},null,8,["value","onBlur"])),e.valType!=="object"?(r(),_(h,{key:3,onClick:e.handlePaste,secondary:"",size:"small",type:"info",title:`Auto Paste [${e.autoPasteConvertMode}]`},{icon:c(()=>[y(C)]),_:1},8,["onClick","title"])):$("",!0)])}const Ye=Y(On,[["render",xn]]),Dn=P({name:"TranslateItem",components:{FieldEdit:Ye,ClipboardPaste20Regular:ke,Delete20Regular:We},props:{item:{type:Object,default:null},treeItem:{type:Object,default:null},isLite:{type:Boolean,default:!1},index:{type:Number,required:!0}},emits:["onRemove","previewArray","onKeyClick"],setup(e,{emit:t}){const{t:s}=Le(),l=Ke(),{item:o,treeItem:m,index:v}=we(e),h=j(()=>{if(!m.value)return"";const u=[];let p=m.value;for(;p;)u.push(p.namespace),p=p.parent||null;return u.reverse().join(".")}),g=j(()=>{if(!o.value||!o.value.value&&!o.value.key)return"";let u=o.value.key;h.value&&(u=h.value+"."+u);const p=new RegExp(Lt+".","g");return u=u.replace(p,""),u}),C=T(!1),f=()=>{var p;C.value=!1;const u=((p=m.value)==null?void 0:p.translates)||[];for(let B=0;B<u.length;B++){const J=u[B];if(v.value!==B&&J.key===o.value.key){C.value=!0;break}}},A=T(null),I=u=>{let p="";u===ae.ORIGINAL?p=`$t('${g.value}')`:u===ae.TEMPLATE?p=`{{ $t('${g.value}') }}`:u===ae.VHTML?p=`v-html="$t('${g.value}')"`:u===ae.DOLLART&&(p=`this.$t('${g.value}')`),A.value=u,l.trLastCopyMode=u,Ge(p),window.$message.success(s("msgs.copy_success")+p)},i=()=>{o.value.key||(o.value.key=zt(o.value.value),f())},b=T();return Ue(()=>{o.value&&(l.trAutoAddGuid!==null&&o.value.key===l.trAutoAddGuid?(l.trAutoAddGuid=null,o.value.key="",i(),setTimeout(()=>{I(l.trLastCopyMode)})):l.trIsManualAdd&&(b.value&&b.value.focus(),l.trIsManualAdd=!1))}),{copyModeOptions:Dt,namespacePrefix:h,nameDisplay:g,highlightCopyMode:A,handleCopy:I,handleValueBlur:i,handleKeyBlur(){f()},handleInputKeyClick(u){t("onKeyClick",g.value,u)},isKeyDuplicated:C,valueInputRef:b}}}),zn=["data-id"],Ln={key:0,class:"mc-error-tip-button",title:"Key duplicated, may cause bug!"};function Hn(e,t,s,l,o,m){const v=X,h=Ye,g=Te,C=Ze,f=z("Delete20Regular"),A=qe,I=Qe;return e.item?(r(),M("div",{key:0,"data-id":e.item.key,class:Je(["translate-item",{isLite:e.isLite,isKeyDuplicated:e.isKeyDuplicated}])},[y(I,{size:"small",justify:"space-between"},{default:c(()=>[y(I,{size:"small",align:"center"},{default:c(()=>[e.isKeyDuplicated?(r(),M("div",Ln,"!")):$("",!0),y(v,{size:"small",class:"font-code translate-item-input jssl_key",value:e.item.key,"onUpdate:value":t[0]||(t[0]=i=>e.item.key=i),placeholder:"key",onClick:e.handleInputKeyClick,onBlur:e.handleKeyBlur,readonly:e.isLite},null,8,["value","onClick","onBlur","readonly"]),e.isLite?$("",!0):(r(),_(h,{key:1,ref:"valueInputRef",modelValue:e.item.value,"onUpdate:modelValue":t[1]||(t[1]=i=>e.item.value=i),onOnValueBlur:e.handleValueBlur,onPreviewArray:t[2]||(t[2]=i=>e.$emit("previewArray",e.item))},null,8,["modelValue","onOnValueBlur"])),!e.isLite&&e.nameDisplay?(r(),_(C,{key:2,size:"small"},{default:c(()=>[(r(!0),M(se,null,_e(e.copyModeOptions,i=>(r(),_(g,{key:i.value,title:i.desc,size:"small",secondary:i.value!==e.highlightCopyMode,type:"success",onClick:b=>e.handleCopy(i.value)},{default:c(()=>[L(x(i.label),1)]),_:2},1032,["title","secondary","onClick"]))),128))]),_:1})):$("",!0),e.isLite?$("",!0):(r(),_(A,{key:3,onPositiveClick:t[3]||(t[3]=i=>e.$emit("onRemove"))},{trigger:c(()=>[y(g,{tertiary:"",size:"small",type:"error"},{icon:c(()=>[y(f)]),_:1})]),default:c(()=>[L(" "+x(e.$t("msgs.remove_item")),1)]),_:1}))]),_:1}),y(I)]),_:1})],10,zn)):$("",!0)}const et=Y(Dn,[["render",Hn]]),En=()=>{const e=T(!1),t=Ht(null),s=T("");return W(e,l=>{l||(t.value=null,s.value="")}),{isShowArrayEdit:e,curTranslateItem:t,currentArrayString:s,handlePreviewArray(l){t.value=l,s.value=JSON.stringify(l.value,null,2),e.value=!0},handleSaveArray(l){if(t.value)try{t.value.value=JSON.parse(l||"[]"),e.value=!1}catch(o){console.error(o),window.$message.error(o.message)}}}},Fn=P({name:"TranslateTreeItem",components:{Delete20Regular:We,TranslateItem:et,DialogTextEdit:Xe,AddSquare20Regular:hn,Add20Regular:mn,ClipboardPaste20Regular:ke,Copy20Regular:Et,Globe16Regular:Tn},props:{item:{type:Object,default:null},isRoot:{type:Boolean,default:!0},isLite:{type:Boolean,default:!1},index:{type:Number,required:!0},title:{type:String,default:""}},emits:["onRemove","onKeyClick"],setup(e){const{item:t,index:s}=we(e),l=Ke(),o=re(),m=()=>{l.trIsManualAdd=!0,t.value.children.push(jt({parent:t.value}))},v=()=>{l.trIsManualAdd=!0,t.value.translates.push(Pe())},h=async()=>{let i=await Fe();i=je(i,o.autoPasteTextConvertMode,{isTrimQuotes:o.autoPasteTrimQuotes}),l.trAutoAddGuid=Kt(),t.value.translates.push(Pe({key:l.trAutoAddGuid,value:i}))},g=T(!0),C=j(()=>{if(!t.value)return"";const i=[];let b=t.value;for(;b;)i.push(b.namespace),b=b.parent||null;return i.pop(),i.shift(),i.reverse().join(".")}),f=T(!1),A=()=>{var b,u;f.value=!1;const i=((u=(b=t.value)==null?void 0:b.parent)==null?void 0:u.children)||[];for(let p=0;p<i.length;p++){const B=i[p];if(s.value!==p&&B.namespace===t.value.namespace){f.value=!0;break}}},I=T();return Ue(()=>{l.trIsManualAdd&&(I.value&&I.value.focus(),l.trIsManualAdd=!1)}),{intSettingsStore:o,handleAddChildren:m,handleAddTranslate:v,handleAutoAdd:h,handleGetJSON(){const i=Ft([t.value]);console.log(i),Ge(JSON.stringify(i,null,2)),window.$message.success("JSON Copied")},handleRemoveTreeItem(i){const b=[...t.value.children];b.splice(i,1),t.value.children=b},handleRemoveItem(i){const b=[...t.value.translates];b.splice(i,1),t.value.translates=b},isExpand:g,isKeyDuplicated:f,checkDuplicatedGroupKey:A,namespacePrefix:C,namespaceInputRef:I,...En()}}}),tt=e=>(Jt("data-v-8f395003"),e=e(),Zt(),e),jn={class:"group-header"},Kn=tt(()=>R("div",{class:"mc-error-tip-button"},"!",-1)),Un={key:0,style:{color:"darkseagreen"}},Gn={key:0},Jn={key:0,class:"tr-list"},Zn={class:"actions-wrap"},qn=tt(()=>R("div",{class:"split-line"},null,-1)),Qn={class:"actions-wrap"},Wn={class:"namespace-display"};function Xn(e,t,s,l,o,m){const v=en,h=z("Globe16Regular"),g=Ut,C=X,f=z("Copy20Regular"),A=Te,I=z("Delete20Regular"),i=qe,b=Ze,u=Qe,p=et,B=z("Add20Regular"),J=z("ClipboardPaste20Regular"),ue=z("TranslateTreeItem",!0),K=z("AddSquare20Regular"),ee=Xe,te=Gt;return e.item?(r(),_(te,{key:0,size:"small",class:Je(["tree-item",{isKeyDuplicated:e.isKeyDuplicated}])},{default:c(()=>[R("div",jn,[e.isKeyDuplicated?(r(),_(v,{key:0,trigger:"hover"},{trigger:c(()=>[Kn]),default:c(()=>[L(" Group namespace duplicated, may cause bug! ")]),_:1})):$("",!0),e.isRoot?(r(),_(C,{key:1,ref:"namespaceInputRef",size:"small",class:"font-code",value:e.title||e.item.namespace,disabled:"",style:{flex:"1"}},{prefix:c(()=>[y(g,{color:"red",size:"16"},{default:c(()=>[y(h)]),_:1})]),_:1},8,["value"])):(r(),_(C,{key:2,ref:"namespaceInputRef",size:"small",class:"font-code",value:e.item.namespace,"onUpdate:value":t[0]||(t[0]=V=>e.item.namespace=V),placeholder:"namespace",style:{flex:"1"},readonly:e.isLite,onBlur:e.checkDuplicatedGroupKey},{prefix:c(()=>[y(g,{color:"darkseagreen",size:"16",title:e.namespacePrefix},{default:c(()=>[y(h)]),_:1},8,["title"]),e.isLite?$("",!0):(r(),M("span",Un,x(e.namespacePrefix+(e.namespacePrefix?".":"")),1))]),_:1},8,["value","readonly","onBlur"])),e.isLite?$("",!0):(r(),_(u,{key:3,style:{"margin-left":"10px"},align:"center"},{default:c(()=>[y(b,null,{default:c(()=>[y(A,{size:"small",tertiary:"",type:"info",onClick:e.handleGetJSON,title:`${e.$t("actions.copy")} JSON`},{icon:c(()=>[y(f)]),_:1},8,["onClick","title"]),e.isRoot?$("",!0):(r(),_(i,{key:0,onPositiveClick:t[1]||(t[1]=V=>e.$emit("onRemove"))},{trigger:c(()=>[y(A,{tertiary:"",type:"error",size:"small"},{icon:c(()=>[y(I)]),_:1})]),default:c(()=>[L(" "+x(e.$t("msgs.remove_group")),1)]),_:1})),y(A,{size:"small",secondary:"",onClick:t[2]||(t[2]=V=>e.isExpand=!e.isExpand),title:"Toggle Expand"},{default:c(()=>[L(x(e.isExpand?"👀":"🙈"),1)]),_:1})]),_:1})]),_:1}))]),e.isExpand?(r(),M("div",Gn,[e.item.translates&&e.item.translates.length?(r(),M("div",Jn,[(r(!0),M(se,null,_e(e.item.translates,(V,k)=>(r(),_(p,{item:V,"tree-item":e.item,key:k,index:k,"is-lite":e.isLite,onPreviewArray:e.handlePreviewArray,onOnRemove:O=>e.handleRemoveItem(k),onOnKeyClick:t[3]||(t[3]=(...O)=>e.$emit("onKeyClick",...O))},null,8,["item","tree-item","index","is-lite","onPreviewArray","onOnRemove"]))),128))])):$("",!0),R("div",Zn,[e.isLite?$("",!0):(r(),_(b,{key:0},{default:c(()=>[y(A,{size:"small",title:"Add translate item",type:"info",onClick:e.handleAddTranslate},{icon:c(()=>[y(B)]),default:c(()=>[L(" "+x(e.$t("common.field")),1)]),_:1},8,["onClick"]),y(A,{size:"small",type:"info",secondary:"",onClick:e.handleAutoAdd,title:`Auto Paste (${e.intSettingsStore.autoPasteTextConvertMode}) and copy key`},{icon:c(()=>[y(J)]),default:c(()=>[L(" Auto Paste ")]),_:1},8,["onClick","title"])]),_:1}))]),qn,e.item.children&&e.item.children.length?(r(!0),M(se,{key:1},_e(e.item.children,(V,k)=>(r(),_(ue,{item:V,key:k,index:k,"is-root":!1,"is-lite":e.isLite,onOnRemove:O=>e.handleRemoveTreeItem(k),onPreviewArray:e.handlePreviewArray,onOnKeyClick:t[4]||(t[4]=(...O)=>e.$emit("onKeyClick",...O))},null,8,["item","index","is-lite","onOnRemove","onPreviewArray"]))),128)):$("",!0),R("div",Qn,[R("span",Wn,x(e.namespacePrefix?e.namespacePrefix+".":"")+x(e.item.namespace),1),e.isLite?$("",!0):(r(),_(A,{key:0,type:"primary",onClick:e.handleAddChildren,title:"Add translate children group"},{icon:c(()=>[y(K)]),default:c(()=>[L(" "+x(e.$t("common.group")),1)]),_:1},8,["onClick"]))])])):$("",!0),y(ee,{"is-textarea":"",title:e.$t("common.array_detail"),placeholder:"Array JSON String",visible:e.isShowArrayEdit,"onUpdate:visible":t[5]||(t[5]=V=>e.isShowArrayEdit=V),text:e.currentArrayString,onOnSave:e.handleSaveArray},null,8,["title","visible","text","onOnSave"])]),_:1},8,["class"])):$("",!0)}const to=Y(Fn,[["render",Xn],["__scopeId","data-v-8f395003"]]),no="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.5%201C9.78557%201%2011.0423%201.38123%2012.1112%202.09546C13.1801%202.80969%2014.0132%203.82483%2014.5052%205.01257C14.8972%205.95898%2015.0586%206.98108%2014.9811%207.99524C14.8962%209.10645%2014.5267%2010.1801%2013.9046%2011.1112C13.1903%2012.1802%2012.1752%2013.0133%2010.9874%2013.5052C9.79973%2013.9972%208.4928%2014.126%207.23192%2013.8751C5.97104%2013.6243%204.81285%2013.0052%203.90381%2012.0962C2.99476%2011.1871%202.3757%2010.0289%202.12489%208.76807C1.8741%207.5072%202.00282%206.20032%202.49478%205.01257C2.98675%203.82483%203.81987%202.80969%204.88879%202.09546C5.95772%201.38123%207.21443%201%208.5%201ZM13.394%205C12.7527%203.75281%2011.6613%202.79626%2010.3412%202.32373C10.7845%203.16357%2011.106%204.0647%2011.294%205H13.394ZM13.9765%207.99524C13.9918%207.83081%2013.9997%207.66553%2014%207.5C13.999%206.99255%2013.9273%206.48767%2013.787%206H11.445C11.477%206.33105%2011.5%206.66406%2011.5%207C11.4997%207.12598%2011.4971%207.25195%2011.4921%207.37769C11.4917%207.38623%2011.4914%207.39417%2011.4911%207.40271C11.4834%207.58289%2011.4709%207.76331%2011.4536%207.94263C11.4192%208.29749%2011.366%208.65039%2011.294%209H13.787C13.8815%208.67139%2013.9449%208.33496%2013.9765%207.99524ZM10.4408%207.99524C10.4428%207.97815%2010.4447%207.96106%2010.4466%207.94397C10.4808%207.63074%2010.4987%207.31567%2010.5%207C10.4933%206.66553%2010.4679%206.33167%2010.424%206H6.576C6.53207%206.33167%206.5067%206.66553%206.5%207C6.50274%207.67334%206.5809%208.34412%206.733%209H10.267C10.3439%208.66833%2010.4019%208.33289%2010.4408%207.99524ZM10.249%205C10.1607%204.60352%2010.0465%204.21399%209.90597%203.83447C9.67117%203.2019%209.36551%202.59644%208.994%202.03003C8.83%202.01599%208.666%202%208.5%202C8.39551%202%208.29182%202.00635%208.18843%202.01453C8.12755%202.01929%208.06677%202.02478%208.00599%202.03003L8%202.03918C7.40887%202.94299%206.98573%203.9458%206.75101%205H10.249ZM5.70601%205C5.89779%204.0647%206.22313%203.16174%206.672%202.31897C5.34599%202.78979%204.24946%203.74866%203.606%205H5.70601ZM3.213%206C3.07269%206.48767%203.00101%206.99255%203%207.5C3.00101%208.00745%203.07269%208.51233%203.213%209H5.70601C5.57043%208.34192%205.50142%207.67188%205.5%207C5.5%206.66406%205.52301%206.33105%205.55501%206H3.213ZM5.96701%2010H3.60701C3.98501%2010.7384%204.52472%2011.382%205.18594%2011.8829C5.84715%2012.3838%206.61285%2012.729%207.42601%2012.8931C6.78598%2012.0142%206.2932%2011.0371%205.96701%2010ZM8.5%2012.644C9.13943%2011.8531%209.63927%2010.959%209.97799%2010H7.022C7.36075%2010.959%207.86058%2011.8531%208.5%2012.644ZM11.033%2010C10.7068%2011.0371%2010.214%2012.0142%209.574%2012.8931C10.3872%2012.729%2011.1528%2012.3838%2011.8141%2011.8829C12.4753%2011.382%2013.015%2010.7384%2013.393%2010H11.033Z'%20fill='%23689f57'/%3e%3c/svg%3e";export{We as D,eo as _,to as a,Ye as b,Xe as c,no as i,re as u};
